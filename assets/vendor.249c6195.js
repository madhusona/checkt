var e={exports:{}},t={},n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var a,s,u=o(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(n){s=n(a);for(var h=0;h<s.length;h++)i.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u},s=a,u=60103,c=60106;
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var l=60109,h=60110,f=60112;t.Suspense=60113;var d=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var v=Symbol.for;u=v("react.element"),c=v("react.portal"),t.Fragment=v("react.fragment"),t.StrictMode=v("react.strict_mode"),t.Profiler=v("react.profiler"),l=v("react.provider"),h=v("react.context"),f=v("react.forward_ref"),t.Suspense=v("react.suspense"),d=v("react.memo"),p=v("react.lazy")}var g="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var E=T.prototype=new _;E.constructor=T,s(E,w.prototype),E.isPureReactComponent=!0;var I={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:u,type:e,key:o,ref:a,props:i,_owner:I.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var A=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case u:case c:a=!0}}if(a)return i=i(a=e),e=""===r?"."+P(a,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),x(i,t,n,"",(function(e){return e}))):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=r+P(o=e[s],s);a+=x(o,t,n,l,i)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),s=0;!(o=e.next()).done;)a+=x(o=o.value,t,n,l=r+P(o,s++),i);else if("object"===o)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function R(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function L(){var e=O.current;if(null===e)throw Error(m(321));return e}var M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:s};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error(m(143));return e}},t.Component=w,t.PureComponent=T,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(m(267,e));var r=s({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!k.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:u,type:e.type,key:i,ref:o,props:r,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="17.0.2",e.exports=t;var F=e.exports,U={exports:{}},j={},q={exports:{}},V={};
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){var t,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(n){throw setTimeout(l,0),n}};t=function(e){null!==u?setTimeout(t,0,e):(u=e,setTimeout(l,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var d=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof d&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,g=-1,m=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},i=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();y=t+m;try{v(!0,t)?w.postMessage(null):(p=!1,v=null)}catch(n){throw w.postMessage(null),n}}else p=!1},t=function(e){v=e,p||(p=!0,w.postMessage(null))},n=function(t,n){g=h((function(){t(e.unstable_now())}),n)},r=function(){f(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],k=[],C=1,N=null,A=3,P=!1,x=!1,R=!1;function D(e){for(var t=T(k);null!==t;){if(null===t.callback)E(k);else{if(!(t.startTime<=e))break;E(k),t.sortIndex=t.expirationTime,_(S,t)}t=T(k)}}function O(e){if(R=!1,D(e),!x)if(null!==T(S))x=!0,t(L);else{var r=T(k);null!==r&&n(O,r.startTime-e)}}function L(t,i){x=!1,R&&(R=!1,r()),P=!0;var o=A;try{for(D(i),N=T(S);null!==N&&(!(N.expirationTime>i)||t&&!e.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?N.callback=s:N===T(S)&&E(S),D(i)}else E(S);N=T(S)}if(null!==N)var u=!0;else{var c=T(k);null!==c&&n(O,c.startTime-i),u=!1}return u}finally{N=null,A=o,P=!1}}var M=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){x||P||(x=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return T(S)},e.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_scheduleCallback=function(i,o,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,i){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return i={id:C++,callback:o,priorityLevel:i,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(i.sortIndex=a,_(k,i),null===T(S)&&i===T(k)&&(R?r():R=!0,n(O,a-s))):(i.sortIndex=u,_(S,i),x||P||(x=!0,t(L))),i},e.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}}(V),q.exports=V;
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var B=e.exports,z=a,K=q.exports;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!B)throw Error(W(227));var H=new Set,G={};function Q(e,t){$(e,t),$(e+"Capture",t)}function $(e,t){for(G[e]=t,e=0;e<t.length;e++)H.add(t[e])}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J=Object.prototype.hasOwnProperty,Z={},ee={};function te(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ne[e]=new te(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ne[t]=new te(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ne[e]=new te(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ne[e]=new te(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ne[e]=new te(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ne[e]=new te(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ne[e]=new te(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ne[e]=new te(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ne[e]=new te(e,5,!1,e.toLowerCase(),null,!1,!1)}));var re=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}function oe(e,t,n,r){var i=ne.hasOwnProperty(t)?ne[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!J.call(ee,e)||!J.call(Z,e)&&(X.test(e)?ee[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(re,ie);ne[t]=new te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!1,!1)})),ne.xlinkHref=new te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ne[e]=new te(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ae=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=60103,ue=60106,ce=60107,le=60108,he=60114,fe=60109,de=60110,pe=60112,ve=60113,ge=60120,me=60115,ye=60116,be=60121,we=60128,_e=60129,Te=60130,Ee=60131;if("function"==typeof Symbol&&Symbol.for){var Ie=Symbol.for;se=Ie("react.element"),ue=Ie("react.portal"),ce=Ie("react.fragment"),le=Ie("react.strict_mode"),he=Ie("react.profiler"),fe=Ie("react.provider"),de=Ie("react.context"),pe=Ie("react.forward_ref"),ve=Ie("react.suspense"),ge=Ie("react.suspense_list"),me=Ie("react.memo"),ye=Ie("react.lazy"),be=Ie("react.block"),Ie("react.scope"),we=Ie("react.opaque.id"),_e=Ie("react.debug_trace_mode"),Te=Ie("react.offscreen"),Ee=Ie("react.legacy_hidden")}var Se,ke="function"==typeof Symbol&&Symbol.iterator;function Ce(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ke&&e[ke]||e["@@iterator"])?e:null}function Ne(e){if(void 0===Se)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Se=t&&t[1]||""}return"\n"+Se+e}var Ae=!1;function Pe(e,t){if(!e||Ae)return"";Ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ne(e):""}function xe(e){switch(e.tag){case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 2:case 15:return e=Pe(e.type,!1);case 11:return e=Pe(e.type.render,!1);case 22:return e=Pe(e.type._render,!1);case 1:return e=Pe(e.type,!0);default:return""}}function Re(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ce:return"Fragment";case ue:return"Portal";case he:return"Profiler";case le:return"StrictMode";case ve:return"Suspense";case ge:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case me:return Re(e.type);case be:return Re(e._render);case ye:t=e._payload,e=e._init;try{return Re(e(t))}catch(n){}}return null}function De(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Le(e){e._valueTracker||(e._valueTracker=function(e){var t=Oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function je(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=De(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function qe(e,t){null!=(t=t.checked)&&oe(e,"checked",t,!1)}function Ve(e,t){qe(e,t);var n=De(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ze(e,t.type,n):t.hasOwnProperty("defaultValue")&&ze(e,t.type,De(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Be(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ze(e,t,n){"number"===t&&Fe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ke(e,t){return e=z({children:void 0},t),(t=function(e){var t="";return B.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function We(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+De(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function He(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(W(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ge(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(W(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(W(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:De(n)}}function Qe(e,t){var n=De(t.value),r=De(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function $e(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ye="http://www.w3.org/1999/xhtml",Xe="http://www.w3.org/2000/svg";function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var et,tt,nt=(tt=function(e,t){if(e.namespaceURI!==Xe||"innerHTML"in e)e.innerHTML=t;else{for((et=et||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=et.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return tt(e,t)}))}:tt);function rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","ms","Moz","O"];function at(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||it.hasOwnProperty(e)&&it[e]?(""+t).trim():t+"px"}function st(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=at(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(it).forEach((function(e){ot.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),it[t]=it[e]}))}));var ut=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(e,t){if(t){if(ut[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(W(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(W(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(W(62))}}function lt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ht(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ft=null,dt=null,pt=null;function vt(e){if(e=ji(e)){if("function"!=typeof ft)throw Error(W(280));var t=e.stateNode;t&&(t=Vi(t),ft(e.stateNode,e.type,t))}}function gt(e){dt?pt?pt.push(e):pt=[e]:dt=e}function mt(){if(dt){var e=dt,t=pt;if(pt=dt=null,vt(e),t)for(e=0;e<t.length;e++)vt(t[e])}}function yt(e,t){return e(t)}function bt(e,t,n,r,i){return e(t,n,r,i)}function wt(){}var _t=yt,Tt=!1,Et=!1;function It(){null===dt&&null===pt||(wt(),mt())}function St(e,t){var n=e.stateNode;if(null===n)return null;var r=Vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(W(231,t,typeof n));return n}var kt=!1;if(Y)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){kt=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch(tt){kt=!1}function Nt(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var At=!1,Pt=null,xt=!1,Rt=null,Dt={onError:function(e){At=!0,Pt=e}};function Ot(e,t,n,r,i,o,a,s,u){At=!1,Pt=null,Nt.apply(Dt,arguments)}function Lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Mt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ft(e){if(Lt(e)!==e)throw Error(W(188))}function Ut(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Lt(e)))throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ft(i),e;if(o===r)return Ft(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(3!==n.tag)throw Error(W(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function jt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var qt,Vt,Bt,zt,Kt=!1,Wt=[],Ht=null,Gt=null,Qt=null,$t=new Map,Yt=new Map,Xt=[],Jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function en(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":$t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yt.delete(t.pointerId)}}function tn(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Zt(t,n,r,i,o),null!==t&&(null!==(t=ji(t))&&Vt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function nn(e){var t=Ui(e.target);if(null!==t){var n=Lt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Mt(n)))return e.blockedOn=t,void zt(e.lanePriority,(function(){K.unstable_runWithPriority(e.priority,(function(){Bt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function rn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=jn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ji(n))&&Vt(t),e.blockedOn=n,!1;t.shift()}return!0}function on(e,t,n){rn(e)&&n.delete(t)}function an(){for(Kt=!1;0<Wt.length;){var e=Wt[0];if(null!==e.blockedOn){null!==(e=ji(e.blockedOn))&&qt(e);break}for(var t=e.targetContainers;0<t.length;){var n=jn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Wt.shift()}null!==Ht&&rn(Ht)&&(Ht=null),null!==Gt&&rn(Gt)&&(Gt=null),null!==Qt&&rn(Qt)&&(Qt=null),$t.forEach(on),Yt.forEach(on)}function sn(e,t){e.blockedOn===t&&(e.blockedOn=null,Kt||(Kt=!0,K.unstable_scheduleCallback(K.unstable_NormalPriority,an)))}function un(e){function t(t){return sn(t,e)}if(0<Wt.length){sn(Wt[0],e);for(var n=1;n<Wt.length;n++){var r=Wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ht&&sn(Ht,e),null!==Gt&&sn(Gt,e),null!==Qt&&sn(Qt,e),$t.forEach(t),Yt.forEach(t),n=0;n<Xt.length;n++)(r=Xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&null===(n=Xt[0]).blockedOn;)nn(n),null===n.blockedOn&&Xt.shift()}function cn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionend:cn("Transition","TransitionEnd")},hn={},fn={};function dn(e){if(hn[e])return hn[e];if(!ln[e])return e;var t,n=ln[e];for(t in n)if(n.hasOwnProperty(t)&&t in fn)return hn[e]=n[t];return e}Y&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var pn=dn("animationend"),vn=dn("animationiteration"),gn=dn("animationstart"),mn=dn("transitionend"),yn=new Map,bn=new Map,wn=["abort","abort",pn,"animationEnd",vn,"animationIteration",gn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",mn,"transitionEnd","waiting","waiting"];function _n(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),bn.set(r,t),yn.set(r,i),Q(i,[r])}}(0,K.unstable_now)();var Tn=8;function En(e){if(0!=(1&e))return Tn=15,1;if(0!=(2&e))return Tn=14,2;if(0!=(4&e))return Tn=13,4;var t=24&e;return 0!==t?(Tn=12,t):0!=(32&e)?(Tn=11,32):0!==(t=192&e)?(Tn=10,t):0!=(256&e)?(Tn=9,256):0!==(t=3584&e)?(Tn=8,t):0!=(4096&e)?(Tn=7,4096):0!==(t=4186112&e)?(Tn=6,t):0!==(t=62914560&e)?(Tn=5,t):67108864&e?(Tn=4,67108864):0!=(134217728&e)?(Tn=3,134217728):0!==(t=805306368&e)?(Tn=2,t):0!=(1073741824&e)?(Tn=1,1073741824):(Tn=8,e)}function In(e,t){var n=e.pendingLanes;if(0===n)return Tn=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Tn=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=En(u),i=Tn):0!==(s&=o)&&(r=En(s),i=Tn)}else 0!==(o=n&~a)?(r=En(o),i=Tn):0!==s&&(r=En(s),i=Tn);if(0===r)return 0;if(r=n&((0>(r=31-Pn(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(En(t),i<=Tn)return t;Tn=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Pn(t)),r|=e[n],t&=~i;return r}function Sn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kn(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Cn(24&~t))?kn(10,t):e;case 10:return 0===(e=Cn(192&~t))?kn(8,t):e;case 8:return 0===(e=Cn(3584&~t))&&(0===(e=Cn(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Cn(805306368&~t))&&(t=268435456),t}throw Error(W(358,e))}function Cn(e){return e&-e}function Nn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function An(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Pn(t)]=n}var Pn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(xn(e)/Rn|0)|0},xn=Math.log,Rn=Math.LN2;var Dn=K.unstable_UserBlockingPriority,On=K.unstable_runWithPriority,Ln=!0;function Mn(e,t,n,r){Tt||wt();var i=Un,o=Tt;Tt=!0;try{bt(i,e,t,n,r)}finally{(Tt=o)||It()}}function Fn(e,t,n,r){On(Dn,Un.bind(null,e,t,n,r))}function Un(e,t,n,r){var i;if(Ln)if((i=0==(4&t))&&0<Wt.length&&-1<Jt.indexOf(e))e=Zt(null,e,t,n,r),Wt.push(e);else{var o=jn(e,t,n,r);if(null===o)i&&en(e,r);else{if(i){if(-1<Jt.indexOf(e))return e=Zt(o,e,t,n,r),void Wt.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return Ht=tn(Ht,e,t,n,r,i),!0;case"dragenter":return Gt=tn(Gt,e,t,n,r,i),!0;case"mouseover":return Qt=tn(Qt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return $t.set(o,tn($t.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yt.set(o,tn(Yt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;en(e,r)}mi(e,t,r,null,n)}}}function jn(e,t,n,r){var i=ht(r);if(null!==(i=Ui(i))){var o=Lt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Mt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return mi(e,t,r,i,n),null}var qn=null,Vn=null,Bn=null;function zn(){if(Bn)return Bn;var e,t,n=Vn,r=n.length,i="value"in qn?qn.value:qn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wn(){return!0}function Hn(){return!1}function Gn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wn:Hn,this.isPropagationStopped=Hn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var Qn,$n,Yn,Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jn=Gn(Xn),Zn=z({},Xn,{view:0,detail:0}),er=Gn(Zn),tr=z({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&"mousemove"===e.type?(Qn=e.screenX-Yn.screenX,$n=e.screenY-Yn.screenY):$n=Qn=0,Yn=e),Qn)},movementY:function(e){return"movementY"in e?e.movementY:$n}}),nr=Gn(tr),rr=Gn(z({},tr,{dataTransfer:0})),ir=Gn(z({},Zn,{relatedTarget:0})),or=Gn(z({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0})),ar=Gn(z({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),sr=Gn(z({},Xn,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=lr[e])&&!!t[e]}function fr(){return hr}var dr=Gn(z({},Zn,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Gn(z({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vr=Gn(z({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),gr=Gn(z({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0})),mr=Gn(z({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=[9,13,27,32],br=Y&&"CompositionEvent"in window,wr=null;Y&&"documentMode"in document&&(wr=document.documentMode);var _r=Y&&"TextEvent"in window&&!wr,Tr=Y&&(!br||wr&&8<wr&&11>=wr),Er=String.fromCharCode(32),Ir=!1;function Sr(e,t){switch(e){case"keyup":return-1!==yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nr[e.type]:"textarea"===t}function Pr(e,t,n,r){gt(r),0<(t=bi(t,"onChange")).length&&(n=new Jn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xr=null,Rr=null;function Dr(e){hi(e,0)}function Or(e){if(Me(qi(e)))return e}function Lr(e,t){if("change"===e)return t}var Mr=!1;if(Y){var Fr;if(Y){var Ur="oninput"in document;if(!Ur){var jr=document.createElement("div");jr.setAttribute("oninput","return;"),Ur="function"==typeof jr.oninput}Fr=Ur}else Fr=!1;Mr=Fr&&(!document.documentMode||9<document.documentMode)}function qr(){xr&&(xr.detachEvent("onpropertychange",Vr),Rr=xr=null)}function Vr(e){if("value"===e.propertyName&&Or(Rr)){var t=[];if(Pr(t,Rr,e,ht(e)),e=Dr,Tt)e(t);else{Tt=!0;try{yt(e,t)}finally{Tt=!1,It()}}}}function Br(e,t,n){"focusin"===e?(qr(),Rr=n,(xr=t).attachEvent("onpropertychange",Vr)):"focusout"===e&&qr()}function zr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Or(Rr)}function Kr(e,t){if("click"===e)return Or(t)}function Wr(e,t){if("input"===e||"change"===e)return Or(t)}var Hr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Gr=Object.prototype.hasOwnProperty;function Qr(e,t){if(Hr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Gr.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var n,r=$r(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$r(r)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Fe((e=t.contentWindow).document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ei=Y&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,ri=null,ii=!1;function oi(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ti||ti!==Fe(r)||("selectionStart"in(r=ti)&&Zr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ri&&Qr(ri,r)||(ri=r,0<(r=bi(ni,"onSelect")).length&&(t=new Jn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}_n("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),_n("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),_n(wn,2);for(var ai="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),si=0;si<ai.length;si++)bn.set(ai[si],0);$("onMouseEnter",["mouseout","mouseover"]),$("onMouseLeave",["mouseout","mouseover"]),$("onPointerEnter",["pointerout","pointerover"]),$("onPointerLeave",["pointerout","pointerover"]),Q("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Q("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Q("onBeforeInput",["compositionend","keypress","textInput","paste"]),Q("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Q("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Q("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function li(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,u){if(Ot.apply(this,arguments),At){if(!At)throw Error(W(198));var c=Pt;At=!1,Pt=null,xt||(xt=!0,Rt=c)}}(r,t,void 0,e),e.currentTarget=null}function hi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;li(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;li(i,s,c),o=u}}}if(xt)throw e=Rt,xt=!1,Rt=null,e}function fi(e,t){var n=Bi(t),r=e+"__bubble";n.has(r)||(gi(t,e,2,!1),n.add(r))}var di="_reactListening"+Math.random().toString(36).slice(2);function pi(e){e[di]||(e[di]=!0,H.forEach((function(t){ci.has(t)||vi(t,!1,e,null),vi(t,!0,e,null)})))}function vi(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&ci.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=Bi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),gi(o,e,i,t),a.add(s))}function gi(e,t,n,r){var i=bn.get(t);switch(void 0===i?2:i){case 0:i=Mn;break;case 1:i=Fn;break;default:i=Un}n=i.bind(null,t,n,e),i=void 0,!kt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mi(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ui(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Et)return e(t,n);Et=!0;try{_t(e,t,n)}finally{Et=!1,It()}}((function(){var r=o,i=ht(n),a=[];e:{var s=yn.get(e);if(void 0!==s){var u=Jn,c=e;switch(e){case"keypress":if(0===Kn(n))break e;case"keydown":case"keyup":u=dr;break;case"focusin":c="focus",u=ir;break;case"focusout":c="blur",u=ir;break;case"beforeblur":case"afterblur":u=ir;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=vr;break;case pn:case vn:case gn:u=or;break;case mn:u=gr;break;case"scroll":u=er;break;case"wheel":u=mr;break;case"copy":case"cut":case"paste":u=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=pr}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=St(p,f))&&l.push(yi(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Ui(c)&&!c[Mi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ui(c):null)&&(c!==(h=Lt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=nr,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=pr,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:qi(u),d=null==c?s:qi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,Ui(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=wi(d))p++;for(d=0,v=f;v;v=wi(v))d++;for(;0<p-d;)l=wi(l),p--;for(;0<d-p;)f=wi(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=wi(l),f=wi(f)}l=null}else l=null;null!==u&&_i(a,s,u,l,!1),null!==c&&null!==h&&_i(a,h,c,l,!0)}if("select"===(u=(s=r?qi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Lr;else if(Ar(s))if(Mr)g=Wr;else{g=zr;var m=Br}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=Kr);switch(g&&(g=g(e,r))?Pr(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ze(s,"number",s.value)),m=r?qi(r):window,e){case"focusin":(Ar(m)||"true"===m.contentEditable)&&(ti=m,ni=r,ri=null);break;case"focusout":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,oi(a,n,i);break;case"selectionchange":if(ei)break;case"keydown":case"keyup":oi(a,n,i)}var y;if(br)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cr?Sr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tr&&"ko"!==n.locale&&(Cr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Cr&&(y=zn()):(Vn="value"in(qn=i)?qn.value:qn.textContent,Cr=!0)),0<(m=bi(r,b)).length&&(b=new sr(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=kr(n))&&(b.data=y))),(y=_r?function(e,t){switch(e){case"compositionend":return kr(t);case"keypress":return 32!==t.which?null:(Ir=!0,Er);case"textInput":return(e=t.data)===Er&&Ir?null:e;default:return null}}(e,n):function(e,t){if(Cr)return"compositionend"===e||!br&&Sr(e,t)?(e=zn(),Bn=Vn=qn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=bi(r,"onBeforeInput")).length&&(i=new sr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}hi(a,t)}))}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=St(e,n))&&r.unshift(yi(e,o,i)),null!=(o=St(e,t))&&r.push(yi(e,o,i))),e=e.return}return r}function wi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function _i(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=St(n,o))&&a.unshift(yi(n,u,s)):i||null!=(u=St(n,o))&&a.push(yi(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ti(){}var Ei=null,Ii=null;function Si(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ki(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ci="function"==typeof setTimeout?setTimeout:void 0,Ni="function"==typeof clearTimeout?clearTimeout:void 0;function Ai(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Pi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ri=0;var Di=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Di,Li="__reactProps$"+Di,Mi="__reactContainer$"+Di,Fi="__reactEvents$"+Di;function Ui(e){var t=e[Oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Oi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xi(e);null!==e;){if(n=e[Oi])return n;e=xi(e)}return t}n=(e=n).parentNode}return null}function ji(e){return!(e=e[Oi]||e[Mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(W(33))}function Vi(e){return e[Li]||null}function Bi(e){var t=e[Fi];return void 0===t&&(t=e[Fi]=new Set),t}var zi=[],Ki=-1;function Wi(e){return{current:e}}function Hi(e){0>Ki||(e.current=zi[Ki],zi[Ki]=null,Ki--)}function Gi(e,t){Ki++,zi[Ki]=e.current,e.current=t}var Qi={},$i=Wi(Qi),Yi=Wi(!1),Xi=Qi;function Ji(e,t){var n=e.type.contextTypes;if(!n)return Qi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zi(e){return null!=(e=e.childContextTypes)}function eo(){Hi(Yi),Hi($i)}function to(e,t,n){if($i.current!==Qi)throw Error(W(168));Gi($i,t),Gi(Yi,n)}function no(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(W(108,Re(t)||"Unknown",i));return z({},n,r)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,Xi=$i.current,Gi($i,e),Gi(Yi,Yi.current),!0}function io(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=no(e,t,Xi),r.__reactInternalMemoizedMergedChildContext=e,Hi(Yi),Hi($i),Gi($i,e)):Hi(Yi),Gi(Yi,n)}var oo=null,ao=null,so=K.unstable_runWithPriority,uo=K.unstable_scheduleCallback,co=K.unstable_cancelCallback,lo=K.unstable_shouldYield,ho=K.unstable_requestPaint,fo=K.unstable_now,po=K.unstable_getCurrentPriorityLevel,vo=K.unstable_ImmediatePriority,go=K.unstable_UserBlockingPriority,mo=K.unstable_NormalPriority,yo=K.unstable_LowPriority,bo=K.unstable_IdlePriority,wo={},_o=void 0!==ho?ho:function(){},To=null,Eo=null,Io=!1,So=fo(),ko=1e4>So?fo:function(){return fo()-So};function Co(){switch(po()){case vo:return 99;case go:return 98;case mo:return 97;case yo:return 96;case bo:return 95;default:throw Error(W(332))}}function No(e){switch(e){case 99:return vo;case 98:return go;case 97:return mo;case 96:return yo;case 95:return bo;default:throw Error(W(332))}}function Ao(e,t){return e=No(e),so(e,t)}function Po(e,t,n){return e=No(e),uo(e,t,n)}function xo(){if(null!==Eo){var e=Eo;Eo=null,co(e)}Ro()}function Ro(){if(!Io&&null!==To){Io=!0;var e=0;try{var t=To;Ao(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),To=null}catch(n){throw null!==To&&(To=To.slice(e+1)),uo(vo,xo),n}finally{Io=!1}}}var Do=ae.ReactCurrentBatchConfig;function Oo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Lo=Wi(null),Mo=null,Fo=null,Uo=null;function jo(){Uo=Fo=Mo=null}function qo(e){var t=Lo.current;Hi(Lo),e.type._context._currentValue=t}function Vo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Bo(e,t){Mo=e,Uo=Fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bs=!0),e.firstContext=null)}function zo(e,t){if(Uo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Uo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Fo){if(null===Mo)throw Error(W(308));Fo=t,Mo.dependencies={lanes:0,firstContext:t,responders:null}}else Fo=Fo.next=t;return e._currentValue}var Ko=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yo(e,t,n,r){var i=e.updateQueue;Ko=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;if(null!==l){var h=(l=l.updateQueue).lastBaseUpdate;h!==a&&(null===h?l.firstBaseUpdate=c:h.next=c,l.lastBaseUpdate=u)}}if(null!==o){for(h=i.baseState,a=0,l=c=u=null;;){s=o.lane;var f=o.eventTime;if((r&s)===s){null!==l&&(l=l.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,p=o;switch(s=t,f=n,p.tag){case 1:if("function"==typeof(d=p.payload)){h=d.call(f,h,s);break e}h=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(s="function"==typeof(d=p.payload)?d.call(f,h,s):d))break e;h=z({},h,s);break e;case 2:Ko=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else f={eventTime:f,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=f,u=h):l=l.next=f,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,Eu|=a,e.lanes=a,e.memoizedState=h}}function Xo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(W(191,i));i.call(r)}}}var Jo=(new B.Component).refs;function Zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ea={isMounted:function(e){return!!(e=e._reactInternals)&&Lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=$u(e),o=Go(r,i);o.payload=t,null!=n&&(o.callback=n),Qo(e,o),Yu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=$u(e),o=Go(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),Qo(e,o),Yu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qu(),r=$u(e),i=Go(n,r);i.tag=2,null!=t&&(i.callback=t),Qo(e,i),Yu(e,r,n)}};function ta(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qr(n,r)||!Qr(i,o))}function na(e,t,n){var r=!1,i=Qi,o=t.contextType;return"object"==typeof o&&null!==o?o=zo(o):(i=Zi(t)?Xi:$i.current,o=(r=null!=(r=t.contextTypes))?Ji(e,i):Qi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ra(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function ia(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Jo,Wo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=zo(o):(o=Zi(t)?Xi:$i.current,i.context=Ji(e,o)),Yo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ea.enqueueReplaceState(i,i.state,null),Yo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var oa=Array.isArray;function aa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Jo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function sa(e,t){if("textarea"!==e.type)throw Error(W(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ua(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=aa(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=aa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function l(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case se:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=aa(e,null,t),n.return=e,n;case ue:return(t=Dc(t,e.mode,n)).return=e,t}if(oa(t)||Ce(t))return(t=Pc(t,e.mode,n,null)).return=e,t;sa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case se:return n.key===i?n.type===ce?l(e,t,n.props.children,r,i):u(e,t,n,r):null;case ue:return n.key===i?c(e,t,n,r):null}if(oa(n)||Ce(n))return null!==i?null:l(e,t,n,r,null);sa(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case se:return e=e.get(null===r.key?n:r.key)||null,r.type===ce?l(t,e,r.props.children,i,r.key):u(t,e,r,i);case ue:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(oa(r)||Ce(r))return l(t,e=e.get(n)||null,r,i,null);sa(t,r)}return null}return function(s,u,c,l){var p="object"==typeof c&&null!==c&&c.type===ce&&null===c.key;p&&(c=c.props.children);var v="object"==typeof c&&null!==c;if(v)switch(c.$$typeof){case se:e:{for(v=c.key,p=u;null!==p;){if(p.key===v){switch(p.tag){case 7:if(c.type===ce){n(s,p.sibling),(u=i(p,c.props.children)).return=s,s=u;break e}break;default:if(p.elementType===c.type){n(s,p.sibling),(u=i(p,c.props)).ref=aa(s,p,c),u.return=s,s=u;break e}}n(s,p);break}t(s,p),p=p.sibling}c.type===ce?((u=Pc(c.props.children,s.mode,l,c.key)).return=s,s=u):((l=Ac(c.type,c.key,c.props,null,s.mode,l)).ref=aa(s,u,c),l.return=s,s=l)}return a(s);case ue:e:{for(p=c.key;null!==u;){if(u.key===p){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(u=i(u,c.children||[])).return=s,s=u;break e}n(s,u);break}t(s,u),u=u.sibling}(u=Dc(c,s.mode,l)).return=s,s=u}return a(s)}if("string"==typeof c||"number"==typeof c)return c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(u=i(u,c)).return=s,s=u):(n(s,u),(u=Rc(c,s.mode,l)).return=s,s=u),a(s);if(oa(c))return function(i,a,s,u){for(var c=null,l=null,p=a,v=a=0,g=null;null!==p&&v<s.length;v++){p.index>v?(g=p,p=null):g=p.sibling;var m=f(i,p,s[v],u);if(null===m){null===p&&(p=g);break}e&&p&&null===m.alternate&&t(i,p),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,p=g}if(v===s.length)return n(i,p),c;if(null===p){for(;v<s.length;v++)null!==(p=h(i,s[v],u))&&(a=o(p,a,v),null===l?c=p:l.sibling=p,l=p);return c}for(p=r(i,p);v<s.length;v++)null!==(g=d(p,i,v,s[v],u))&&(e&&null!==g.alternate&&p.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&p.forEach((function(e){return t(i,e)})),c}(s,u,c,l);if(Ce(c))return function(i,a,s,u){var c=Ce(s);if("function"!=typeof c)throw Error(W(150));if(null==(s=c.call(s)))throw Error(W(151));for(var l=c=null,p=a,v=a=0,g=null,m=s.next();null!==p&&!m.done;v++,m=s.next()){p.index>v?(g=p,p=null):g=p.sibling;var y=f(i,p,m.value,u);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,p=g}if(m.done)return n(i,p),c;if(null===p){for(;!m.done;v++,m=s.next())null!==(m=h(i,m.value,u))&&(a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return c}for(p=r(i,p);!m.done;v++,m=s.next())null!==(m=d(p,i,v,m.value,u))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&p.forEach((function(e){return t(i,e)})),c}(s,u,c,l);if(v&&sa(s,c),void 0===c&&!p)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(W(152,Re(s.type)||"Component"))}return n(s,u)}}var ca=ua(!0),la=ua(!1),ha={},fa=Wi(ha),da=Wi(ha),pa=Wi(ha);function va(e){if(e===ha)throw Error(W(174));return e}function ga(e,t){switch(Gi(pa,t),Gi(da,e),Gi(fa,ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:t=Ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Hi(fa),Gi(fa,t)}function ma(){Hi(fa),Hi(da),Hi(pa)}function ya(e){va(pa.current);var t=va(fa.current),n=Ze(t,e.type);t!==n&&(Gi(da,e),Gi(fa,n))}function ba(e){da.current===e&&(Hi(fa),Hi(da))}var wa=Wi(0);function _a(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=null,Ea=null,Ia=!1;function Sa(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ca(e){if(Ia){var t=Ea;if(t){var n=t;if(!ka(e,t)){if(!(t=Pi(n.nextSibling))||!ka(e,t))return e.flags=-1025&e.flags|2,Ia=!1,void(Ta=e);Sa(Ta,n)}Ta=e,Ea=Pi(t.firstChild)}else e.flags=-1025&e.flags|2,Ia=!1,Ta=e}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Aa(e){if(e!==Ta)return!1;if(!Ia)return Na(e),Ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ki(t,e.memoizedProps))for(t=Ea;t;)Sa(e,t),t=Pi(t.nextSibling);if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ea=Pi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ea=null}}else Ea=Ta?Pi(e.stateNode.nextSibling):null;return!0}function Pa(){Ea=Ta=null,Ia=!1}var xa=[];function Ra(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var Da=ae.ReactCurrentDispatcher,Oa=ae.ReactCurrentBatchConfig,La=0,Ma=null,Fa=null,Ua=null,ja=!1,qa=!1;function Va(){throw Error(W(321))}function Ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function za(e,t,n,r,i,o){if(La=o,Ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=null===e||null===e.memoizedState?vs:gs,e=n(r,i),qa){o=0;do{if(qa=!1,!(25>o))throw Error(W(301));o+=1,Ua=Fa=null,t.updateQueue=null,Da.current=ms,e=n(r,i)}while(qa)}if(Da.current=ps,t=null!==Fa&&null!==Fa.next,La=0,Ua=Fa=Ma=null,ja=!1,t)throw Error(W(300));return e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ua?Ma.memoizedState=Ua=e:Ua=Ua.next=e,Ua}function Wa(){if(null===Fa){var e=Ma.alternate;e=null!==e?e.memoizedState:null}else e=Fa.next;var t=null===Ua?Ma.memoizedState:Ua.next;if(null!==t)Ua=t,Fa=e;else{if(null===e)throw Error(W(310));e={memoizedState:(Fa=e).memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},null===Ua?Ma.memoizedState=Ua=e:Ua=Ua.next=e}return Ua}function Ha(e,t){return"function"==typeof t?t(e):t}function Ga(e){var t=Wa(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=Fa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,u=i;do{var c=u.lane;if((La&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var l={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(a=s=l,o=r):s=s.next=l,Ma.lanes|=c,Eu|=c}u=u.next}while(null!==u&&u!==i);null===s?o=r:s.next=a,Hr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Qa(e){var t=Wa(),n=t.queue;if(null===n)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Hr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $a(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(La&e)===e)&&(t._workInProgressVersionPrimary=r,xa.push(t))),e)return n(t._source);throw xa.push(t),Error(W(350))}function Ya(e,t,n,r){var i=vu;if(null===i)throw Error(W(349));var o=t._getVersion,a=o(t._source),s=Da.current,u=s.useState((function(){return $a(i,t,n)})),c=u[1],l=u[0];u=Ua;var h=e.memoizedState,f=h.refs,d=f.getSnapshot,p=h.source;h=h.subscribe;var v=Ma;return e.memoizedState={refs:f,source:t,subscribe:r},s.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!Hr(a,e)){e=n(t._source),Hr(l,e)||(c(e),e=$u(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-Pn(s),h=1<<u;r[u]|=e,s&=~h}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=$u(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Hr(d,n)&&Hr(p,t)&&Hr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:l}).dispatch=c=ds.bind(null,Ma,e),u.queue=e,u.baseQueue=null,l=$a(i,t,n),u.memoizedState=u.baseState=l),l}function Xa(e,t,n){return Ya(Wa(),e,t,n)}function Ja(e){var t=Ka();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e}).dispatch=ds.bind(null,Ma,e),[t.memoizedState,e]}function Za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ma.updateQueue)?(t={lastEffect:null},Ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function es(e){return e={current:e},Ka().memoizedState=e}function ts(){return Wa().memoizedState}function ns(e,t,n,r){var i=Ka();Ma.flags|=e,i.memoizedState=Za(1|t,n,void 0,void 0===r?null:r)}function rs(e,t,n,r){var i=Wa();r=void 0===r?null:r;var o=void 0;if(null!==Fa){var a=Fa.memoizedState;if(o=a.destroy,null!==r&&Ba(r,a.deps))return void Za(t,n,o,r)}Ma.flags|=e,i.memoizedState=Za(1|t,n,o,r)}function is(e,t){return ns(516,4,e,t)}function os(e,t){return rs(516,4,e,t)}function as(e,t){return rs(4,2,e,t)}function ss(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function us(e,t,n){return n=null!=n?n.concat([e]):null,rs(4,2,ss.bind(null,t,e),n)}function cs(){}function ls(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hs(e,t){var n=Wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fs(e,t){var n=Co();Ao(98>n?98:n,(function(){e(!0)})),Ao(97<n?97:n,(function(){var n=Oa.transition;Oa.transition=1;try{e(!1),t()}finally{Oa.transition=n}}))}function ds(e,t,n){var r=Qu(),i=$u(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Ma||null!==a&&a===Ma)qa=ja=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,Hr(u,s))return}catch(c){}Yu(e,i,r)}}var ps={readContext:zo,useCallback:Va,useContext:Va,useEffect:Va,useImperativeHandle:Va,useLayoutEffect:Va,useMemo:Va,useReducer:Va,useRef:Va,useState:Va,useDebugValue:Va,useDeferredValue:Va,useTransition:Va,useMutableSource:Va,useOpaqueIdentifier:Va,unstable_isNewReconciler:!1},vs={readContext:zo,useCallback:function(e,t){return Ka().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:is,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ns(4,2,ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=Ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ds.bind(null,Ma,e),[r.memoizedState,e]},useRef:es,useState:Ja,useDebugValue:cs,useDeferredValue:function(e){var t=Ja(e),n=t[0],r=t[1];return is((function(){var t=Oa.transition;Oa.transition=1;try{r(e)}finally{Oa.transition=t}}),[e]),n},useTransition:function(){var e=Ja(!1),t=e[0];return es(e=fs.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=Ka();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ya(r,e,t,n)},useOpaqueIdentifier:function(){if(Ia){var e=!1,t=function(e){return{$$typeof:we,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ri++).toString(36))),Error(W(355))})),n=Ja(t)[1];return 0==(2&Ma.mode)&&(Ma.flags|=516,Za(5,(function(){n("r:"+(Ri++).toString(36))}),void 0,null)),t}return Ja(t="r:"+(Ri++).toString(36)),t},unstable_isNewReconciler:!1},gs={readContext:zo,useCallback:ls,useContext:zo,useEffect:os,useImperativeHandle:us,useLayoutEffect:as,useMemo:hs,useReducer:Ga,useRef:ts,useState:function(){return Ga(Ha)},useDebugValue:cs,useDeferredValue:function(e){var t=Ga(Ha),n=t[0],r=t[1];return os((function(){var t=Oa.transition;Oa.transition=1;try{r(e)}finally{Oa.transition=t}}),[e]),n},useTransition:function(){var e=Ga(Ha)[0];return[ts().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Ga(Ha)[0]},unstable_isNewReconciler:!1},ms={readContext:zo,useCallback:ls,useContext:zo,useEffect:os,useImperativeHandle:us,useLayoutEffect:as,useMemo:hs,useReducer:Qa,useRef:ts,useState:function(){return Qa(Ha)},useDebugValue:cs,useDeferredValue:function(e){var t=Qa(Ha),n=t[0],r=t[1];return os((function(){var t=Oa.transition;Oa.transition=1;try{r(e)}finally{Oa.transition=t}}),[e]),n},useTransition:function(){var e=Qa(Ha)[0];return[ts().current,e]},useMutableSource:Xa,useOpaqueIdentifier:function(){return Qa(Ha)[0]},unstable_isNewReconciler:!1},ys=ae.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?la(t,null,n,r):ca(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=za(e,t,n,r,o,i),null===e||bs?(t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Vs(e,t,i))}function Ts(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Cc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Qr)(i,r)&&e.ref===t.ref)?Vs(e,t,o):(t.flags|=1,(e=Nc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Es(e,t,n,r,i,o){if(null!==e&&Qr(e.memoizedProps,r)&&e.ref===t.ref){if(bs=!1,0==(o&i))return t.lanes=e.lanes,Vs(e,t,o);0!=(16384&e.flags)&&(bs=!0)}return ks(e,t,n,r,o)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},ic(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ic(t,e),null;t.memoizedState={baseLanes:0},ic(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ic(t,r);return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ks(e,t,n,r,i){var o=Zi(n)?Xi:$i.current;return o=Ji(t,o),Bo(t,i),n=za(e,t,n,r,o,i),null===e||bs?(t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Vs(e,t,i))}function Cs(e,t,n,r,i){if(Zi(n)){var o=!0;ro(t)}else o=!1;if(Bo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),na(t,n,r),ia(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=zo(c):c=Ji(t,c=Zi(n)?Xi:$i.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ra(t,a,r,c),Ko=!1;var f=t.memoizedState;a.state=f,Yo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Yi.current||Ko?("function"==typeof l&&(Zo(t,n,l,r),u=t.memoizedState),(s=Ko||ta(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,Ho(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Oo(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=zo(u):u=Ji(t,u=Zi(n)?Xi:$i.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&ra(t,a,r,u),Ko=!1,f=t.memoizedState,a.state=f,Yo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Yi.current||Ko?("function"==typeof d&&(Zo(t,n,d,r),p=t.memoizedState),(c=Ko||ta(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){Ss(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&io(t,n,!1),Vs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ca(t,e.child,null,o),t.child=ca(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&io(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?to(0,t.pendingContext,t.pendingContext!==t.context):t.context&&to(0,t.context,!1),ga(e,t.containerInfo)}var Ps,xs,Rs,Ds={dehydrated:null,retryLane:0};function Os(e,t,n){var r,i=t.pendingProps,o=wa.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Gi(wa,1&o),null===e?(void 0!==i.fallback&&Ca(t),e=i.children,o=i.fallback,a?(e=Ls(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ds,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ls(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ds,t.lanes=33554432,e):((n=xc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Fs(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ds,i):(n=Ms(e,t,i.children,n),t.memoizedState=null,n))}function Ls(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=xc(t,i,0,null),n=Pc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ms(e,t,n,r){var i=e.child;return e=i.sibling,n=Nc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Fs(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Nc(a,s),null!==e?r=Nc(e,r):(r=Pc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Us(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Vo(e.return,t)}function js(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=wa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n);else if(19===e.tag)Us(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gi(wa,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===_a(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===_a(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,o,t.lastEffect);break;case"together":js(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Eu|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(W(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Bs(e,t){if(!Ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Zi(t.type)&&eo(),null;case 3:return ma(),Hi(Yi),Hi($i),Ra(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Aa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ba(t);var i=va(pa.current);if(n=t.type,null!==e&&null!=t.stateNode)xs(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(W(166));return null}if(e=va(fa.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Oi]=t,r[Li]=o,n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(e=0;e<ui.length;e++)fi(ui[e],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":je(r,o),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fi("invalid",r);break;case"textarea":Ge(r,o),fi("invalid",r)}for(var a in ct(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):G.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&fi("scroll",r));switch(n){case"input":Le(r),Be(r,o,!0);break;case"textarea":Le(r),$e(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Ti)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Ye&&(e=Je(n)),e===Ye?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Oi]=t,e[Li]=r,Ps(e,t),t.stateNode=e,a=lt(n,r),n){case"dialog":fi("cancel",e),fi("close",e),i=r;break;case"iframe":case"object":case"embed":fi("load",e),i=r;break;case"video":case"audio":for(i=0;i<ui.length;i++)fi(ui[i],e);i=r;break;case"source":fi("error",e),i=r;break;case"img":case"image":case"link":fi("error",e),fi("load",e),i=r;break;case"details":fi("toggle",e),i=r;break;case"input":je(e,r),i=Ue(e,r),fi("invalid",e);break;case"option":i=Ke(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),fi("invalid",e);break;case"textarea":Ge(e,r),i=He(e,r),fi("invalid",e);break;default:i=r}ct(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];"style"===o?st(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&nt(e,u):"children"===o?"string"==typeof u?("textarea"!==n||""!==u)&&rt(e,u):"number"==typeof u&&rt(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(G.hasOwnProperty(o)?null!=u&&"onScroll"===o&&fi("scroll",e):null!=u&&oe(e,o,u,a))}switch(n){case"input":Le(e),Be(e,r,!1);break;case"textarea":Le(e),$e(e);break;case"option":null!=r.value&&e.setAttribute("value",""+De(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?We(e,!!r.multiple,o,!1):null!=r.defaultValue&&We(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Ti)}Si(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(W(166));n=va(pa.current),va(fa.current),Aa(t)?(r=t.stateNode,n=t.memoizedProps,r[Oi]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Oi]=t,t.stateNode=r)}return null;case 13:return Hi(wa),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Aa(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&wa.current)?0===wu&&(wu=3):(0!==wu&&3!==wu||(wu=4),null===vu||0==(134217727&Eu)&&0==(134217727&Iu)||ec(vu,mu))),(r||n)&&(t.flags|=4),null);case 4:return ma(),null===e&&pi(t.stateNode.containerInfo),null;case 10:return qo(t),null;case 17:return Zi(t.type)&&eo(),null;case 19:if(Hi(wa),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)Bs(r,!1);else{if(0!==wu||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=_a(e))){for(t.flags|=64,Bs(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gi(wa,1&wa.current|2),t.child}e=e.sibling}null!==r.tail&&ko()>Nu&&(t.flags|=64,o=!0,Bs(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=_a(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Ia)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ko()-r.renderingStartTime>Nu&&1073741824!==n&&(t.flags|=64,o=!0,Bs(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ko(),n.sibling=null,t=wa.current,Gi(wa,o?1&t|2:1&t),n):null;case 23:case 24:return oc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(W(156,t.tag))}function Ks(e){switch(e.tag){case 1:Zi(e.type)&&eo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ma(),Hi(Yi),Hi($i),Ra(),0!=(64&(t=e.flags)))throw Error(W(285));return e.flags=-4097&t|64,e;case 5:return ba(e),null;case 13:return Hi(wa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Hi(wa),null;case 4:return ma(),null;case 10:return qo(e),null;case 23:case 24:return oc(),null;default:return null}}function Ws(e,t){try{var n="",r=t;do{n+=xe(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function Hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,va(fa.current);var o,a=null;switch(n){case"input":i=Ue(e,i),r=Ue(e,r),a=[];break;case"option":i=Ke(e,i),r=Ke(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=He(e,i),r=He(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Ti)}for(c in ct(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(G.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(G.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&fi("scroll",e),a||s===u||(a=[])):"object"==typeof u&&null!==u&&u.$$typeof===we?u.toString():(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs="function"==typeof WeakMap?WeakMap:Map;function Qs(e,t,n){(n=Go(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ru||(Ru=!0,Du=r),Hs(0,t)},n}function $s(e,t,n){(n=Go(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Hs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ou?Ou=new Set([this]):Ou.add(this),Hs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Ys="function"==typeof WeakSet?WeakSet:Set;function Xs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){Tc(e,n)}else t.current=null}function Js(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Oo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ai(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(W(163))}function Zs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(bc(n,e),yc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Oo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Xo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Xo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Si(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&un(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(W(163))}function eu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=at("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tu(e,t){if(ao&&"function"==typeof ao.onCommitFiberUnmount)try{ao.onCommitFiberUnmount(oo,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))bc(t,n);else{r=t;try{i()}catch(o){Tc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Xs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Tc(t,o)}break;case 5:Xs(t);break;case 4:su(e,t)}}function nu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:{for(var t=e.return;null!==t;){if(ru(t))break e;t=t.return}throw Error(W(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(W(161))}16&n.flags&&(rt(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ru(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ou(e,n,t):au(e,n,t)}function ou(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ti));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function su(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(W(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,u=s;;)if(tu(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(tu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function uu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Li]=r,"input"===e&&"radio"===r.type&&null!=r.name&&qe(n,r),lt(e,i),t=lt(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?st(n,s):"dangerouslySetInnerHTML"===a?nt(n,s):"children"===a?rt(n,s):oe(n,a,s,t)}switch(e){case"input":Ve(n,r);break;case"textarea":Qe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?We(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?We(n,!!r.multiple,r.defaultValue,!0):We(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(W(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,un(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Cu=ko(),eu(t.child,!0)),void cu(t);case 19:return void cu(t);case 17:return;case 23:case 24:return void eu(t,null!==t.memoizedState)}throw Error(W(163))}function cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function lu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var hu=Math.ceil,fu=ae.ReactCurrentDispatcher,du=ae.ReactCurrentOwner,pu=0,vu=null,gu=null,mu=0,yu=0,bu=Wi(0),wu=0,_u=null,Tu=0,Eu=0,Iu=0,Su=0,ku=null,Cu=0,Nu=1/0;function Au(){Nu=ko()+500}var Pu,xu=null,Ru=!1,Du=null,Ou=null,Lu=!1,Mu=null,Fu=90,Uu=[],ju=[],qu=null,Vu=0,Bu=null,zu=-1,Ku=0,Wu=0,Hu=null,Gu=!1;function Qu(){return 0!=(48&pu)?ko():-1!==zu?zu:zu=ko()}function $u(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Co()?1:2;if(0===Ku&&(Ku=Tu),0!==Do.transition){0!==Wu&&(Wu=null!==ku?ku.pendingLanes:0),e=Ku;var t=4186112&~Wu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Co(),0!=(4&pu)&&98===e?e=kn(12,Ku):e=kn(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ku),e}function Yu(e,t,n){if(50<Vu)throw Vu=0,Bu=null,Error(W(185));if(null===(e=Xu(e,t)))return null;An(e,t,n),e===vu&&(Iu|=t,4===wu&&ec(e,mu));var r=Co();1===t?0!=(8&pu)&&0==(48&pu)?tc(e):(Ju(e,n),0===pu&&(Au(),xo())):(0==(4&pu)||98!==r&&99!==r||(null===qu?qu=new Set([e]):qu.add(e)),Ju(e,n)),ku=e}function Xu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ju(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Pn(a),u=1<<s,c=o[s];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,En(u);var l=Tn;o[s]=10<=l?c+250:6<=l?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=In(e,e===vu?mu:0),t=Tn,0===r)null!==n&&(n!==wo&&co(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==wo&&co(n)}15===t?(n=tc.bind(null,e),null===To?(To=[n],Eo=uo(vo,Ro)):To.push(n),n=wo):14===t?n=Po(99,tc.bind(null,e)):n=Po(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(W(358,e))}}(t),Zu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Zu(e){if(zu=-1,Wu=Ku=0,0!=(48&pu))throw Error(W(327));var t=e.callbackNode;if(mc()&&e.callbackNode!==t)return null;var n=In(e,e===vu?mu:0);if(0===n)return null;var r=n,i=pu;pu|=16;var o=uc();for(vu===e&&mu===r||(Au(),ac(e,r));;)try{hc();break}catch(s){sc(e,s)}if(jo(),fu.current=o,pu=i,null!==gu?r=0:(vu=null,mu=0,r=wu),0!=(Tu&Iu))ac(e,0);else if(0!==r){if(2===r&&(pu|=64,e.hydrate&&(e.hydrate=!1,Ai(e.containerInfo)),0!==(n=Sn(e))&&(r=cc(e,n))),1===r)throw t=_u,ac(e,0),ec(e,n),Ju(e,ko()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(W(345));case 2:pc(e);break;case 3:if(ec(e,n),(62914560&n)===n&&10<(r=Cu+500-ko())){if(0!==In(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Qu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ci(pc.bind(null,e),r);break}pc(e);break;case 4:if(ec(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Pn(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=ko()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hu(n/1960))-n)){e.timeoutHandle=Ci(pc.bind(null,e),n);break}pc(e);break;case 5:pc(e);break;default:throw Error(W(329))}}return Ju(e,ko()),e.callbackNode===t?Zu.bind(null,e):null}function ec(e,t){for(t&=~Su,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),r=1<<n;e[n]=-1,t&=~r}}function tc(e){if(0!=(48&pu))throw Error(W(327));if(mc(),e===vu&&0!=(e.expiredLanes&mu)){var t=mu,n=cc(e,t);0!=(Tu&Iu)&&(n=cc(e,t=In(e,t)))}else n=cc(e,t=In(e,0));if(0!==e.tag&&2===n&&(pu|=64,e.hydrate&&(e.hydrate=!1,Ai(e.containerInfo)),0!==(t=Sn(e))&&(n=cc(e,t))),1===n)throw n=_u,ac(e,0),ec(e,t),Ju(e,ko()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,pc(e),Ju(e,ko()),null}function nc(e,t){var n=pu;pu|=1;try{return e(t)}finally{0===(pu=n)&&(Au(),xo())}}function rc(e,t){var n=pu;pu&=-2,pu|=8;try{return e(t)}finally{0===(pu=n)&&(Au(),xo())}}function ic(e,t){Gi(bu,yu),yu|=t,Tu|=t}function oc(){yu=bu.current,Hi(bu)}function ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ni(n)),null!==gu)for(n=gu.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&eo();break;case 3:ma(),Hi(Yi),Hi($i),Ra();break;case 5:ba(r);break;case 4:ma();break;case 13:case 19:Hi(wa);break;case 10:qo(r);break;case 23:case 24:oc()}n=n.return}vu=e,gu=Nc(e.current,null),mu=yu=Tu=t,wu=0,_u=null,Su=Iu=Eu=0}function sc(e,t){for(;;){var n=gu;try{if(jo(),Da.current=ps,ja){for(var r=Ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ja=!1}if(La=0,Ua=Fa=Ma=null,qa=!1,du.current=null,null===n||null===n.return){wu=1,_u=t,gu=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=mu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&wa.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var m=new Set;m.add(c),f.updateQueue=m}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=Go(-1,1);y.tag=2,Qo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new Gs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Ec.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Re(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==wu&&(wu=2),u=Ws(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,$o(f,Qs(0,o,t));break e;case 1:o=u;var _=f.type,T=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==T&&"function"==typeof T.componentDidCatch&&(null===Ou||!Ou.has(T)))){f.flags|=4096,t&=-t,f.lanes|=t,$o(f,$s(f,o,t));break e}}f=f.return}while(null!==f)}dc(n)}catch(E){t=E,gu===n&&null!==n&&(gu=n=n.return);continue}break}}function uc(){var e=fu.current;return fu.current=ps,null===e?ps:e}function cc(e,t){var n=pu;pu|=16;var r=uc();for(vu===e&&mu===t||ac(e,t);;)try{lc();break}catch(nM){sc(e,nM)}if(jo(),pu=n,fu.current=r,null!==gu)throw Error(W(261));return vu=null,mu=0,wu}function lc(){for(;null!==gu;)fc(gu)}function hc(){for(;null!==gu&&!lo();)fc(gu)}function fc(e){var t=Pu(e.alternate,e,yu);e.memoizedProps=e.pendingProps,null===t?dc(e):gu=t,du.current=null}function dc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=zs(n,t,yu)))return void(gu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&yu)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Ks(t)))return n.flags&=2047,void(gu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(gu=t);gu=t=e}while(null!==t);0===wu&&(wu=5)}function pc(e){var t=Co();return Ao(99,vc.bind(null,e,t)),null}function vc(e,t){do{mc()}while(null!==Mu);if(0!=(48&pu))throw Error(W(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var u=31-Pn(o),c=1<<u;i[u]=0,a[u]=-1,s[u]=-1,o&=~c}if(null!==qu&&0==(24&r)&&qu.has(e)&&qu.delete(e),e===vu&&(gu=vu=null,mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=pu,pu|=32,du.current=null,Ei=Ln,Zr(a=Jr())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(S){s=null;break e}var l=0,h=-1,f=-1,d=0,p=0,v=a,g=null;t:for(;;){for(var m;v!==s||0!==o&&3!==v.nodeType||(h=l+o),v!==u||0!==c&&3!==v.nodeType||(f=l+c),3===v.nodeType&&(l+=v.nodeValue.length),null!==(m=v.firstChild);)g=v,v=m;for(;;){if(v===a)break t;if(g===s&&++d===o&&(h=l),g===u&&++p===c&&(f=l),null!==(m=v.nextSibling))break;g=(v=g).parentNode}v=m}s=-1===h||-1===f?null:{start:h,end:f}}else s=null;s=s||{start:0,end:0}}else s=null;Ii={focusedElem:a,selectionRange:s},Ln=!1,Hu=null,Gu=!1,xu=r;do{try{gc()}catch(S){if(null===xu)throw Error(W(330));Tc(xu,S),xu=xu.nextEffect}}while(null!==xu);Hu=null,xu=r;do{try{for(a=e;null!==xu;){var y=xu.flags;if(16&y&&rt(xu.stateNode,""),128&y){var b=xu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:iu(xu),xu.flags&=-3;break;case 6:iu(xu),xu.flags&=-3,uu(xu.alternate,xu);break;case 1024:xu.flags&=-1025;break;case 1028:xu.flags&=-1025,uu(xu.alternate,xu);break;case 4:uu(xu.alternate,xu);break;case 8:su(a,s=xu);var _=s.alternate;nu(s),null!==_&&nu(_)}xu=xu.nextEffect}}catch(S){if(null===xu)throw Error(W(330));Tc(xu,S),xu=xu.nextEffect}}while(null!==xu);if(w=Ii,b=Jr(),y=w.focusedElem,a=w.selectionRange,b!==y&&y&&y.ownerDocument&&Xr(y.ownerDocument.documentElement,y)){null!==a&&Zr(y)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=y.textContent.length,_=Math.min(a.start,s),a=void 0===a.end?_:Math.min(a.end,s),!w.extend&&_>a&&(s=a,a=_,_=s),s=Yr(y,_),o=Yr(y,a),s&&o&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>a?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ln=!!Ei,Ii=Ei=null,e.current=n,xu=r;do{try{for(y=e;null!==xu;){var T=xu.flags;if(36&T&&Zs(y,xu.alternate,xu),128&T){b=void 0;var E=xu.ref;if(null!==E){var I=xu.stateNode;switch(xu.tag){case 5:b=I;break;default:b=I}"function"==typeof E?E(b):E.current=b}}xu=xu.nextEffect}}catch(S){if(null===xu)throw Error(W(330));Tc(xu,S),xu=xu.nextEffect}}while(null!==xu);xu=null,_o(),pu=i}else e.current=n;if(Lu)Lu=!1,Mu=e,Fu=t;else for(xu=r;null!==xu;)t=xu.nextEffect,xu.nextEffect=null,8&xu.flags&&((T=xu).sibling=null,T.stateNode=null),xu=t;if(0===(r=e.pendingLanes)&&(Ou=null),1===r?e===Bu?Vu++:(Vu=0,Bu=e):Vu=0,n=n.stateNode,ao&&"function"==typeof ao.onCommitFiberRoot)try{ao.onCommitFiberRoot(oo,n,void 0,64==(64&n.current.flags))}catch(S){}if(Ju(e,ko()),Ru)throw Ru=!1,e=Du,Du=null,e;return 0!=(8&pu)||xo(),null}function gc(){for(;null!==xu;){var e=xu.alternate;Gu||null===Hu||(0!=(8&xu.flags)?jt(xu,Hu)&&(Gu=!0):13===xu.tag&&lu(e,xu)&&jt(xu,Hu)&&(Gu=!0));var t=xu.flags;0!=(256&t)&&Js(e,xu),0==(512&t)||Lu||(Lu=!0,Po(97,(function(){return mc(),null}))),xu=xu.nextEffect}}function mc(){if(90!==Fu){var e=97<Fu?97:Fu;return Fu=90,Ao(e,wc)}return!1}function yc(e,t){Uu.push(t,e),Lu||(Lu=!0,Po(97,(function(){return mc(),null})))}function bc(e,t){ju.push(t,e),Lu||(Lu=!0,Po(97,(function(){return mc(),null})))}function wc(){if(null===Mu)return!1;var e=Mu;if(Mu=null,0!=(48&pu))throw Error(W(331));var t=pu;pu|=32;var n=ju;ju=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(u){if(null===o)throw Error(W(330));Tc(o,u)}}for(n=Uu,Uu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(u){if(null===o)throw Error(W(330));Tc(o,u)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return pu=t,xo(),!0}function _c(e,t,n){Qo(e,t=Qs(0,t=Ws(n,t),1)),t=Qu(),null!==(e=Xu(e,1))&&(An(e,1,t),Ju(e,t))}function Tc(e,t){if(3===e.tag)_c(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){_c(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ou||!Ou.has(r))){var i=$s(n,e=Ws(t,e),1);if(Qo(n,i),i=Qu(),null!==(n=Xu(n,1)))An(n,1,i),Ju(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ou||!Ou.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Qu(),e.pingedLanes|=e.suspendedLanes&n,vu===e&&(mu&n)===n&&(4===wu||3===wu&&(62914560&mu)===mu&&500>ko()-Cu?ac(e,0):Su|=n),Ju(e,t)}function Ic(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Co()?1:2:(0===Ku&&(Ku=Tu),0===(t=Cn(62914560&~Ku))&&(t=4194304))),n=Qu(),null!==(e=Xu(e,t))&&(An(e,t,n),Ju(e,n))}function Sc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new Sc(e,t,n,r)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Cc(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case ce:return Pc(n.children,i,o,t);case _e:a=8,i|=16;break;case le:a=8,i|=1;break;case he:return(e=kc(12,n,t,8|i)).elementType=he,e.type=he,e.lanes=o,e;case ve:return(e=kc(13,n,t,i)).type=ve,e.elementType=ve,e.lanes=o,e;case ge:return(e=kc(19,n,t,i)).elementType=ge,e.lanes=o,e;case Te:return xc(n,i,o,t);case Ee:return(e=kc(24,n,t,i)).elementType=Ee,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fe:a=10;break e;case de:a=9;break e;case pe:a=11;break e;case me:a=14;break e;case ye:a=16,r=null;break e;case be:a=22;break e}throw Error(W(130,null==e?e:typeof e,""))}return(t=kc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function xc(e,t,n,r){return(e=kc(23,e,r,t)).elementType=Te,e.lanes=n,e}function Rc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Nn(0),this.expirationTimes=Nn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.mutableSourceEagerHydrationData=null}function Lc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ue,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mc(e,t,n,r){var i=t.current,o=Qu(),a=$u(i);e:if(n){t:{if(Lt(n=n._reactInternals)!==n||1!==n.tag)throw Error(W(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Zi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(W(171))}if(1===n.tag){var u=n.type;if(Zi(u)){n=no(n,u,s);break e}}n=s}else n=Qi;return null===t.context?t.context=n:t.pendingContext=n,(t=Go(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Qo(i,t),Yu(i,a,o),a}function Fc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}function qc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Oc(e,t,null!=n&&!0===n.hydrate),t=kc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Wo(t),e[Mi]=n.current,pi(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Fc(a);s.call(e)}}Mc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Fc(a);u.call(e)}}rc((function(){Mc(t,a,e,i)}))}return Fc(a)}function zc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(W(200));return Lc(e,t,null,n)}Pu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Yi.current)bs=!0;else{if(0==(n&r)){switch(bs=!1,t.tag){case 3:As(t),Pa();break;case 5:ya(t);break;case 1:Zi(t.type)&&ro(t);break;case 4:ga(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Gi(Lo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Os(e,t,n):(Gi(wa,1&wa.current),null!==(t=Vs(e,t,n))?t.sibling:null);Gi(wa,1&wa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return qs(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gi(wa,wa.current),r)break;return null;case 23:case 24:return t.lanes=0,Is(e,t,n)}return Vs(e,t,n)}bs=0!=(16384&e.flags)}else bs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ji(t,$i.current),Bo(t,n),i=za(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(r)){var o=!0;ro(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Wo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Zo(t,r,a,e),i.updater=ea,t.stateNode=i,i._reactInternals=t,ia(t,r,e,n),t=Ns(null,t,r,!0,o,n)}else t.tag=0,ws(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Cc(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===me)return 14}return 2}(i),e=Oo(i,e),o){case 0:t=ks(null,t,i,e,n);break e;case 1:t=Cs(null,t,i,e,n);break e;case 11:t=_s(null,t,i,e,n);break e;case 14:t=Ts(null,t,i,Oo(i.type,e),r,n);break e}throw Error(W(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:Oo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Oo(r,i),n);case 3:if(As(t),r=t.updateQueue,null===e||null===r)throw Error(W(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Ho(e,t),Yo(t,r,null,n),(r=t.memoizedState.element)===i)Pa(),t=Vs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ea=Pi(t.stateNode.containerInfo.firstChild),Ta=t,o=Ia=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],xa.push(o);for(n=la(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ws(e,t,r,n),Pa();t=t.child}return t;case 5:return ya(t),null===e&&Ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ki(r,i)?a=null:null!==o&&ki(r,o)&&(t.flags|=16),Ss(e,t),ws(e,t,a,n),t.child;case 6:return null===e&&Ca(t),null;case 13:return Os(e,t,n);case 4:return ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ca(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:Oo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(Gi(Lo,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Hr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!Yi.current){t=Vs(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=Go(-1,n&-n)).tag=2,Qo(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Vo(s.return,n),u.lanes|=n;break}c=c.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Bo(t,n),r=r(i=zo(i,o.unstable_observedBits)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=Oo(i=t.type,t.pendingProps),Ts(e,t,i,o=Oo(i.type,o),r,n);case 15:return Es(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Oo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Zi(r)?(e=!0,ro(t)):e=!1,Bo(t,n),na(t,r,i),ia(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 23:case 24:return Is(e,t,n)}throw Error(W(156,t.tag))},qc.prototype.render=function(e){Mc(e,this._internalRoot,null,null)},qc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Mc(null,e,null,(function(){t[Mi]=null}))},qt=function(e){13===e.tag&&(Yu(e,4,Qu()),jc(e,4))},Vt=function(e){13===e.tag&&(Yu(e,67108864,Qu()),jc(e,67108864))},Bt=function(e){if(13===e.tag){var t=Qu(),n=$u(e);Yu(e,n,t),jc(e,n)}},zt=function(e,t){return t()},ft=function(e,t,n){switch(t){case"input":if(Ve(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Vi(r);if(!i)throw Error(W(90));Me(r),Ve(r,i)}}}break;case"textarea":Qe(e,n);break;case"select":null!=(t=n.value)&&We(e,!!n.multiple,t,!1)}},yt=nc,bt=function(e,t,n,r,i){var o=pu;pu|=4;try{return Ao(98,e.bind(null,t,n,r,i))}finally{0===(pu=o)&&(Au(),xo())}},wt=function(){0==(49&pu)&&(function(){if(null!==qu){var e=qu;qu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ju(e,ko())}))}xo()}(),mc())},_t=function(e,t){var n=pu;pu|=2;try{return e(t)}finally{0===(pu=n)&&(Au(),xo())}};var Kc={Events:[ji,qi,Vi,gt,mt,mc,{current:!1}]},Wc={findFiberByHostInstance:Ui,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Hc={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ut(e))?null:e.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{oo=Gc.inject(Hc),ao=Gc}catch(tt){}}j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kc,j.createPortal=zc,j.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(W(188));throw Error(W(268,Object.keys(e)))}return e=null===(e=Ut(t))?null:e.stateNode},j.flushSync=function(e,t){var n=pu;if(0!=(48&n))return e(t);pu|=1;try{if(e)return Ao(99,e.bind(null,t))}finally{pu=n,xo()}},j.hydrate=function(e,t,n){if(!Vc(t))throw Error(W(200));return Bc(null,e,t,!0,n)},j.render=function(e,t,n){if(!Vc(t))throw Error(W(200));return Bc(null,e,t,!1,n)},j.unmountComponentAtNode=function(e){if(!Vc(e))throw Error(W(40));return!!e._reactRootContainer&&(rc((function(){Bc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mi]=null}))})),!0)},j.unstable_batchedUpdates=nc,j.unstable_createPortal=function(e,t){return zc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},j.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vc(n))throw Error(W(200));if(null==e||void 0===e._reactInternals)throw Error(W(38));return Bc(e,t,n,!1,r)},j.version="17.0.2",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),U.exports=j;var Qc=U.exports;function $c(e,t){return($c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$c(e,t)}var Xc={exports:{}};function Jc(){}function Zc(){}Zc.resetWarningCache=Jc;Xc.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Zc,resetWarningCache:Jc};return n.PropTypes=n,n}();var el=Xc.exports;function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nl(e){return"/"===e.charAt(0)}function rl(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function il(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function ol(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return ol(e,t[n])}));if("object"==typeof e||"object"==typeof t){var n=il(e),r=il(t);return n!==e||r!==t?ol(n,r):Object.keys(Object.assign({},e,t)).every((function(n){return ol(e[n],t[n])}))}return!1}function al(e,t){if(!e)throw new Error("Invariant failed")}function sl(e){return"/"===e.charAt(0)?e:"/"+e}function ul(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function cl(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function ll(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function hl(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=tl({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(nM){throw nM instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):nM}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&nl(e),a=t&&nl(t),s=o||a;if(e&&nl(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?rl(i,l):".."===h?(rl(i,l),c++):c&&(rl(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&nl(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function fl(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&ol(e.state,t.state)}function dl(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var pl=!("undefined"==typeof window||!window.document||!window.document.createElement);function vl(e,t){t(window.confirm(e))}function gl(){try{return window.history.state||{}}catch(nM){return{}}}function ml(e){void 0===e&&(e={}),pl||al(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,c=void 0===u?vl:u,l=o.keyLength,h=void 0===l?6:l,f=e.basename?cl(sl(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return f&&(o=ul(o,f)),hl(o,r,n)}function p(){return Math.random().toString(36).substr(2,h)}var v=dl();function g(e){tl(N,e),N.length=n.length,v.notifyListeners(N.location,N.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(d(e.state))}function y(){w(d(gl()))}var b=!1;function w(e){if(b)b=!1,g();else{v.confirmTransitionTo(e,"POP",c,(function(t){t?g({action:"POP",location:e}):function(e){var t=N.location,n=T.indexOf(t.key);-1===n&&(n=0);var r=T.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,I(i))}(e)}))}}var _=d(gl()),T=[_.key];function E(e){return f+ll(e)}function I(e){n.go(e)}var S=0;function k(e){1===(S+=e)&&1===e?(window.addEventListener("popstate",m),i&&window.addEventListener("hashchange",y)):0===S&&(window.removeEventListener("popstate",m),i&&window.removeEventListener("hashchange",y))}var C=!1;var N={length:n.length,action:"POP",location:_,createHref:E,push:function(e,t){var i="PUSH",o=hl(e,t,p(),N.location);v.confirmTransitionTo(o,i,c,(function(e){if(e){var t=E(o),a=o.key,u=o.state;if(r)if(n.pushState({key:a,state:u},null,t),s)window.location.href=t;else{var c=T.indexOf(N.location.key),l=T.slice(0,c+1);l.push(o.key),T=l,g({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=hl(e,t,p(),N.location);v.confirmTransitionTo(o,i,c,(function(e){if(e){var t=E(o),a=o.key,u=o.state;if(r)if(n.replaceState({key:a,state:u},null,t),s)window.location.replace(t);else{var c=T.indexOf(N.location.key);-1!==c&&(T[c]=o.key),g({action:i,location:o})}else window.location.replace(t)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return C||(k(1),C=!0),function(){return C&&(C=!1,k(-1)),t()}},listen:function(e){var t=v.appendListener(e);return k(1),function(){k(-1),t()}}};return N}var yl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function bl(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var wl=F.createContext||function(t,n){var r,i,o,a="__create-react-context-"+((yl[o="__global_unique_id__"]=(yl[o]||0)+1)+"__"),s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=bl(t.props.value),t}Yc(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?t=0:(t="function"==typeof n?n(r,i):1073741823,0!==(t|=0)&&this.emitter.set(e.value,t))}var o,a},r.render=function(){return this.props.children},t}(e.exports.Component);s.childContextTypes=((r={})[a]=el.object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Yc(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.exports.Component);return u.contextTypes=((i={})[a]=el.object,i),{Provider:s,Consumer:u}},_l={exports:{}},Tl=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};_l.exports=Rl,_l.exports.parse=Il,_l.exports.compile=function(e,t){return kl(Il(e,t),t)},_l.exports.tokensToFunction=kl,_l.exports.tokensToRegExp=xl;var El=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Il(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=El.exec(e));){var u=n[0],c=n[1],l=n.index;if(a+=e.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=e[o],f=n[2],d=n[3],p=n[4],v=n[5],g=n[6],m=n[7];a&&(r.push(a),a="");var y=null!=f&&null!=h&&h!==f,b="+"===g||"*"===g,w="?"===g||"*"===g,_=n[2]||s,T=p||v;r.push({name:d||i++,prefix:f||"",delimiter:_,optional:w,repeat:b,partial:y,asterisk:!!m,pattern:T?Nl(T):m?".*":"[^"+Cl(_)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function Sl(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function kl(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",Pl(t)));return function(t,r){for(var i="",o=t||{},a=(r||{}).pretty?Sl:encodeURIComponent,s=0;s<e.length;s++){var u=e[s];if("string"!=typeof u){var c,l=o[u.name];if(null==l){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(Tl(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=a(l[h]),!n[s].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(l).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(l),!n[s].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function Cl(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Nl(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Al(e,t){return e.keys=t,e}function Pl(e){return e&&e.sensitive?"":"i"}function xl(e,t,n){Tl(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=Cl(s);else{var u=Cl(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+u+c+")*"),o+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=Cl(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",Al(new RegExp("^"+o,Pl(n)),t)}function Rl(e,t,n){return Tl(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Al(e,t)}(e,t):Tl(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(Rl(e[i],t,n).source);return Al(new RegExp("(?:"+r.join("|")+")",Pl(n)),t)}(e,t,n):function(e,t,n){return xl(Il(e,n),t,n)}(e,t,n)}var Dl=_l.exports,Ol={exports:{}},Ll={},Ml="function"==typeof Symbol&&Symbol.for,Fl=Ml?Symbol.for("react.element"):60103,Ul=Ml?Symbol.for("react.portal"):60106,jl=Ml?Symbol.for("react.fragment"):60107,ql=Ml?Symbol.for("react.strict_mode"):60108,Vl=Ml?Symbol.for("react.profiler"):60114,Bl=Ml?Symbol.for("react.provider"):60109,zl=Ml?Symbol.for("react.context"):60110,Kl=Ml?Symbol.for("react.async_mode"):60111,Wl=Ml?Symbol.for("react.concurrent_mode"):60111,Hl=Ml?Symbol.for("react.forward_ref"):60112,Gl=Ml?Symbol.for("react.suspense"):60113,Ql=Ml?Symbol.for("react.suspense_list"):60120,$l=Ml?Symbol.for("react.memo"):60115,Yl=Ml?Symbol.for("react.lazy"):60116,Xl=Ml?Symbol.for("react.block"):60121,Jl=Ml?Symbol.for("react.fundamental"):60117,Zl=Ml?Symbol.for("react.responder"):60118,eh=Ml?Symbol.for("react.scope"):60119;function th(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Fl:switch(e=e.type){case Kl:case Wl:case jl:case Vl:case ql:case Gl:return e;default:switch(e=e&&e.$$typeof){case zl:case Hl:case Yl:case $l:case Bl:return e;default:return t}}case Ul:return t}}}function nh(e){return th(e)===Wl}function rh(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}Ll.AsyncMode=Kl,Ll.ConcurrentMode=Wl,Ll.ContextConsumer=zl,Ll.ContextProvider=Bl,Ll.Element=Fl,Ll.ForwardRef=Hl,Ll.Fragment=jl,Ll.Lazy=Yl,Ll.Memo=$l,Ll.Portal=Ul,Ll.Profiler=Vl,Ll.StrictMode=ql,Ll.Suspense=Gl,Ll.isAsyncMode=function(e){return nh(e)||th(e)===Kl},Ll.isConcurrentMode=nh,Ll.isContextConsumer=function(e){return th(e)===zl},Ll.isContextProvider=function(e){return th(e)===Bl},Ll.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Fl},Ll.isForwardRef=function(e){return th(e)===Hl},Ll.isFragment=function(e){return th(e)===jl},Ll.isLazy=function(e){return th(e)===Yl},Ll.isMemo=function(e){return th(e)===$l},Ll.isPortal=function(e){return th(e)===Ul},Ll.isProfiler=function(e){return th(e)===Vl},Ll.isStrictMode=function(e){return th(e)===ql},Ll.isSuspense=function(e){return th(e)===Gl},Ll.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===jl||e===Wl||e===Vl||e===ql||e===Gl||e===Ql||"object"==typeof e&&null!==e&&(e.$$typeof===Yl||e.$$typeof===$l||e.$$typeof===Bl||e.$$typeof===zl||e.$$typeof===Hl||e.$$typeof===Jl||e.$$typeof===Zl||e.$$typeof===eh||e.$$typeof===Xl)},Ll.typeOf=th,Ol.exports=Ll;var ih=Ol.exports,oh={};oh[ih.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oh[ih.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var ah=function(e){var t=wl();return t.displayName=e,t},sh=ah("Router-History"),uh=ah("Router"),ch=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Yc(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return F.createElement(uh.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},F.createElement(sh.Provider,{children:this.props.children||null,value:this.props.history}))},t}(F.Component);F.Component;var lh=function(e){function t(){return e.apply(this,arguments)||this}Yc(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(F.Component),hh={},fh=0;function dh(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(hh[e])return hh[e];var t=Dl.compile(e);return fh<1e4&&(hh[e]=t,fh++),t}(e)(t,{pretty:!0})}function ph(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return F.createElement(uh.Consumer,null,(function(e){e||al(!1);var r=e.history,o=e.staticContext,a=i?r.push:r.replace,s=hl(t?"string"==typeof n?dh(n,t.params):tl({},n,{pathname:dh(n.pathname,t.params)}):n);return o?(a(s),null):F.createElement(lh,{onMount:function(){a(s)},onUpdate:function(e,t){var n=hl(t.to);fl(n,tl({},s,{key:n.key}))||a(s)},to:n})}))}var vh={},gh=0;function mh(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=vh[n]||(vh[n]={});if(r[e])return r[e];var i=[],o={regexp:Dl(e,i,t),keys:i};return gh<1e4&&(r[e]=o,gh++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var yh=function(e){function t(){return e.apply(this,arguments)||this}return Yc(t,e),t.prototype.render=function(){var e=this;return F.createElement(uh.Consumer,null,(function(t){t||al(!1);var n=e.props.location||t.location,r=tl({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?mh(n.pathname,e.props):t.match}),i=e.props,o=i.children,a=i.component,s=i.render;return Array.isArray(o)&&function(e){return 0===F.Children.count(e)}(o)&&(o=null),F.createElement(uh.Provider,{value:r},r.match?o?"function"==typeof o?o(r):o:a?F.createElement(a,r):s?s(r):null:"function"==typeof o?o(r):null)}))},t}(F.Component);F.Component;var bh=function(e){function t(){return e.apply(this,arguments)||this}return Yc(t,e),t.prototype.render=function(){var e=this;return F.createElement(uh.Consumer,null,(function(t){t||al(!1);var n,r,i=e.props.location||t.location;return F.Children.forEach(e.props.children,(function(e){if(null==r&&F.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?mh(i.pathname,tl({},e.props,{path:o})):t.match}})),r?F.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(F.Component);F.useContext;var wh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=ml(t.props),t}return Yc(t,e),t.prototype.render=function(){return F.createElement(ch,{history:this.history,children:this.props.children})},t}(F.Component);F.Component;var _h=function(e,t){return"function"==typeof e?e(t):e},Th=function(e,t){return"string"==typeof e?hl(e,null,null,t):e},Eh=function(e){return e},Ih=F.forwardRef;void 0===Ih&&(Ih=Eh);var Sh=Ih((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=rh(e,["innerRef","navigate","onClick"]),a=o.target,s=tl({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=Eh!==Ih&&t||n,F.createElement("a",s)})),kh=Ih((function(e,t){var n=e.component,r=void 0===n?Sh:n,i=e.replace,o=e.to,a=e.innerRef,s=rh(e,["component","replace","to","innerRef"]);return F.createElement(uh.Consumer,null,(function(e){e||al(!1);var n=e.history,u=Th(_h(o,e.location),e.location),c=u?n.createHref(u):"",l=tl({},s,{href:c,navigate:function(){var t=_h(o,e.location),r=ll(e.location)===ll(Th(t));(i||r?n.replace:n.push)(t)}});return Eh!==Ih?l.ref=t||a:l.innerRef=a,F.createElement(r,l)}))})),Ch=function(e){return e},Nh=F.forwardRef;void 0===Nh&&(Nh=Ch),Nh((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,a=e.activeStyle,s=e.className,u=e.exact,c=e.isActive,l=e.location,h=e.sensitive,f=e.strict,d=e.style,p=e.to,v=e.innerRef,g=rh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return F.createElement(uh.Consumer,null,(function(e){e||al(!1);var n=l||e.location,i=Th(_h(p,n),n),m=i.pathname,y=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=y?mh(n.pathname,{path:y,exact:u,sensitive:h,strict:f}):null,w=!!(c?c(b,n):b),_="function"==typeof s?s(w):s,T="function"==typeof d?d(w):d;w&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),T=tl({},T,a));var E=tl({"aria-current":w&&r||null,className:_,style:T,to:i},g);return Ch!==Nh?E.ref=t||v:E.innerRef=v,F.createElement(kh,E)}))}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ah=function(e,t){return(Ah=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ph(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ah(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var xh=function(){return(xh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Rh(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nM){o(nM)}}function s(e){try{u(r.throw(e))}catch(nM){o(nM)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Dh(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nM){o=[6,nM],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Oh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Mh(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fh=!1,Uh="${JSCORE_VERSION}",jh=function(e,t){if(!e)throw qh(t)},qh=function(e){return new Error("Firebase Database ("+Uh+") INTERNAL ASSERT FAILED: "+e)},Vh=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vh(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zh=function(e){var t=Vh(e);return Bh.encodeByteArray(t,!0)},Kh=function(e){return zh(e).replace(/\./g,"")},Wh=function(e){try{return Bh.decodeString(e,!0)}catch(nM){console.error("base64Decode failed: ",nM)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hh(e){return Gh(void 0,e)}function Gh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Gh(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qh=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=xh({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Kh(JSON.stringify({alg:"none",type:"JWT"})),Kh(JSON.stringify(o)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xh(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yh())}function Jh(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(nM){return!1}}function Zh(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ef(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tf(){return!0===Fh}function nf(){return"indexedDB"in self&&null!=indexedDB}function rf(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function of(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var af=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,sf.prototype.create),o}return Ph(t,e),t}(Error),sf=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?uf(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new af(i,s,r);return u},e}();function uf(e,t){return e.replace(cf,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var cf=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(e){return JSON.parse(e)}function hf(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=lf(Wh(o[0])||""),n=lf(Wh(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(nM){}return{header:t,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function df(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pf(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function vf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gf(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mf=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function yf(e,t){var n=new bf(e,t);return n.subscribe.bind(n)}var bf=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=wf),void 0===r.error&&(r.error=wf),void 0===r.complete&&(r.complete=wf);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(nM){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(nM){"undefined"!=typeof console&&console.error&&console.error(nM)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function wf(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Tf(e,t){return e+" failed: "+t+" argument "}function Ef(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Tf(e,t)+"must be a valid function.")}function If(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Tf(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function kf(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(e){return e&&e._delegate?e._delegate:e}var Nf=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Af=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qh;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(nM){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(nM){if(r)return null;throw nM}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(nM){}try{for(var r=Oh(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Lh(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(nM){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Mh(Mh([],Lh(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Lh(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=Oh(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=Lh(u.value,2),l=c[0],h=c[1];o===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Oh(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pf,xf=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Af(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Rf(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Df,Of,Lf=[];(Of=Df||(Df={}))[Of.DEBUG=0]="DEBUG",Of[Of.VERBOSE=1]="VERBOSE",Of[Of.INFO=2]="INFO",Of[Of.WARN=3]="WARN",Of[Of.ERROR=4]="ERROR",Of[Of.SILENT=5]="SILENT";var Mf,Ff={debug:Df.DEBUG,verbose:Df.VERBOSE,info:Df.INFO,warn:Df.WARN,error:Df.ERROR,silent:Df.SILENT},Uf=Df.INFO,jf=((Pf={})[Df.DEBUG]="log",Pf[Df.VERBOSE]="log",Pf[Df.INFO]="info",Pf[Df.WARN]="warn",Pf[Df.ERROR]="error",Pf),qf=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=jf[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Rf(["["+i+"]  "+e.name+":"],n))}},Vf=function(){function e(e){this.name=e,this._logLevel=Uf,this._logHandler=qf,this._userLogHandler=null,Lf.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Df))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Ff[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Rf([this,Df.DEBUG],e)),this._logHandler.apply(this,Rf([this,Df.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Rf([this,Df.VERBOSE],e)),this._logHandler.apply(this,Rf([this,Df.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Rf([this,Df.INFO],e)),this._logHandler.apply(this,Rf([this,Df.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Rf([this,Df.WARN],e)),this._logHandler.apply(this,Rf([this,Df.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Rf([this,Df.ERROR],e)),this._logHandler.apply(this,Rf([this,Df.ERROR],e))},e}();function Bf(e){Lf.forEach((function(t){t.setLogLevel(e)}))}var zf,Kf=((Mf={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Mf["bad-app-name"]="Illegal App name: '{$appName}",Mf["duplicate-app"]="Firebase App named '{$appName}' already exists",Mf["app-deleted"]="Firebase App named '{$appName}' already deleted",Mf["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Mf["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Mf),Wf=new sf("app","Firebase",Kf),Hf=((zf={})["@firebase/app"]="fire-core",zf["@firebase/analytics"]="fire-analytics",zf["@firebase/app-check"]="fire-app-check",zf["@firebase/auth"]="fire-auth",zf["@firebase/database"]="fire-rtdb",zf["@firebase/functions"]="fire-fn",zf["@firebase/installations"]="fire-iid",zf["@firebase/messaging"]="fire-fcm",zf["@firebase/performance"]="fire-perf",zf["@firebase/remote-config"]="fire-rc",zf["@firebase/storage"]="fire-gcs",zf["@firebase/firestore"]="fire-fst",zf["fire-js"]="fire-js",zf["firebase-wrapper"]="fire-js-all",zf),Gf=new Vf("@firebase/app"),Qf=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Hh(e),this.container=new xf(t.name),this._addComponent(new Nf("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(nM){Gf.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,nM)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Wf.create("app-deleted",{appName:this.name_})},e}();Qf.prototype.name&&Qf.prototype.options||Qf.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $f(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw Wf.create("bad-app-name",{appName:String(a)});if(df(t,a))throw Wf.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Hf[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Gf.warn(u.join(" "))}o(new Nf(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Bf,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Wf.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Ff[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Df[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Lf;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!df(t,e=e||"[DEFAULT]"))throw Wf.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Gf.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw Wf.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Gh(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yf=function e(){var t=$f(Qf);return t.INTERNAL=xh(xh({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Gh(t,e)},createSubscribe:yf,ErrorFactory:sf,deepExtend:Gh}),t}(),Xf=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Gf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jf=self.firebase.SDK_VERSION;Jf&&Jf.indexOf("LITE")>=0&&Gf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zf=Yf.initializeApp;Yf.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Jh()&&Gf.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Zf.apply(void 0,e)};var ed,td,nd=Yf;(ed=nd).INTERNAL.registerComponent(new Nf("platform-logger",(function(e){return new Xf(e)}),"PRIVATE")),ed.registerVersion("@firebase/app","0.6.30",td),ed.registerVersion("fire-js","");function rd(e){return Array.prototype.slice.call(e)}function id(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function od(e,t,n){var r,i=new Promise((function(i,o){id(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function ad(e,t,n){var r=od(e,t,n);return r.then((function(e){if(e)return new fd(e,r.request)}))}function sd(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function ud(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return od(this[t],r,arguments)})}))}function cd(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function ld(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return ad(this[t],r,arguments)})}))}function hd(e){this._index=e}function fd(e,t){this._cursor=e,this._request=t}function dd(e){this._store=e}function pd(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function vd(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new pd(n)}function gd(e){this._db=e}function md(e,t,n){var r=od(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){n&&n(new vd(i.result,e.oldVersion,i.transaction))}),r.then((function(e){return new gd(e)}))}function yd(e){return od(indexedDB,"deleteDatabase",[e])}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
nd.registerVersion("firebase","8.10.0","app"),nd.SDK_VERSION="8.10.0",sd(hd,"_index",["name","keyPath","multiEntry","unique"]),ud(hd,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ld(hd,"_index",IDBIndex,["openCursor","openKeyCursor"]),sd(fd,"_cursor",["direction","key","primaryKey","value"]),ud(fd,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(fd.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),id(t._request).then((function(e){if(e)return new fd(e,t._request)}))}))})})),dd.prototype.createIndex=function(){return new hd(this._store.createIndex.apply(this._store,arguments))},dd.prototype.index=function(){return new hd(this._store.index.apply(this._store,arguments))},sd(dd,"_store",["name","keyPath","indexNames","autoIncrement"]),ud(dd,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ld(dd,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),cd(dd,"_store",IDBObjectStore,["deleteIndex"]),pd.prototype.objectStore=function(){return new dd(this._tx.objectStore.apply(this._tx,arguments))},sd(pd,"_tx",["objectStoreNames","mode"]),cd(pd,"_tx",IDBTransaction,["abort"]),vd.prototype.createObjectStore=function(){return new dd(this._db.createObjectStore.apply(this._db,arguments))},sd(vd,"_db",["name","version","objectStoreNames"]),cd(vd,"_db",IDBDatabase,["deleteObjectStore","close"]),gd.prototype.transaction=function(){return new pd(this._db.transaction.apply(this._db,arguments))},sd(gd,"_db",["name","version","objectStoreNames"]),cd(gd,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[dd,hd].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=rd(arguments),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[hd,dd].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var bd,wd=((bd={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',bd["not-registered"]="Firebase Installation is not registered.",bd["installation-not-found"]="Firebase Installation not found.",bd["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',bd["app-offline"]="Could not process request. Application offline.",bd["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",bd),_d=new sf("installations","Installations",wd);function Td(e){return e instanceof af&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Id(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Sd(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,_d.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function kd(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Cd(e,t){var n=t.refreshToken,r=kd(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function Nd(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Ad(e,t){var n=t.fid;return Rh(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return t=Ed(e),r=kd(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Nd((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Id(s.authToken)}];case 3:return[4,Sd("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xd=/^[cdef][\w-]{21}$/;function Rd(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Mh([],Lh(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return xd.test(t)?t:""}catch(n){return""}}function Dd(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=new Map;function Ld(e,t){var n=Dd(e);Md(n,t),function(e,t){var n=Ud();n&&n.postMessage({key:e,fid:t});jd()}(n,t)}function Md(e,t){var n,r,i=Od.get(e);if(i)try{for(var o=Oh(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Fd=null;function Ud(){return!Fd&&"BroadcastChannel"in self&&((Fd=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Md(e.data.key,e.data.fid)}),Fd}function jd(){0===Od.size&&Fd&&(Fd.close(),Fd=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd,Vd,Bd="firebase-installations-store",zd=null;function Kd(){return zd||(zd=md("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Bd)}}))),zd}function Wd(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return n=Dd(e),[4,Kd()];case 1:return r=s.sent(),i=r.transaction(Bd,"readwrite"),[4,(o=i.objectStore(Bd)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Ld(e,t.fid),[2,t]}}))}))}function Hd(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return t=Dd(e),[4,Kd()];case 1:return n=i.sent(),[4,(r=n.transaction(Bd,"readwrite")).objectStore(Bd).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Gd(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return n=Dd(e),[4,Kd()];case 1:return r=u.sent(),i=r.transaction(Bd,"readwrite"),[4,(o=i.objectStore(Bd)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Ld(e,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,Gd(e,(function(n){var r=function(e){return Xd(e||{fid:Rd(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(_d.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Ad(e,t)];case 1:return n=i.sent(),[2,Wd(e,n)];case 2:return Td(r=i.sent())&&409===r.customData.serverCode?[4,Hd(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Wd(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$d(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function $d(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,Yd(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Pd(100)];case 3:return o.sent(),[4,Yd(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Qd(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Yd(e){return Gd(e,(function(e){if(!e)throw _d.create("installation-not-found");return Xd(e)}))}function Xd(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Jd(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Rh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Ed(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),i=Cd(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.32"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Nd((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Id(c)];case 3:return[4,Sd("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Zd(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,Gd(e.appConfig,(function(r){if(!tp(r))throw _d.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,ep(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Pd(100)];case 3:return i.sent(),[4,ep(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Zd(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw _d.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return xh(xh({},e),{authToken:t})}(r);return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Jd(e,t)];case 1:return n=o.sent(),i=xh(xh({},t),{authToken:n}),[4,Wd(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Td(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Hd(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=xh(xh({},t),{authToken:{requestStatus:0}}),[4,Wd(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function ep(e){return Gd(e,(function(e){if(!tp(e))throw _d.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?xh(xh({},e),{authToken:{requestStatus:0}}):e}))}function tp(e){return void 0!==e&&2===e.registrationStatus}function np(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,Qd(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Ed(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=Cd(e,t),i={method:"DELETE",headers:r},[4,Nd((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Sd("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ip(e,t){var n=e.appConfig;return function(e,t){Ud();var n=Dd(e),r=Od.get(n);r||(r=new Set,Od.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Dd(e),r=Od.get(n);r&&(r.delete(t),0===r.size&&Od.delete(n),jd())}(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(e){return _d.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(qd=nd).INTERNAL.registerComponent(new Nf("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw op("App Configuration");if(!e.name)throw op("App Name");try{for(var r=Oh(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw op(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,Qd(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Zd(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return[4,np(e.appConfig)];case 1:return n.sent(),[4,Zd(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,Gd(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw _d.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw _d.create("app-offline");case 3:return[4,rp(t,n)];case 4:return r.sent(),[4,Hd(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return ip(n,e)}}}),"PUBLIC")),qd.registerVersion("@firebase/installations","0.4.32");var ap,sp,up=((Vd={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Vd["only-available-in-window"]="This method is available in a Window context.",Vd["only-available-in-sw"]="This method is available in a service worker context.",Vd["permission-default"]="The notification permission was not granted and dismissed instead.",Vd["permission-blocked"]="The notification permission was not granted and blocked instead.",Vd["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Vd["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Vd["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Vd["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Vd["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Vd["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Vd["token-update-no-token"]="FCM returned no token when updating the user to push.",Vd["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Vd["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Vd["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Vd["invalid-vapid-key"]="The public VAPID key must be a string.",Vd["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Vd),cp=new sf("messaging","Messaging",up),lp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hp(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Mh([],Lh(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fp(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(sp=ap||(ap={})).PUSH_RECEIVED="push-received",sp.NOTIFICATION_CLICKED="notification-clicked";function dp(e){return Rh(this,void 0,void 0,(function(){var t,n,r=this;return Dh(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,md("fcm_token_details_db",5,(function(t){return Rh(r,void 0,void 0,(function(){var r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:hp(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:hp(o.auth),p256dh:hp(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:hp(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,yd("fcm_token_details_db")];case 4:return i.sent(),[4,yd("fcm_vapid_details_db")];case 5:return i.sent(),[4,yd("undefined")];case 6:return i.sent(),[2,pp(n)?n:null]}}))}))}function pp(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vp="firebase-messaging-store",gp=null;function mp(){return gp||(gp=md("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(vp)}}))),gp}function yp(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return t=_p(e),[4,mp()];case 1:return[4,i.sent().transaction(vp).objectStore(vp).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,dp(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,bp(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function bp(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return n=_p(e),[4,mp()];case 1:return r=o.sent(),[4,(i=r.transaction(vp,"readwrite")).objectStore(vp).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function wp(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return t=_p(e),[4,mp()];case 1:return n=i.sent(),[4,(r=n.transaction(vp,"readwrite")).objectStore(vp).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function _p(e){return e.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return[4,kp(e)];case 1:n=u.sent(),r=Cp(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Sp(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),cp.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,cp.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw cp.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Ep(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return[4,kp(e)];case 1:n=u.sent(),r=Cp(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Sp(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),cp.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,cp.create("token-update-failed",{errorInfo:s});if(!o.token)throw cp.create("token-update-no-token");return[2,o.token]}}))}))}function Ip(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return[4,kp(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Sp(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,cp.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),cp.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Sp(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function kp(e){var t=e.appConfig,n=e.installations;return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Cp(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==lp&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw cp.create("permission-blocked");return[4,Rp(t,n)];case 1:return r=s.sent(),[4,yp(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:hp(r.getKey("auth")),p256dh:hp(r.getKey("p256dh"))},i?[3,3]:[2,xp(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Ip(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,xp(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Pp({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function Ap(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,yp(e)];case 1:return(n=i.sent())?[4,Ip(e,n.token)]:[3,4];case 2:return i.sent(),[4,wp(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Pp(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Ep(t,e)];case 1:return r=a.sent(),i=xh(xh({},e),{token:r,createTime:Date.now()}),[4,bp(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ap(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function xp(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,Tp(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,bp(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Rp(e,t){return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fp(t)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Dp(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw cp.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,yp(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:lp,r.label=2;case 2:return[2,Np(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Ap(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw cp.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw cp.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw cp.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw cp.create("only-available-in-window")},e.prototype.onMessage=function(){throw cp.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw cp.create("only-available-in-window")},e.prototype.onPush=function(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,jp()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Up(n,t)]:(r=!1,t.notification?[4,qp(Mp(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Op(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Rh(this,void 0,void 0,(function(){var r;return Dh(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Ap(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,yp(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Ap(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Np(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:lp)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Rh(this,void 0,void 0,(function(){var r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Dp(e.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Fp(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Op(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=ap.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Mp(e){var t,n=xh({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Fp(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return[4,jp()];case 1:t=u.sent();try{for(n=Oh(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Up(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ap.PUSH_RECEIVED;try{for(var i=Oh(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function jp(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function qp(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Vp=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===ap.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Dp(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw cp.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Np(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=lp),[2]}))}))},e.prototype.updateSwReg=function(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw cp.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Rh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),cp.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ap(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?cp.create("permission-blocked"):cp.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw cp.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw cp.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw cp.create("invalid-sw-registration");if(this.swRegistration)throw cp.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw cp.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw cp.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case ap.NOTIFICATION_CLICKED:return"notification_open";case ap.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Bp(e){return cp.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zp={isSupported:Kp};function Kp(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}nd.INTERNAL.registerComponent(new Nf("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw Bp("App Configuration Object");if(!e.name)throw Bp("App Name");var r=e.options;try{for(var i=Oh(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Bp(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Kp())throw cp.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Lp(n):new Vp(n)}),"PUBLIC").setServiceProps(zp)),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function E(e,t,n){this.code=k+e,this.message=t||C[e]||"",this.a=n||null}function I(e){var t=e&&e.code;return t?new E(t.substring(k.length),e.message,e.serverResponse):null}_(E,Error),E.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},E.prototype.toJSON=function(){return this.w()};var S,k="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(e){for(var t in N)if(N[t].id===e)return{firebaseEndpoint:(e=N[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function P(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function x(e){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");x.call(this,n+e[r])}function D(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function O(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function L(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function M(){this.b=this.a=null}S=A("__EID__")?"__EID__":void 0,_(x,Error),x.prototype.name="CustomError",_(R,x),R.prototype.name="AssertionError",O.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var F=new O((function(){return new j}),(function(e){e.reset()}));function U(){var e=mt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function j(){this.next=this.b=this.a=null}M.prototype.add=function(e,t){var n=F.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var B=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},z=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function W(e,t){return 0<=q(e,t)}function H(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function G(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Q(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Y,X=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},J=/&/g,Z=/</g,ee=/>/g,te=/"/g,ne=/'/g,re=/\x00/g,ie=/[\x00&<>"']/;function oe(e,t){return-1!=e.indexOf(t)}function ae(e,t){return e<t?-1:e>t?1:0}e:{var se=a.navigator;if(se){var ue=se.userAgent;if(ue){Y=ue;break e}}Y=""}function ce(e){return oe(Y,e)}function le(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function he(e){for(var t in e)return!1;return!0}function fe(e){var t,n={};for(t in e)n[t]=e[t];return n}var de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<de.length;o++)n=de[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ve(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(p(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ge(e,t){this.a=e===we&&t||"",this.b=be}function me(e){return e instanceof ge&&e.constructor===ge&&e.b===be?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}ge.prototype.ta=!0,ge.prototype.sa=function(){return this.a},ge.prototype.toString=function(){return"Const{"+this.a+"}"};var ye,be={},we={};function _e(){if(void 0===ye){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){a.console&&a.console.error(n.message)}ye=e}else ye=e}return ye}function Te(e,t){this.a=t===Ce?e:""}function Ee(e){return e instanceof Te&&e.constructor===Te?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ie(e,t){var n=me(e);if(!ke.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=_e();return new Te(e=t?t.createScriptURL(e):e,Ce)}(e=n.replace(Se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ge?me(e):encodeURIComponent(String(e))})))}Te.prototype.ta=!0,Te.prototype.sa=function(){return this.a.toString()},Te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Se=/%{(\w+)}/g,ke=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ce={};function Ne(e,t){this.a=t===Le?e:""}function Ae(e){return e instanceof Ne&&e.constructor===Ne?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ne.prototype.ta=!0,Ne.prototype.sa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function De(e){if(e instanceof Ne)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e))e=new Ne(e,Le);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(xe);e=t&&Pe.test(t[1])?new Ne(e,Le):null}return e}function Oe(e){return e instanceof Ne?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new Ne(e,Le))}var Le={},Me=new Ne("about:invalid#zClosurez",Le);function Fe(e,t,n){this.a=n===Ue?e:""}Fe.prototype.ta=!0,Fe.prototype.sa=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function je(e,t,n,r){return e=e instanceof Ne?e:Oe(e),t=t||a,n=n instanceof ge?me(n):n||"",t.open(Ae(e),n,r,void 0)}function qe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ve(e){return ie.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(J,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Z,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ee,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(te,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ne,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(re,"&#0;"))),e}function Be(e){return Be[" "](e),e}Be[" "]=l;var ze,Ke=ce("Opera"),We=ce("Trident")||ce("MSIE"),He=ce("Edge"),Ge=He||We,Qe=ce("Gecko")&&!(oe(Y.toLowerCase(),"webkit")&&!ce("Edge"))&&!(ce("Trident")||ce("MSIE"))&&!ce("Edge"),$e=oe(Y.toLowerCase(),"webkit")&&!ce("Edge");function Ye(){var e=a.document;return e?e.documentMode:void 0}e:{var Xe="",Je=function(){var e=Y;return Qe?/rv:([^\);]+)(\)|;)/.exec(e):He?/Edge\/([\d\.]+)/.exec(e):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$e?/WebKit\/(\S+)/.exec(e):Ke?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Je&&(Xe=Je?Je[1]:""),We){var Ze=Ye();if(null!=Ze&&Ze>parseFloat(Xe)){ze=String(Ze);break e}}ze=Xe}var et,nt={};function rt(e){return function(e,t){var n=nt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=X(String(ze)).split("."),r=X(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ae(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ae(0==a[2].length,0==s[2].length)||ae(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(a.document&&We){var it=Ye();et=it||(parseInt(ze,10)||void 0)}else et=void 0;var ot=et;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(tt){}var at=!We||9<=Number(ot);function st(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){le(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ht.hasOwnProperty(n)?e.setAttribute(ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ct,lt,ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}V(a?$(o):o,r)}}}function dt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function pt(e){a.setTimeout((function(){throw e}),0)}function vt(e,t){lt||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);lt=function(){e.then(yt)}}else lt=function(){var e=yt;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ce("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ct||(ct=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ce("Presto")&&(e=function(){var e=dt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!ce("Trident")&&!ce("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),ct(e)):a.setImmediate(e)}}(),gt||(lt(),gt=!0),mt.add(e,t)}var gt=!1,mt=new M;function yt(){for(var e;e=U();){try{e.a.call(e.b)}catch(t){pt(t)}L(F,e)}gt=!1}function bt(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Dt(n,_t,e)}),(function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(nM){}Dt(n,Tt,e)}))}catch(r){Dt(this,Tt,r)}}var wt=0,_t=2,Tt=3;function Et(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Et.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new O((function(){return new Et}),(function(e){e.reset()}));function St(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function kt(e){if(e instanceof bt)return e;var t=new bt(l);return Dt(t,_t,e),t}function Ct(e){return new bt((function(t,n){n(e)}))}function Nt(e,t,n){Ot(e,t,n,null)||vt(w(t,e))}function At(e){return new bt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Nt(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function Pt(e,t){if(e.a==wt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Mt(n),Ft(n,i,Tt,t)))}e.c=null}else Dt(e,Tt,t)}function xt(e,t){e.b||e.a!=_t&&e.a!=Tt||Lt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Rt(e,t,n,r){var i=St(null,null,null);return i.a=new bt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,xt(e,i),i.a}function Dt(e,t,n){e.a==wt&&(e===n&&(t=Tt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ot(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Lt(e),t!=Tt||n instanceof qt||function(e,t){e.g=!0,vt((function(){e.g&&jt.call(null,t)}))}(e,n)))}function Ot(e,t,n,r){if(e instanceof bt)return xt(e,St(t||l,n||null,r)),!0;if(P(e))return e.then(t,n,r),!0;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Lt(e){e.h||(e.h=!0,vt(e.gc,e))}function Mt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ft(e,t,n,r){if(n==Tt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ut(t,n,r);else try{t.c?t.g.call(t.f):Ut(t,n,r)}catch(nM){jt.call(null,nM)}L(It,t)}function Ut(e,t,n){t==_t?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}bt.prototype.then=function(e,t,n){return Rt(this,d(e)?e:null,d(t)?t:null,n)},bt.prototype.$goog_Thenable=!0,(e=bt.prototype).oa=function(e,t){return(e=St(e,e,t)).c=!0,xt(this,e),this},e.o=function(e,t){return Rt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new qt(e);vt((function(){Pt(this,t)}),this)}},e.$c=function(e){this.a=wt,Dt(this,_t,e)},e.ad=function(e){this.a=wt,Dt(this,Tt,e)},e.gc=function(){for(var e;e=Mt(this);)Ft(this,e,this.a,this.i);this.h=!1};var jt=pt;function qt(e){x.call(this,e)}function Vt(){this.ya=this.ya,this.pa=this.pa}_(qt,x),qt.prototype.name="cancel";var Bt={};function zt(e){if(!e.ya&&(e.ya=!0,e.Da(),0)){var t=function(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g)}(e);delete Bt[t]}}Vt.prototype.ya=!1,Vt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Kt=Object.freeze||function(e){return e},Wt=!We||9<=Number(ot),Ht=We&&!rt("9"),Gt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function $t(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Qe){e:{try{Be(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Yt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},_($t,Qt);var Yt=Kt({2:"touch",3:"pen",4:"mouse"});$t.prototype.preventDefault=function(){$t.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ht)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},$t.prototype.g=function(){return this.a};var Xt="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Jt,this.wa=this.Qa=!1}function en(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new Zt(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=yn(n),e&&e[Xt]?wn(e,t,n,p(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=gn(e);if(s||(e[on]=s=new tn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=vn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=yn(n),e&&e[Xt]?_n(e,t,n,p(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),e&&e[Xt]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[Xt])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function fn(e){return e in an?an[e]:an[e]="on"+e}function dn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&hn(e),n.call(r,t)}function vn(e,t){if(e.wa)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new $t(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=dn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=dn(r[i],e,!1,t),n=n&&o}return n}return pn(e,new $t(t,this))}function gn(e){return(e=e[on])instanceof tn?e:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(e){return d(e)?e:(e[mn]||(e[mn]=function(t){return e.handleEvent(t)}),e[mn])}function bn(){Vt.call(this),this.v=new tn(this),this.bc=this,this.hb=null}function wn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function _n(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&nn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(e,t,n){if(d(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function In(e){var t=null;return new bt((function(n,r){-1==(t=En((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function Sn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function kn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Cn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(bn,Vt),bn.prototype[Xt]=!0,bn.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},bn.prototype.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},bn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;pe(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Cn.prototype).X=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return An(this.b,e)?this.b[e]:t},e.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof xn?(this.i=void 0!==t?t:e.i,Rn(this,e.c),this.l=e.l,this.a=e.a,Dn(this,e.g),this.f=e.f,On(this,Zn(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Rn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),Dn(this,n[4]),this.f=jn(n[5]||"",!0),On(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!t,this.b=new Gn(null,this.i))}function Rn(e,t,n){e.c=n?jn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function On(e,t,n){t instanceof Gn?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,Wn)),e.b=new Gn(t,e.i))}function Ln(e,t,n){e.b.set(t,n)}function Mn(e,t){return e.b.get(t)}function Fn(e){return e instanceof xn?new xn(e):new xn(e,void 0)}function Un(e,t,n,r){var i=new xn(null,void 0);return e&&Rn(i,e),t&&(i.a=t),n&&Dn(i,n),r&&(i.f=r),i}function jn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Vn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,Bn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,Bn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Kn:zn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Hn)),e.join("")},xn.prototype.resolve=function(e){var t=new xn(this),n=!!e.c;n?Rn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Dn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(oe(i,"./")||oe(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?On(t,Zn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Bn=/[#\/\?@]/g,zn=/[#\?:]/g,Kn=/[#\?]/g,Wn=/[#\?@]/g,Hn=/#/g;function Gn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new Cn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $n(e){var t=kn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Gn(null,void 0);e=Sn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(e,t){Qn(e),t=er(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function Xn(e,t){return Qn(e),t=er(e,t),An(e.a.b,t)}function Jn(e,t,n){Yn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),$(n)),e.b+=n.length)}function Zn(e){var t=new Gn;return t.c=e.c,e.a&&(t.a=new Cn(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return rr(new nr,e,t),t.join("")}function nr(){}function rr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),rr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),ar(r,n),n.push(":"),rr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ar(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Gn.prototype).add=function(e,t){Qn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Qn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Qn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=Q(t,this.a.get(er(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,Xn(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(e,t){t.push('"',e.replace(or,(function(e){var t=ir[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ir[e]=t),t})),'"')}function sr(){var e=Cr();return We&&!!ot&&11==ot||/Edge\/\d+/.test(e)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(e,t){t=t||a.window;var n="about:blank";e&&(n=Ae(De(e)||Me)),t.location.href=n}function lr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<lr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function hr(e){return!!((e=(e||Cr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function fr(e){e=e||a.window;try{e.close()}catch(t){}}function dr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(t.target=r,oe(n,"crios/")&&(t.target="_blank")),Ir(Cr())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ne?n:De(void 0!==n.href?n.href:String(n))||Me,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((ce("iPhone")&&!ce("iPod")&&!ce("iPad")||ce("iPad")||ce("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ve(a=dt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ne?t:Oe(t),a.href=Ae(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=je("",r,n,a),e=Ae(t),a&&(Ge&&oe(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">',e=new Fe(e=(r=_e())?r.createHTML(e):e,null,Ue),r=a.document)&&(r.write(function(e){return e instanceof Fe&&e.constructor===Fe?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=je(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new bt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw ln(window,"load",e),t}))}function mr(e){return e=e||Cr(),!("file:"!==Rr()&&"ionic:"!==Rr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return nd.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":nd.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var e=wr();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Er="Chrome";function Ir(e){var t=e.toLowerCase();return oe(t,"opera/")||oe(t,"opr/")||oe(t,"opios/")?"Opera":oe(t,"iemobile")?"IEMobile":oe(t,"msie")||oe(t,"trident/")?"IE":oe(t,"edge/")?"Edge":oe(t,"firefox/")?Tr:oe(t,"silk/")?"Silk":oe(t,"blackberry")?"Blackberry":oe(t,"webos")?"Webos":!oe(t,"safari/")||oe(t,"chrome/")||oe(t,"crios/")||oe(t,"android")?!oe(t,"chrome/")&&!oe(t,"crios/")||oe(t,"edge/")?oe(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Er:"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Nr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ar(){try{var e=a.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!sr()||!!a.indexedDB}catch(n){return br()&&!!a.indexedDB}return!1}function Pr(){return(xr()||"chrome-extension:"===Rr()||mr())&&!_r()&&Ar()&&!br()}function xr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Dr(e){return!hr(e=e||Cr())&&Ir(e)!=Tr}function Or(e){return void 0===e?null:tr(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Mr(e){if(null!==e)return JSON.parse(e)}function Fr(e){return e||Math.floor(1e9*Math.random()).toString()}function Ur(e){return"Safari"!=Ir(e=e||Cr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Cr(),t=wr(),this.b=hr(e)||"ReactNative"===t}function Vr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Br(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function zr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}qr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!xr()&&"chrome-extension:"!==Rr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Wr={};function Hr(e){Wr[e]||(Wr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Gr.abcd}catch(tt){Kr=!1}function Qr(e,t,n){Kr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function $r(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function Yr(e){var t={};return $r(t,e),t}function Xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Xr(e[n]));return t}function Jr(e){var t=e&&(e[ri]?"phone":null);if(!(t&&e&&e[ni]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ni]),Qr(this,"displayName",e[ei]||null);var n=null;e[ti]&&(n=new Date(e[ti]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function Zr(e){try{var t=new ii(e)}catch(n){t=null}return t}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ti="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(e){Jr.call(this,e),Qr(this,"phoneNumber",e[ri])}function oi(e){var t={},n=e[ci],r=e[hi],i=e[fi];if(e=Zr(e[li]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!e)throw Error("Invalid checkActionCode response!");i==ui?(t[pi]=n||null,t[gi]=n||null,t[di]=r):(t[pi]=r||null,t[gi]=r||null,t[di]=n||null),t[vi]=e||null,Qr(this,yi,i),Qr(this,mi,Xr(t))}_(ii,Jr),ii.prototype.w=function(){var e=ii.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",gi="previousEmail",mi="data",yi="operation";function bi(e){var t=Mn(e=Fn(e),wi)||null,n=Mn(e,_i)||null,r=Mn(e,Ii)||null;if(r=r&&ki[r]||null,!t||!n||!r)throw new E("argument-error",wi+", "+_i+"and "+Ii+" are required in a valid action code URL.");$r(this,{apiKey:t,operation:r,code:n,continueUrl:Mn(e,Ti)||null,languageCode:Mn(e,Ei)||null,tenantId:Mn(e,Si)||null})}var wi="apiKey",_i="oobCode",Ti="continueUrl",Ei="languageCode",Ii="mode",Si="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ci(e){try{return new bi(e)}catch(t){return null}}function Ni(e){var t=e[Di];if(void 0===t)throw new E("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new E("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ai];if(n&&"object"==typeof n){t=n[Mi];var r=n[Oi];if(n=n[Li],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new E("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(t=e[Ri])&&"object"==typeof t){if("string"==typeof(t=t[Fi])&&t.length)this.f=t;else if(void 0!==t)throw new E("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new E("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(t=e[xi])&&"boolean"!=typeof t)throw new E("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Pi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new E("argument-error",Pi+" property must be a non empty string when specified.");this.i=e||null}var Ai="android",Pi="dynamicLinkDomain",xi="handleCodeInApp",Ri="iOS",Di="url",Oi="installApp",Li="minimumVersion",Mi="packageName",Fi="bundleId";function Ui(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var ji=null;function qi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!ji){ji={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Vi(e){var t=zi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Bi(e){try{return new Vi(e)}catch(t){return null}}function zi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=qi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ki},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Gi(e){for(var t in Hi)if(Hi[t].fa==e)return Hi[t];return null}function Qi(e){var t={};t["facebook.com"]=Zi,t["google.com"]=to,t["github.com"]=eo,t["twitter.com"]=no;var n=e&&e[Yi];try{if(n)return t[n]?new t[n](e):new Ji(e);if(void 0!==e[$i])return new Xi(e)}catch(r){}return null}var $i="idToken",Yi="providerId";function Xi(e){var t=e[Yi];if(!t&&e[$i]){var n=Bi(e[$i]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function Ji(e){Xi.call(this,e),Qr(this,"profile",Xr((e=Mr(e.rawUserInfo||"{}"))||{}))}function Zi(e){if(Ji.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(e){if(Ji.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function to(e){if(Ji.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(Ji.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function ro(e){var t=Fn(e),n=Mn(t,"link"),r=Mn(Fn(n),"link");return t=Mn(t,"deep_link_id"),Mn(Fn(t),"link")||t||r||n||e}function io(e,t){if(!e&&!t)throw new E("internal-error","Internal assert: no raw session string available");if(e&&t)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?oo:ao}_(Ji,Xi),_(Zi,Ji),_(eo,Ji),_(to,Ji),_(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(e,t){return e.then((function(e){if(e[Xa]){var n=Bi(e[Xa]);if(!n||t!=n.i)throw new E("user-mismatch");return e}throw new E("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==k+"user-not-found"?new E("user-mismatch"):e}))}function co(e,t){if(!t)throw new E("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function lo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new co(e.providerId,e.pendingToken)}catch(t){}return null}function fo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function po(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:$n(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function go(e,t){this.Qc=t||[],$r(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Gi(e)||{}).Ja||null,this.pb=null}function mo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function yo(e){go.call(this,e,Wi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(e){if(!e)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new bo).credential({accessToken:t})}function _o(){yo.call(this,"github.com")}function To(e){if(!e)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function Eo(){yo.call(this,"google.com"),this.Ca("profile")}function Io(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new Eo).credential({idToken:n,accessToken:t})}function So(){go.call(this,"twitter.com",Ki)}function ko(e,t){var n=e;if(p(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Co(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(e){return e&&e.email&&e.password?new Co(e.email,e.password,e.signInMethod):null}function Ao(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Po(e,t){if(!(t=xo(t)))throw new E("argument-error","Invalid email link!");return new Co(e,t.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function xo(e){return(e=Ci(e=ro(e)))&&e.operation===si?e:null}function Ro(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new E("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Do(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Ro(t)}return null}function Oo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Lo(e){try{this.a=e||nd.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(e,t){if(!e)throw new E("missing-verification-id");if(!t)throw new E("missing-verification-code");return new Ro({fb:e,eb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Ro({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Io(o,n);case"facebook.com":return wo(n);case"github.com":return To(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new co(t,a):new fo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new yo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Uo(e){if(!e.isOAuthProvider)throw new E("invalid-oauth-provider")}function jo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function qo(e){return(e=e||{}).type?new jo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&I(e.error),e.postBody,e.tenantId):null}function Vo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?kt(this.a):kt(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(e){return bs(e,lo(this))},co.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,ws(e,n)},co.prototype.c=function(e,t){return uo(_s(e,lo(this)),t)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(e){return bs(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ws(e,n)},fo.prototype.c=function(e,t){return uo(_s(e,po(this)),t)},fo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Jb=fe(e),this},_(mo,go),_(yo,go),yo.prototype.Ca=function(e){return W(this.a,e)||this.a.push(e),this},yo.prototype.Rb=function(){return $(this.a)},yo.prototype.credential=function(e,t){var n;if(!(n=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},_(bo,yo),Qr(bo,"PROVIDER_ID","facebook.com"),Qr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(_o,yo),Qr(_o,"PROVIDER_ID","github.com"),Qr(_o,"GITHUB_SIGN_IN_METHOD","github.com"),_(Eo,yo),Qr(Eo,"PROVIDER_ID","google.com"),Qr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(So,go),Qr(So,"PROVIDER_ID","twitter.com"),Qr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(e,As,{email:this.a,oobCode:this.f}):nu(e,Xs,{email:this.a,password:this.f})},Co.prototype.b=function(e,t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?nu(e,Ps,{idToken:t,email:this.a,oobCode:this.f}):nu(e,zs,{idToken:t,email:this.a,password:this.f})},Co.prototype.c=function(e,t){return uo(this.ka(e),t)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(Ao,{PROVIDER_ID:"password"}),$r(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(e){return e.gb(Oo(this))},Ro.prototype.b=function(e,t){var n=Oo(this);return n.idToken=t,nu(e,Zs,n)},Ro.prototype.c=function(e,t){var n=Oo(this);return n.operation="REAUTH",uo(e=nu(e,eu,n),t)},Ro.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Lo.prototype.gb=function(e,t){var n=this.a.a;return kt(t.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i&&i.type==oo?i.Ha().then((function(e){return function(e,t){return nu(e,Ws,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(t){return function(e,t){return nu(e,Hs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return nu(e,Vs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},$r(Lo,{PROVIDER_ID:"phone"}),$r(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,zo=null;function Ko(e){var t="unauthorized-domain",n=void 0,r=Fn(e);e=r.a,"chrome-extension"==(r=r.c)?n=qe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=qe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",E.call(this,t,n)}function Wo(e,t,n){E.call(this,e,n),(e=t||{}).Kb&&Qr(this,"email",e.Kb),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.$b&&Qr(this,"tenantId",e.$b)}function Ho(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:Fo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new E(t,e.message||void 0);return new Wo(t,n,e.message)}return null}function Go(){}function Qo(e){return e.c||(e.c=e.b())}function $o(){}function Yo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(nM){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ea(e,t,n){this.reset(e,t,n,void 0,void 0)}function ta(e){this.f=e,this.b=this.c=this.a=null}function na(e,t){this.name=e,this.value=t}_(Ko,E),_(Wo,E),Wo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&pe(e,t),e},Wo.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,_($o,Go),$o.prototype.a=function(){var e=Yo(this);return e?new ActiveXObject(e):new XMLHttpRequest},$o.prototype.b=function(){var e={};return Yo(this)&&(e[0]=!0,e[1]=!0),e},Bo=new $o,_(Xo,Go),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=Jo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Zo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null,ea.prototype.reset=function(e,t,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(e){return e.c?e.c:e.a?sa(e.a):(D("Root logger has no level set."),null)}ta.prototype.log=function(e,t,n){if(e.value>=sa(this).value)for(d(t)&&(t=t()),e=new ea(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ua={},ca=null;function la(e){var t;if(ca||(ca=new ta(""),ua[""]=ca,ca.c=oa),!(t=ua[e])){t=new ta(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=la(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ua[e]=t}return t}function ha(e,t){e&&e.log(aa,t,void 0)}function fa(e){this.f=e}function da(e){bn.call(this),this.u=e,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(fa,Go),fa.prototype.a=function(){return new da(this.f)},fa.prototype.b=function(e){return function(){return e}}({}),_(da,bn);var pa=0;function va(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ga(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ma(e)}function ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ya(e){bn.call(this),this.headers=new Cn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(e=da.prototype).open=function(e,t){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ma(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this)),this.readyState=pa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,va(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ga(this):ma(this),3==this.readyState&&va(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ga(this))},e.sc=function(e){this.a&&(this.response=e,ga(this))},e.Va=function(e){var t=this.i;t&&t.log(ia,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ga(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),_(ya,bn);var ba="";ya.prototype.b=la("goog.net.XhrIo");var wa=/^https?$/i,_a=["POST","PUT"];function Ta(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Bo.a(),e.C=e.D?Qo(e.D):Qo(Bo),e.a.onreadystatechange=b(e.Wb,e);try{ha(e.b,xa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return ha(e.b,xa(e,"Error opening Xhr: "+s.message)),void Ia(e,s)}t=r||"";var o=new Cn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)V(e,t,void 0);else for(var n=kn(e),r=Sn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ea,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!W(_a,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Na(e),0<e.g&&(e.u=function(e){return We&&rt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),ha(e.b,xa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=En(e.Ma,e.g,e)),ha(e.b,xa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){ha(e.b,xa(e,"Send error: "+s.message)),Ia(e,s)}}function Ea(e){return"content-type"==e.toLowerCase()}function Ia(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Sa(e),Ca(e)}function Sa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ka(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Aa(e)&&2==Pa(e))ha(e.b,xa(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))En(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){ha(e.b,xa(e,"Request complete")),e.c=!1;try{var t,n=Pa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.l).match(Pn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!wa.test(s?s.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Aa(e)?e.a.statusText:""}catch(l){ha(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Pa(e)+"]",Sa(e)}}finally{Ca(e)}}}function Ca(e,t){if(e.a){Na(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(nM){(e=e.b)&&e.log(ra,"Problem encountered resetting onreadystatechange: "+nM.message,void 0)}}}function Na(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Pa(e){try{return 2<Aa(e)?e.a.status:-1}catch(t){return-1}}function xa(e,t){return t+" ["+e.P+" "+e.l+" "+Pa(e)+"]"}function Ra(e){var t=za;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Da(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function Oa(e){if(e.a){if(!e.v)throw new Ua(e);e.v=!1}}function La(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function Ma(e){return K(e.g,(function(e){return d(e[1])}))}function Fa(e){if(e.h&&e.a&&Ma(e)){var t=e.h,n=Va[t];n&&(a.clearTimeout(n.a),delete Va[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(P(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Ma(e)||(n=!0)}}e.c=t,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),t instanceof Ra?(La(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new qa(t),Va[t.a]=t,e.h=t.a)}function Ua(){x.call(this)}function ja(){x.call(this)}function qa(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ha(this.b,xa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ha(this.b,xa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),ya.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ka(this):this.Jc())},e.Jc=function(){ka(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ha(this.b,"Can not get response: "+t.message),null}},Ra.prototype.cancel=function(e){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new ja(this),Oa(this),Da(this,!1,e))}},Ra.prototype.m=function(e,t){this.i=!1,Da(this,e,t)},Ra.prototype.then=function(e,t,n){var r,i,o=new bt((function(e,t){r=e,i=t}));return La(this,r,(function(e){e instanceof ja?o.cancel():i(e)})),o.then(e,t,n)},Ra.prototype.$goog_Thenable=!0,_(Ua,x),Ua.prototype.message="Deferred has already fired",Ua.prototype.name="AlreadyCalledError",_(ja,x),ja.prototype.message="Deferred was canceled",ja.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ba(e){var t,n=document,r=Ee(e).toString(),i=dt(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ra(o);return t=window.setTimeout((function(){Ka(i,!0);var e=new Ga(Ha,"Timeout reached for loading script "+r);Oa(s),Da(s,!1,e)}),5e3),o.Ma=t,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ka(i,!1,t),Oa(s),Da(s,!0,null))},i.onerror=function(){Ka(i,!0,t);var e=new Ga(Wa,"Error while loading script "+r);Oa(s),Da(s,!1,e)},pe(o={},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){ve(e,"HTMLScriptElement"),e.src=Ee(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=c(t.document):(null===u&&(u=c(a.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function za(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ka(e,!0,this.Ma)}}function Ka(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Wa=0,Ha=1;function Ga(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),x.call(this,n),this.code=e}function Qa(e){this.f=e}function $a(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ja,this.g=fe(e.secureTokenHeaders||Za),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||es,this.a=fe(e.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&nd.INTERNAL.node&&nd.INTERNAL.node.XMLHttpRequest)&&!br())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new fa(self):_r()?this.f=new Qa(n):this.f=new Xo,this.b=null}_(Ga,x),_(Qa,Go),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Ya,Xa="idToken",Ja=new qr(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},es=new qr(3e4,6e4),ts={"Content-Type":"application/json"};function ns(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function rs(e,t){t&&(e.l=is("https://securetoken.googleapis.com/v1/token",t),e.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=is("https://identitytoolkit.googleapis.com/v2/",t))}function is(e,t){return e=Fn(e),t=Fn(t.url),e.f=e.a+e.f,Rn(e,t.c),e.a=t.a,Dn(e,t.g),e.toString()}function os(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function as(e,t,n,r,i,o,s){(function(){var e=Cr();return!((e=Ir(e)!=Er?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||We&&ot&&!(9<ot))})()||br()?e=b(e.u,e):(Ya||(Ya=new bt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{a[us]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){La(e,null,t,void 0)}(Ba(Ie(ss,{onload:us})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=b(e.s,e)),e(t,n,r,i,o,s)}$a.prototype.T=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ha(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),_n(s,"ready",(function(){u&&clearTimeout(u),zt(this)})),_n(s,"timeout",(function(){u&&clearTimeout(u),zt(this),t&&t(null)})),Ta(s,e,n,r,i)};var ss=new ge(we,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(e,t,n,r,i,o,a){var s=Fn(t+n);Ln(s,"key",e.c),a&&Ln(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new bt((function(t,n){as(e,s.toString(),(function(e){e?e.error?n(iu(e,o||{})):t(e):n(new E("network-request-failed"))}),r,u?void 0:tr(Lr(i)),e.a,e.v.get())}))}function ls(e){if("string"!=typeof(e=e.email)||!vr.test(e))throw new E("invalid-email")}function hs(e){"email"in e&&ls(e)}function fs(e){if(!e[Xa]){if(e.mfaPendingCredential)throw new E("multi-factor-auth-required",null,fe(e));throw new E("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new E("internal-error")}else{if(!e.sessionInfo)throw new E("missing-verification-id");if(!e.code)throw new E("missing-verification-code")}}$a.prototype.s=function(e,t,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.Ab=function(){return nu(this,Ks,{})},$a.prototype.Cb=function(e,t){return nu(this,Bs,{idToken:e,email:t})},$a.prototype.Db=function(e,t){return nu(this,zs,{idToken:e,password:t})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(e){if(!e.phoneVerificationInfo)throw new E("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new E("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new E("internal-error")}function ms(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Xn(e=new Gn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ys(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ho(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ho(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ho(e)):e.errorMessage&&(t=ru(e.errorMessage)),t)throw t;fs(e)}function bs(e,t){return t.returnIdpCredential=!0,nu(e,Gs,t)}function ws(e,t){return t.returnIdpCredential=!0,nu(e,$s,t)}function _s(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,nu(e,Qs,t)}function Ts(e){if(!e.oobCode)throw new E("invalid-action-code")}(e=$a.prototype).Eb=function(e,t){var n={idToken:e},r=[];return le(ps,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},e.wb=function(e,t){return pe(e={requestType:"PASSWORD_RESET",email:e},t),nu(this,Fs,e)},e.xb=function(e,t){return pe(e={requestType:"EMAIL_SIGNIN",email:e},t),nu(this,Os,e)},e.vb=function(e,t){return pe(e={requestType:"VERIFY_EMAIL",idToken:e},t),nu(this,Ls,e)},e.Fb=function(e,t,n){return pe(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),nu(this,Ms,e)},e.gb=function(e){return nu(this,Js,e)},e.ob=function(e,t){return nu(this,qs,{oobCode:e,newPassword:t})},e.Sa=function(e){return nu(this,Is,{oobCode:e})},e.kb=function(e){return nu(this,Es,{oobCode:e})};var Es={endpoint:"setAccountInfo",A:Ts,Z:"email",B:!0},Is={endpoint:"resetPassword",A:Ts,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new E("internal-error")},B:!0},Ss={endpoint:"signupNewUser",A:function(e){if(ls(e),!e.password)throw new E("weak-password")},G:fs,V:!0,B:!0},ks={endpoint:"createAuthUri",B:!0},Cs={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new E("internal-error")}},As={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ls,G:fs,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ls,G:fs,V:!0},xs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Ds={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new E("internal-error");ls(e)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new E("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new E("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new E("internal-error");ls(e)},Z:"email",B:!0},Us={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},js={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new E("internal-error")}},qs={endpoint:"resetPassword",A:Ts,Z:"email",B:!0},Vs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",O:["idToken"],A:hs,V:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(hs(e),!e.password)throw new E("weak-password")},G:fs,V:!0},Ks={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Ws={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new E("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Gs={endpoint:"verifyAssertion",A:gs,Za:ms,G:ys,V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:gs,Za:ms,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new E("user-not-found");if(e.errorMessage)throw ru(e.errorMessage);fs(e)},V:!0,B:!0},$s={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new E("internal-error")},Za:ms,G:ys,V:!0},Ys={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new E("invalid-custom-token")},G:fs,V:!0,B:!0},Xs={endpoint:"verifyPassword",A:function(e){if(ls(e),!e.password)throw new E("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new E("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ho(e);fs(e)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},tu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Xa]^!!e.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function nu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return Ct(new E("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return kt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),cs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new E("internal-error");return r[t.Z]}))}function ru(e){return iu({error:{errors:[{message:e}],code:400,message:e}})}function iu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",pe(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],t);return!t&&e&&(t=Or(e)),new E("internal-error",t)}function ou(e){this.b=e,this.a=null,this.sb=function(e){return(cu||(cu=new bt((function(e,t){function n(){jr(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){jr(),t(Error("Network Error"))},timeout:su.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():t(Error("Network Error"))},kt(Ba(r=Ie(au,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new bt((function(t,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new ge(we,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new qr(3e4,6e4),uu=new qr(5e3,15e3),cu=null;function lu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Un((e=Fn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Un("https",this.l,null,"/__/auth/iframe"),this.a=e,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(e){try{return nd.app(e).auth().Ga()}catch(t){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(e){var t=ur();return function(e){return nu(e,Us,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Fn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ko(ur())}))}function vu(e){return e.m||(e.m=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=fu(e.b),i=new lu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=$(r||[]),e.u=i.toString()}e.v=new ou(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=qo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?kr(e.c,fu(e.b)):null,e.l=new $a(e.g,A(e.i),e.C),e.f&&rs(e.l,e.f)),e.l}function mu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new hu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=fe(u||null),e.f=c,e.zb(l).toString()}function yu(e){if(this.a=e||nd.INTERNAL.reactNative&&nd.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=b(this.c,this)}lu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},hu.prototype.zb=function(e){return this.h=e,this},hu.prototype.toString=function(){if(this.v){var e=Fn(this.v.url);e=Un(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Un("https",this.u,null,"/__/auth/handler");if(Ln(e,"apiKey",this.s),Ln(e,"appName",this.c),Ln(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=nd.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Ln(e,"providerId",this.a.providerId),t=Lr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=fe(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),he(t)||Ln(e,"customParameters",Or(t))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Ln(e,"scopes",n.join(","))),this.l?Ln(e,"redirectUrl",this.l):Yn(e.b,"redirectUrl"),this.g?Ln(e,"eventId",this.g):Yn(e.b,"eventId"),this.i?Ln(e,"v",this.i):Yn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(e,a)&&Ln(e,a,this.b[a]);return this.h?Ln(e,"tid",this.h):Yn(e.b,"tid"),this.f?Ln(e,"eid",this.f):Yn(e.b,"eid"),(a=fu(this.c)).length&&Ln(e,"fw",a.join(",")),e.toString()},(e=du.prototype).Pb=function(e,t,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return vu(e).then((function(){return function(e,t){return e.sb.then((function(){return new bt((function(n){e.a.send(t.type,t,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&fr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new bt((function(t){return function n(){In(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return In(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Cr();return!Dr(e)&&!Ur(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Ct(new E("popup-blocked"));if(a&&!Dr())return this.ma().o((function(t){fr(e),i(t)})),r(),kt();this.a||(this.a=pu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw fr(e),i(t),t}));return r(),t})).then((function(){(Uo(n),a)||cr(mu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=pu(gu(this)));var i=this;return this.a.then((function(){Uo(t),cr(mu(i.s,i.g,i.b,e,t,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return vu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new E("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){G(this.h,(function(t){return t==e}))},(e=yu.prototype).get=function(e){return kt(this.a.getItem(e)).then((function(e){return e&&Mr(e)}))},e.set=function(e,t){return kt(this.a.setItem(e,Or(t)))},e.U=function(e){return kt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,_u=[];function Tu(e,t,n){he(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Eu(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function Su(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ct(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return ku(e,c),t})).o((function(t){throw ku(e,c),t}))}function ku(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(e.a,(function(e){return e==t}))}}function Cu(){if(!xu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;br()&&self?(this.v=function(){var e=br()?self:null;if(V(_u,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);_u.push(t)}return t}(),Tu(this.v,"keyChanged",(function(t,n){return Mu(e).then((function(t){return 0<t.length&&V(e.a,(function(e){e(t)})),{keyProcessed:W(t,n.key)}}))})),Tu(this.v,"ping",(function(){return kt(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?kt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):kt(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Eu(t)),Su(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Nu(e){return new bt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new bt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Nu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Au(e){return e.i||(e.i=Nu(e)),e.i}function Pu(e,t){var n=0;return new bt((function r(i,o){Au(e).then(t).then(i).o((function(t){if(!(3<++n))return Au(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function xu(){try{return!!a.indexedDB}catch(tt){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function Du(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new bt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Lu(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Su(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):kt()}function Mu(e){return Au(e).then((function(e){var t=Ru(Du(e,!1));return t.getAll?Ou(t.getAll()):new bt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=lr(e.c,n),e.c=n}return r}))}function Fu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Uu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=kt().then((function(){if(xu()){var e=Fr(),r="__sak"+e;return wu||(wu=new Cu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){V(t.a,(function(t){t(e)}))})),e}))}function ju(){this.a={},this.type="inMemory"}function qu(){if(!function(){var e="Node"==wr();if(!(e=Vu()||e&&nd.INTERNAL.node&&nd.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Vu()||nd.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var e=a.localStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Bu(){this.type="nullStorage"}function zu(){if(!function(){var e="Node"==wr();if(!(e=Ku()||e&&nd.INTERNAL.node&&nd.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Ku()||nd.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var e=a.sessionStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Wu(){var e={};e.Browser=Qu,e.Node=$u,e.ReactNative=Yu,e.Worker=Xu,this.a=e[wr()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,(function(t){i.push(kt().then((function(){return t(e.origin,e.data.data)})))})),At(i).then((function(r){var i=[];V(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),V(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Eu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(e=Cu.prototype).set=function(e,t){var n=this,r=!1;return Pu(this,(function(t){return Ou((t=Ru(Du(t,!0))).get(e))})).then((function(i){return Pu(n,(function(o){if(o=Ru(Du(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,Lu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Pu(this,(function(t){return Ou(Ru(Du(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Pu(this,(function(r){return n=!0,t.b++,Ou(Ru(Du(r,!0)).delete(e))})).then((function(){return delete t.c[e],Lu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Mu(e).then((function(t){0<t.length&&V(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Fu(e),t()}(this),this.a.push(e)},e.ia=function(e){G(this.a,(function(t){return t==e})),0==this.a.length&&Fu(this)},(e=Uu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){G(this.a,(function(t){return t==e}))},(e=ju.prototype).get=function(e){return kt(this.a[e])},e.set=function(e,t){return this.a[e]=t,kt()},e.U=function(e){return delete this.a[e],kt()},e.ca=function(){},e.ia=function(){},(e=qu.prototype).get=function(e){var t=this;return kt().then((function(){return Mr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&sn(a.window,"storage",e)},e.ia=function(e){a.window&&ln(a.window,"storage",e)},(e=Bu.prototype).get=function(){return kt(null)},e.set=function(){return kt()},e.U=function(){return kt()},e.ca=function(){},e.ia=function(){},(e=zu.prototype).get=function(e){var t=this;return kt().then((function(){return Mr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return kt().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Hu,Gu,Qu={F:qu,cb:zu},$u={F:qu,cb:zu},Yu={F:yu,cb:Bu},Xu={F:qu,cb:Bu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var e=!(Ur(Cr())||!yr()),t=Dr(),n=Ar();this.m=e,this.h=t,this.l=n,this.a={},Hu||(Hu=new Wu),e=Hu;try{this.g=!sr()&&zr()||!a.indexedDB?new e.a.F:new Uu(br()?new ju:new e.a.F)}catch(r){this.g=new ju,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new ju}this.v=new ju,this.f=b(this.Zb,this),this.b={}}function ec(){return Gu||(Gu=new Zu),Gu}function tc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function nc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function rc(e,t,n){return n=nc(t,n),"local"==t.F&&(e.b[n]=null),tc(e,t.F).U(n)}function ic(e){e.c&&(clearInterval(e.c),e.c=null)}function oc(e){this.a=e,this.b=ec()}(e=Zu.prototype).get=function(e,t){return tc(this,e.F).get(nc(e,t))},e.set=function(e,t,n){var r=nc(e,n),i=this,o=tc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=nc(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),he(this.a)&&(tc(this,"local").ca(this.f),this.h||(sr()||!zr())&&a.indexedDB||!this.l||function(e){ic(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new $t({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=nc(e,t),this.a[e]&&(G(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),he(this.a)&&(tc(this,"local").ia(this.f),ic(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?tc(this,"local").ia(this.f):ic(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},We&&ot&&10==ot&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,b(this.nb,this))},e.nb=function(e){this.a[e]&&V(this.a[e],(function(e){e()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=ec()}function cc(e,t){this.b=lc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(mc):mc),this.reset()}_(cc,(function(){this.b=-1}));for(var lc=64,hc=lc-1,fc=[],dc=0;dc<hc;dc++)fc[dc]=0;var pc=Q(128,fc);function vc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ac[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(vc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(vc(e),i=0)}}e.c=i,e.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):$(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}_(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(e){return new E("invalid-cordova-configuration",e)}function Tc(e){var t=new yc;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,pc,56-t.c):gc(t,pc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(vc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return z(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ec(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ic(e){return e.f||(e.f=e.ma().then((function(){return new bt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Sc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ro(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Fn(i),"firebaseError")||null))?I(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ec(e,i)}))}var n=new jo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=In(500).then((function(){return Sc(e).then((function(){r||Ec(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},zo||(zo=new Vo),function(e){var t=zo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Nr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Sc(e){var t=null;return function(e){return e.b.get(sc,e.a).then((function(e){return qo(e)}))}(e.g).then((function(n){return t=n,rc((n=e.g).b,sc,n.a)})).then((function(){return t}))}function kc(e){this.a=e,this.b=ec()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new bt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},e.Pb=function(e,t){return t(new E("operation-not-supported-in-this-environment")),kt()},e.Nb=function(){return Ct(new E("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Ct(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=kt().then((function(){return Uo(t),Ic(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new jo(t,r,null,o,new E("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",a),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return Ct(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var h=mu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(sc,s.w(),t)})).then((function(){var t=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new E("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");t=Cr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new bt((function(e,t){u=function(){var t=Nr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=In(2e3).then((function(){t(new E("redirect-cancelled-by-user"))})))},l=function(){Vr()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Sc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Ic(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new jo("unknown",null,null,null,new E("no-auth-event")),e(t))}))},e.Ta=function(e){G(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function Nc(e){return rc(e.b,Cc,e.a)}function Ac(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.C=new $c,this.g=new kc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Pc(this.D,this.v,this.m,S,this.J)}function Pc(e,t,n,r,i){var o=nd.SDK_VERSION||null;return mr()?new wc(e,t,n,o,r,i):new du(e,t,n,o,r,i)}function xc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rc(e){e.a.Yb()&&xc(e).o((function(t){var n=new jo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)})),e.a.Ub()||Wc(e.b)}function Dc(e,t){W(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Nc(e.g).then((function(){xc(e).o((function(t){var n=new jo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)}))})):Rc(e)})).o((function(){Rc(e)}))}function Oc(e,t){G(e.h,(function(e){return e==t}))}Ac.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Pc(this.D,this.v,this.m,null,this.J),this.i={}},Ac.prototype.s=function(e){if(!e)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Wc(this.b),t};var Lc=new qr(2e3,1e4),Mc=new qr(3e4,6e4);function Fc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Uc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function jc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Uc(t))throw new E("operation-not-supported-in-this-environment");return o=t,Nc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new bt((function(){})):Nc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function qc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Lc.get())}Ac.prototype.ra=function(){return this.b.ra()};var Vc={};function Bc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function zc(e,t,n,r){var i=Bc(t,n,r);return Vc[i]||(Vc[i]=new Ac(e,t,n,r)),Vc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Hc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Gc(e,t){if(e.b=function(){return kt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ct(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Gc(e,n):Gc(e,{user:null}),e.f=[],e.c=[]}function $c(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Xc(e,t){this.a=t,Qr(this,"verificationId",e)}function Jc(e,t,n,r){return new Lo(e).gb(t,n).then((function(e){return new Xc(e,r)}))}function Zc(e){var t=zi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:e,expirationTime:Br(1e3*t.exp),authTime:Br(1e3*t.auth_time),issuedAtTime:Br(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function el(e,t,n){var r=t&&t[nl];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=fe(t),this.g=n,this.c=new io(null,r),this.b=[];var i=this;V(t[tl]||[],(function(e){(e=Zr(e))&&i.b.push(e)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),kt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):Ct(new E("invalid-auth-event")):(Qc(this,!1,null,null),kt())}else Ct(new E("invalid-auth-event"))},Kc.prototype.ra=function(){var e=this;return new bt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new E("timeout");e.a&&e.a.cancel(),e.a=In(Mc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},$c.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),kt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Ct(new E("invalid-auth-event"))}else Ct(new E("invalid-auth-event"))},Xc.prototype.confirm=function(e){return e=Mo(this.verificationId,e),this.a(e)};var tl="mfaInfo",nl="mfaPendingCredential";function rl(e,t,n,r){E.call(this,"multi-factor-auth-required",r,t),this.b=new el(e,t,n),Qr(this,"resolver",this.b)}function il(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new rl(t,e.serverResponse,n,e.message)}catch(r){}return null}function ol(){}function al(e){Qr(this,"factorId",e.fa),this.a=e}function sl(e){if(al.call(this,e),this.a.fa!=Lo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function cl(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&V(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ni]=e.uid),e.displayName&&(r[ei]=e.displayName),e.enrollmentTime&&(r[ti]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ri]=e.phoneNumber);try{t=new ii(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),ll(this,n)}function ll(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(e,t){e.stop(),e.b=In(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=a.document,t=null;return Vr()||!e?kt():new bt((function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){fl(e,!0)})).o((function(t){e.i(t)&&fl(e,!1)}))}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){void 0===t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function vl(e,t){e.b=Bi(t[Xa]||""),e.a=t.refreshToken,pl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function gl(e,t){return function(e,t){return new bt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?as(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(iu(e)):e.access_token&&e.refresh_token?n(e):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",$n(t).toString(),e.g,e.m.get()):r(new E("internal-error"))}))}(e.f,t).then((function(t){return e.b=Bi(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function ml(e,t){this.a=e||null,this.b=t||null,$r(this,{lastSignInTime:Br(t||null),creationTime:Br(e||null)})}function yl(e,t,n,r,i,o){$r(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function bl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=nd.SDK_VERSION?kr(nd.SDK_VERSION):null;this.a=new $a(this.l,A(S),r),(this.u=e.emulatorConfig||null)&&rs(this.a,this.u),this.h=new dl(this.a),Nl(this,t[Xa]),vl(this.h,t),Qr(this,"refreshToken",this.h.a),xl(this,n||{}),bn.call(this),this.P=!1,this.s&&Pr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){wl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){El(i,e.f)},this.ja=null,this.S=new cl(this,n),Qr(this,"multiFactor",this.S)}function wl(e,t){e.u=t,rs(e.a,t),e.b&&(t=e.b,e.b=zc(e.s,e.l,e.m,e.u),e.P&&(Oc(t,e),Dc(e.b,e)))}function _l(e,t){e.qa&&ln(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&sn(t,"languageCodeChanged",e.Pa)}function Tl(e,t){e.$&&ln(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&sn(t,"emulatorConfigChanged",e.Ba)}function El(e,t){e.aa=t,os(e.a,nd.SDK_VERSION?kr(nd.SDK_VERSION,e.aa):null)}function Il(e,t){e.ja&&ln(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&sn(t,"frameworkChanged",e.Oa)}function Sl(e){try{return nd.app(e.m).auth()}catch(t){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function kl(e){e.J||e.D.b||(e.D.start(),ln(e,"tokenChanged",e.ba),sn(e,"tokenChanged",e.ba))}function Cl(e){ln(e,"tokenChanged",e.ba),e.D.stop()}function Nl(e,t){e.Aa=t,Qr(e,"_lat",t)}function Al(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return At(t).then((function(){return e}))}function Pl(e){e.b&&!e.P&&(e.P=!0,Dc(e.b,e))}function xl(e,t){$r(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rl(){}function Dl(e){return kt().then((function(){if(e.J)throw new E("app-deleted")}))}function Ol(e){return z(e.providerData,(function(e){return e.providerId}))}function Ll(e,t){t&&(Ml(e,t.providerId),e.providerData.push(t))}function Ml(e,t){G(e.providerData,(function(e){return e.providerId==t}))}function Fl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function Ul(e,t){e!=t&&($r(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Qr(e,"metadata",new ml),V(t.providerData,(function(t){Ll(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Qr(e,"refreshToken",e.h.a),ll(e.S,t.S.b))}function jl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return nu(e.a,Ds,{idToken:t}).then(b(e.Kc,e))}(e,t).then((function(){return n||Fl(e,"isAnonymous",!1),t}))}))}function ql(e,t){t[Xa]&&e.Aa!=t[Xa]&&(vl(e.h,t),e.dispatchEvent(new ul("tokenChanged")),Nl(e,t[Xa]),Fl(e,"refreshToken",e.h.a))}function Vl(e,t){return jl(e).then((function(){if(W(Ol(e),t))return Al(e).then((function(){throw new E("provider-already-linked")}))}))}function Bl(e,t,n){return Yr({user:e,credential:Fo(t),additionalUserInfo:t=Qi(t),operationType:n})}function zl(e,t){return ql(e,t),e.reload().then((function(){return e}))}function Kl(e,t,n,r,i){if(!Pr())return Ct(new E("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ct(e.i);var o=Gi(n.providerId),a=Fr(e.uid+":::"),s=null;(!Dr()||yr())&&e.s&&n.isOAuthProvider&&(s=mu(e.s,e.l,e.m,t,n,null,a,nd.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=dr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Hl(e),!i)return e.I().then((function(){}))})).then((function(){return Fc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new bt((function(n,r){e.na(t,null,new E("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=qc(e.b,e,t,u,a)}))})).then((function(e){return u&&fr(u),e?Yr(e):null})).o((function(e){throw u&&fr(u),e})),Gl(e,r,i)}function Wl(e,t,n,r,i){if(!Pr())return Ct(new E("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ct(e.i);var o=null,a=Fr(e.uid+":::");return r=r().then((function(){if(Hl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Al(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Yl,e.w(),t.a)),t})).then((function(){return jc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Xl(e.ha);throw o})).then((function(){if(o)throw o})),Gl(e,r,i)}function Hl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Gl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Ct(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ul("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){H(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),Sl(e),b(e.jc,e))),n||t}))}function Ql(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Xa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(t,n,e);return e.providerData&&V(e.providerData,(function(e){e&&Ll(i,Yr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function $l(e){this.a=e,this.b=ec()}el.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=fe(t.f);return delete n[tl],delete n[nl],pe(n,e),t.g(n)}))},_(rl,E),ol.prototype.tb=function(e,t,n){return t.type==oo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pe(n,{phoneVerificationInfo:Oo(e.a)}),nu(t,xs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return pe(n={mfaPendingCredential:n},{phoneVerificationInfo:Oo(e.a)}),nu(t,Rs,n)}))}(this,e,t)},_(al,ol),_(sl,al),_(ul,Qt),(e=cl.prototype).yc=function(e){ll(this,function(e){var t=[];return V(e.mfaInfo||[],(function(e){(e=Zr(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new io(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return ql(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return nu(r,tu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=B(t.b,(function(e){return e.uid!=n}));return ll(t,r),ql(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ct(new E("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(bl,bn),bl.prototype.xa=function(e){this.za=e,ns(this.a,e)},bl.prototype.la=function(){return this.za},bl.prototype.Ga=function(){return $(this.aa)},bl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(bl.prototype,"providerId","firebase"),(e=bl.prototype).reload=function(){var e=this;return Gl(this,Dl(this).then((function(){return jl(e).then((function(){return Al(e)})).then(Rl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Zc(e)}))},e.I=function(e){var t=this;return Gl(this,Dl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new E("internal-error");return e.accessToken!=t.Aa&&(Nl(t,e.accessToken),t.dispatchEvent(new ul("tokenChanged"))),Fl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new E("internal-error");xl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?z(e,(function(e){return new yl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ll(this,t[n]);Fl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:e}))},e.Lc=function(e){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Gl(this,e.c(this.a,this.uid).then((function(e){return ql(t,e),n=Bl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Gl(this,Vl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Bl(t,e,"link"),zl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Gl(this,Vl(this,"phone").then((function(){return Jc(Sl(n),e,t,b(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Gl(this,kt().then((function(){return Jc(Sl(n),e,t,b(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Gl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return ql(t,e),t.reload()})))},e.ed=function(e){var t=this;return Gl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return ql(t,e),t.reload()})))},e.Db=function(e){var t=this;return Gl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return ql(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Dl(this);var t=this;return Gl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return ql(t,e),Fl(t,"displayName",e.displayName||null),Fl(t,"photoURL",e.photoUrl||null),V(t.providerData,(function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))})),Al(t)})).then(Rl))},e.cd=function(e){var t=this;return Gl(this,jl(this).then((function(n){return W(Ol(t),e)?function(e,t,n){return nu(e,Ns,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return V(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),V(Ol(t),(function(e){n[e]||Ml(t,e)})),n[Lo.PROVIDER_ID]||Qr(t,"phoneNumber",null),Al(t)})):Al(t).then((function(){throw new E("no-such-provider")}))})))},e.delete=function(){var e=this;return Gl(this,this.I().then((function(t){return nu(e.a,Cs,{idToken:t})})).then((function(){e.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");_l(e,null),Tl(e,null),Il(e,null),e.N=[],e.J=!0,Cl(e),Qr(e,"refreshToken",null),e.b&&Oc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Mb,this):null},e.Ec=function(e){var t=this;return Kl(this,"linkViaPopup",e,(function(){return Vl(t,e.providerId).then((function(){return Al(t)}))}),!1)},e.Nc=function(e){return Kl(this,"reauthViaPopup",e,(function(){return kt()}),!0)},e.Fc=function(e){var t=this;return Wl(this,"linkViaRedirect",e,(function(){return Vl(t,e.providerId)}),!1)},e.Oc=function(e){return Wl(this,"reauthViaRedirect",e,(function(){return kt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Bl(i,e,"link"),zl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gl(this,kt().then((function(){return uo(_s(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Bl(i,e,"reauthenticate"),ql(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Gl(this,this.I().then((function(t){return n=t,void 0===e||he(e)?{}:Ui(new Ni(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Gl(this,this.I().then((function(e){return r=e,void 0===t||he(t)?{}:Ui(new Ni(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Gl(this,e=uo(kt(e),n.uid).then((function(e){return t=Bl(n,e,"reauthenticate"),ql(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&pe(e,this.metadata.w()),V(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),pe(e,this.S.w()),e};var Yl={name:"redirectUser",F:"session"};function Xl(e){return rc(e.b,Yl,e.a)}function Jl(e){this.a=e,this.b=ec(),this.c=null,this.f=function(e){var t=th("local"),n=th("session"),r=th("none");return function(e,t,n){var r=nc(t,n),i=tc(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(eh,e.a).then((function(e){return e?th(e):t}))}))}))})).then((function(t){return e.c=t,Zl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(th("local"),this.a,b(this.g,this))}function Zl(e,t){var n,r=[];for(n in Ju)Ju[n]!==t&&r.push(rc(e.b,th(Ju[n]),e.a));return r.push(rc(e.b,eh,e.a)),function(e){return new bt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Nt(e[s],w(o,s),a);else t(i)}))}(r)}Jl.prototype.g=function(){var e=this,t=th("local");oh(this,(function(){return kt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zl(e,"local").then((function(){e.c=t}))}))}))};var eh={name:"persistence",F:"session"};function th(e){return{name:"authUser",F:e}}function nh(e,t){return oh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function rh(e){return oh(e,(function(){return rc(e.b,e.c,e.a)}))}function ih(e,t,n){return oh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ql(e||{})}))}))}function oh(e,t){return e.f=e.f.then(t,t),e.f}function ah(e){if(this.l=!1,Qr(this,"settings",new Yc),Qr(this,"app",e),!vh(this).options||!vh(this).options.apiKey)throw new E("invalid-api-key");e=nd.SDK_VERSION?kr(nd.SDK_VERSION):null,this.a=new $a(vh(this).options&&vh(this).options.apiKey,A(S),e),this.P=[],this.s=[],this.N=[],this.Pa=nd.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=nd.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new $l(vh(this).options.apiKey+":"+vh(this).name),this.$=bh(this,function(e){var t=vh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Yl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ql(e||{})}))}(e.D,vh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Xl(e.D)}));return bh(e,t)}(e).then((function(){return ih(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return nh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:rh(e.i)}))):null})).then((function(t){dh(e,t||null)}));return bh(e,n)}(this)),this.h=bh(this,function(e){return e.$.then((function(){return hh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(th("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(e){var t=vh(e).options.authDomain,n=vh(e).options.apiKey;t&&Pr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=zc(t,n,vh(e).name,e.R),Dc(e.b,e),gh(e)&&Pl(gh(e)),e.m){Pl(e.m);var r=e.m;r.xa(e.la()),_l(r,e),El(r=e.m,e.J),Il(r,e),wl(r=e.m,e.R),Tl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Fn(this.R.url);e=Yr({protocol:e.c,host:e.a,port:e.g,options:Yr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function sh(e){Qt.call(this,"languageCodeChanged"),this.h=e}function uh(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function ch(e){Qt.call(this,"frameworkChanged"),this.f=e}function lh(e){return e.Oa||Ct(new E("auth-domain-config-required"))}function hh(e){if(!Pr())return Ct(new E("operation-not-supported-in-this-environment"));var t=lh(e).then((function(){return e.b.ra()})).then((function(e){return e?Yr(e):null}));return bh(e,t)}function fh(e,t){var n={};return n.apiKey=vh(e).options.apiKey,n.authDomain=vh(e).options.authDomain,n.appName=vh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new bl(e,t);return n&&(i.ha=n),r&&El(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return gh(e)&&t.uid==gh(e).uid?(Ul(gh(e),t),e.da(t)):(dh(e,t),Pl(t),e.da(t))})).then((function(){yh(e)}))}function dh(e,t){gh(e)&&(function(e,t){G(e.W,(function(e){return e==t}))}(gh(e),e.Ba),ln(gh(e),"tokenChanged",e.qa),ln(gh(e),"userDeleted",e.za),ln(gh(e),"userInvalidated",e.Aa),Cl(gh(e))),t&&(t.W.push(e.Ba),sn(t,"tokenChanged",e.qa),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.u&&kl(t)),Qr(e,"currentUser",t),t&&(t.xa(e.la()),_l(t,e),El(t,e.J),Il(t,e),wl(t,e.R),Tl(t,e))}function ph(e,t){var n=null,r=null;return bh(e,t.then((function(t){return n=Fo(t),r=Qi(t),fh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),e,b(e.kc,e))),n||t})).then((function(){return Yr({user:gh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(e){return e.app}function gh(e){return e.currentUser}function mh(e){return gh(e)&&gh(e)._lat||null}function yh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](mh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](mh(e))}}function bh(e,t){return e.P.push(t),t.oa((function(){H(e.P,t)})),t}function wh(){}function _h(){this.a={},this.b=1e12}Jl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");e:{for(r in Ju)if(Ju[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(wr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!xu()&&"none"!==e)throw n;break;default:if(!Ar()&&"none"!==e)throw n}}(e),oh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zl(n,e)})).then((function(){if(n.c=th(e),t)return n.b.set(n.c,t,n.a)})):kt()}))},_(ah,bn),_(sh,Qt),_(uh,Qt),_(ch,Qt),(e=ah.prototype).yb=function(e){return bh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,ns(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&gr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,rs(this.a,this.R),this.dispatchEvent(new uh(this.R))}},e.Gc=function(e){this.J.push(e),os(this.a,nd.SDK_VERSION?kr(nd.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},e.Ga=function(){return $(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:gh(this)&&gh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ph(i,bs(i.a,o))}))},e.Xc=function(e){if(!Pr())return Ct(new E("operation-not-supported-in-this-environment"));var t=this,n=Gi(e.providerId),r=Fr(),i=null;(!Dr()||yr())&&vh(this).options.authDomain&&e.isOAuthProvider&&(i=mu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",e,null,r,nd.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return bh(this,n=lh(this).then((function(n){return Fc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new bt((function(e,n){t.na("signInViaPopup",null,new E("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=qc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&fr(o),e?Yr(e):null})).o((function(e){throw o&&fr(o),e})))},e.Yc=function(e){if(!Pr())return Ct(new E("operation-not-supported-in-this-environment"));var t=this;return bh(this,lh(this).then((function(){return function(e){return oh(e,(function(){return e.b.set(eh,e.c.F,e.a)}))}(t.i)})).then((function(){return jc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return hh(this).then((function(t){return e.b&&Hc(e.b.b),t})).o((function(t){throw e.b&&Hc(e.b.b),t}))},e.dd=function(e){if(!e)return Ct(new E("null-user"));if(this.S!=e.tenantId)return Ct(new E("tenant-id-mismatch"));var t=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new bl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&El(t,r),Ul(t,e),t}(e,n,t.D,t.Ga());return bh(this,this.h.then((function(){if(vh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return gh(t)&&e.uid==gh(t).uid?(Ul(gh(t),e),t.da(e)):(dh(t,r),Pl(r),t.da(r))})).then((function(){yh(t)})))},e.Bb=function(){var e=this;return bh(this,this.h.then((function(){return e.b&&Hc(e.b.b),gh(e)?(dh(e,null),rh(e.i).then((function(){yh(e)}))):kt()})))},e.Zc=function(){var e=this;return ih(this.i,vh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=gh(e)&&t){n=gh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ul(gh(e),t),gh(e).I();(gh(e)||t)&&(dh(e,t),t&&(Pl(t),t.ha=e.D),e.b&&Dc(e.b,e),yh(e))}}))},e.da=function(e){return nh(this.i,e)},e.mc=function(){yh(this),this.da(gh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return ph(t,kt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(gh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),bh(e,e.h.then((function(){!e.l&&W(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(mh(e)))})))}(this,(function(){e.next(gh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return bh(this,this.h.then((function(){return gh(t)?gh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return ph(t,nu(t.a,Ys,{token:e}))})).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return ph(n,nu(n.a,Xs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return ph(n,nu(n.a,Ss,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return ph(t,e.ka(t.a))}))},e.Sc=function(e){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=gh(e);if(t&&t.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ph(e,e.a.Ab()).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return gh(this)&&gh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&gh(this)&&kl(gh(this))},e.Pc=function(e){var t=this;V(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&gh(this)&&Cl(gh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),bh(this,this.h.then((function(){t.l||W(t.s,e)&&e(mh(t))})))},e.removeAuthTokenListener=function(e){G(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(th("local"),e.a,this.ja),this.b&&(Oc(this.b,this),Hc(this.b.b)),Promise.resolve()},e.hc=function(e){return bh(this,function(e,t){return nu(e,ks,{identifier:t,continueUri:xr()?ur():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!xo(e)},e.xb=function(e,t){var n=this;return bh(this,kt().then((function(){var e=new Ni(t);if(!e.c)throw new E("argument-error",xi+" must be true when sending sign in link to email");return Ui(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return bh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return bh(this,this.a.Sa(e).then((function(e){return new oi(e)})))},e.kb=function(e){return bh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return bh(this,kt().then((function(){return void 0===t||he(t)?{}:Ui(new Ni(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return bh(this,Jc(this,e,t,b(this.ab,this)))},e.Vc=function(e,t){var n=this;return bh(this,kt().then((function(){var r=t||ur(),i=Po(e,r);if(!(r=xo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.ab(i)})))},wh.prototype.render=function(){},wh.prototype.reset=function(){},wh.prototype.getResponse=function(){},wh.prototype.execute=function(){};var Th=null;function Eh(e,t){return(t=Ih(t))&&e.a[t]||null}function Ih(e){return(e=void 0===e?1e12:e)?e.toString():null}function Sh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=st(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function kh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ch(){}function Nh(){}_h.prototype.render=function(e,t){return this.a[this.b.toString()]=new Sh(e,t),this.b++},_h.prototype.reset=function(e){var t=Eh(this,e);e=Ih(e),t&&e&&(t.delete(),delete this.a[e])},_h.prototype.getResponse=function(e){return(e=Eh(this,e))?e.getResponse():null},_h.prototype.execute=function(e){(e=Eh(this,e))&&e.execute()},Sh.prototype.getResponse=function(){return kh(this),this.b},Sh.prototype.execute=function(){kh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Sh.prototype.delete=function(){kh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Qr(Ch,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Th||(Th=new _h),kt(Th)},Nh.prototype.c=function(){};var Ah=null;function Ph(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new ge(we,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new qr(3e4,6e4);Ph.prototype.g=function(e){var t=this;return new bt((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),Rh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[t.a]},kt(Ba(Ie(xh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Ph.prototype.c=function(){this.b--};var Dh=null;function Oh(e,t,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(Ah||(Ah=new Nh),s=Ah):(Dh||(Dh=new Ph),s=Dh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!st(t)||!this.i&&st(t).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $a(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lh];this.a[Lh]=function(e){if(jh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Nr(c,a);"function"==typeof t&&t(e)}};var l=this.a[Mh];this.a[Mh]=function(){if(jh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Nr(l,a);"function"==typeof e&&e()}}}var Lh="callback",Mh="expired-callback",Fh="sitekey",Uh="size";function jh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function qh(e,t){return e.h.push(t),t.oa((function(){H(e.h,t)})),t}function Vh(e){if(e.J)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(e,t,n){var r=!1;try{this.b=n||nd.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=nd.SDK_VERSION?kr(nd.SDK_VERSION,o):null,Oh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,A(S),r)}function zh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Kh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Kh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new E("argument-error",e+" failed: "+r)}(e=Oh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=qh(this,kt().then((function(){if(xr()&&!br())return gr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,nu(e.s,js,{})})).then((function(t){e.a[Fh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Vh(this);var e=this;return qh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=st(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!at&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var s={};pe(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=dt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ut(o,a)),2<r.length&&ft(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Vh(this);var e=this;return qh(this,this.render().then((function(t){return new bt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){G(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Vh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=st(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},_(Bh,Oh);var Kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Hh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Gh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Qh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function $h(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Yh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Xh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Jh(e){return p(e)&&"string"==typeof e.uid}function Zh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ef(e,t){for(var n in t){var r=t[n].name;e[r]=rf(r,e[n],t[n].j)}}function tf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){zh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function nf(e,t,n,r){e[t]=rf(t,n,r)}function rf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return zh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ef(ah.prototype,{kb:{name:"applyActionCode",j:[Wh("code")]},Sa:{name:"checkActionCode",j:[Wh("code")]},ob:{name:"confirmPasswordReset",j:[Wh("code"),Wh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wh("email"),Wh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Wh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Wh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Gh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Gh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Wh("email"),Zh(Gh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Wh("email"),Gh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Wh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Yh()]},Tc:{name:"signInWithCustomToken",j:[Wh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Wh("email"),Wh("password")]},Vc:{name:"signInWithEmailLink",j:[Wh("email"),Wh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof bl)}},$h(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Wh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Wh("code")]}}),tf(ah.prototype,{lc:{name:"languageCode",lb:Zh(Wh(),$h(),"languageCode")},ti:{name:"tenantId",lb:Zh(Wh(),$h(),"tenantId")}}),ah.Persistence=Ju,ah.Persistence.LOCAL="local",ah.Persistence.SESSION="session",ah.Persistence.NONE="none",ef(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yh()]},rb:{name:"linkWithCredential",j:[Yh()]},Dc:{name:"linkWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yh()]},ub:{name:"reauthenticateWithCredential",j:[Yh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Wh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Zh(Gh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wh(null,!0)]},cd:{name:"unlink",j:[Wh("provider")]},Cb:{name:"updateEmail",j:[Wh("email")]},Db:{name:"updatePassword",j:[Wh("password")]},ed:{name:"updatePhoneNumber",j:[Yh("phone")]},Eb:{name:"updateProfile",j:[Gh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Wh("email"),Zh(Gh("opt_actionCodeSettings",!0),$h(null,!0),"opt_actionCodeSettings",!0)]}}),ef(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hh("appVerificationDisabledForTesting")}}),ef(Xc.prototype,{confirm:{name:"confirm",j:[Wh("verificationCode")]}}),nf(so,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,No,Do,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Zh(Wh(),Gh(),"json")]),nf(Ao,"credential",(function(e,t){return new Co(e,t)}),[Wh("email"),Wh("password")]),ef(Co.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(bo,"credential",wo,[Zh(Wh(),Gh(),"token")]),nf(Ao,"credentialWithLink",Po,[Wh("email"),Wh("emailLink")]),ef(_o.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(_o,"credential",To,[Zh(Wh(),Gh(),"token")]),ef(Eo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(Eo,"credential",Io,[Zh(Wh(),Zh(Gh(),$h()),"idToken"),Zh(Wh(),$h(),"accessToken",!0)]),ef(So.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),nf(So,"credential",ko,[Zh(Wh(),Gh(),"token"),Wh("secret",!0)]),ef(yo.prototype,{Ca:{name:"addScope",j:[Wh("scope")]},credential:{name:"credential",j:[Zh(Wh(),Zh(Gh(),$h()),"optionsOrIdToken"),Zh(Wh(),$h(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),ef(fo.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),nf(Lo,"credential",Mo,[Wh("verificationId"),Wh("verificationCode")]),ef(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[Zh(Wh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Xh(e.session,oo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Xh(e.session,ao)&&Jh(e.multiFactorHint):e.session&&e.multiFactorUid?Xh(e.session,ao)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),ef(Ro.prototype,{w:{name:"toJSON",j:[Wh(null,!0)]}}),ef(E.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Wo.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(Ko.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(rl.prototype,{toJSON:{name:"toJSON",j:[Wh(null,!0)]}}),ef(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ef(cl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Wh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},Wh(),"multiFactorInfoIdentifier")]}}),ef(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(bi,"parseLink",Ci,[Wh("link")]),nf(Ch,"assertion",(function(e){return new sl(e)}),[Yh("phone")]),function(){if(void 0===nd||!nd.INTERNAL||!nd.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ah,AuthCredential:so,Error:E};nf(e,"EmailAuthProvider",Ao,[]),nf(e,"FacebookAuthProvider",bo,[]),nf(e,"GithubAuthProvider",_o,[]),nf(e,"GoogleAuthProvider",Eo,[]),nf(e,"TwitterAuthProvider",So,[]),nf(e,"OAuthProvider",yo,[Wh("providerId")]),nf(e,"SAMLAuthProvider",mo,[Wh("providerId")]),nf(e,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ah)}}]),nf(e,"RecaptchaVerifier",Bh,[Zh(Wh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof nd.app.App)}}]),nf(e,"ActionCodeURL",bi,[]),nf(e,"PhoneMultiFactorGenerator",Ch,[]),nd.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new ah(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),nd.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),nd.registerVersion("@firebase/auth","0.16.8"),nd.INTERNAL.extendNamespace({User:bl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Wp="";function Hp(e){Wp=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gp,Qp=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),hf(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:lf(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),$p=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return df(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),Yp=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Qp(t)}}catch(nM){}return new $p},Xp=Yp("localStorage"),Jp=Yp("sessionStorage"),Zp=new Vf("@firebase/database"),ev=(Gp=1,function(){return Gp++}),tv=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,jh(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new mf;n.update(t);var r=n.digest();return Bh.encodeByteArray(r)},nv=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=nv.apply(null,i):n+="object"==typeof i?hf(i):i,n+=" "}return n},rv=null,iv=!0,ov=function(e,t){jh(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zp.logLevel=Df.VERBOSE,rv=Zp.log.bind(Zp),t&&Jp.set("logging_enabled",!0)):"function"==typeof e?rv=e:(rv=null,Jp.remove("logging_enabled"))},av=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===iv&&(iv=!1,null===rv&&!0===Jp.get("logging_enabled")&&ov(!0)),rv){var n=nv.apply(null,e);rv(n)}},sv=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];av.apply(void 0,Mh([e],Lh(t)))}},uv=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+nv.apply(void 0,Mh([],Lh(e)));Zp.error(n)},cv=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+nv.apply(void 0,Mh([],Lh(e)));throw Zp.error(n),new Error(n)},lv=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+nv.apply(void 0,Mh([],Lh(e)));Zp.warn(n)},hv=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fv="[MIN_NAME]",dv="[MAX_NAME]",pv=function(e,t){if(e===t)return 0;if(e===fv||t===dv)return-1;if(t===fv||e===dv)return 1;var n=Tv(e),r=Tv(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},vv=function(e,t){return e===t?0:e<t?-1:1},gv=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+hf(t))},mv=function(e){if("object"!=typeof e||null===e)return hf(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=hf(t[i]),r+=":",r+=mv(e[t[i]]);return r+="}"},yv=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var wv=function(e){jh(!hv(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var _v=new RegExp("^-?(0*)\\d{1,10}$"),Tv=function(e){if(_v.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ev=function(e){try{e()}catch(nM){setTimeout((function(){var t=nM.stack||"";throw lv("Exception was thrown by user callback.",t),nM}),Math.floor(0))}},Iv=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},Sv=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){lv('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),kv=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(av("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lv(e)},e}(),Cv=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Nv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Av=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xp.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xp.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Pv(e,t,n){var r;if(jh("string"==typeof t,"typeof type must == string"),jh("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return bv(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xv=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),df(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Hh(this.counters_)},e}(),Rv={},Dv={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(e){var t=e.toString();return Rv[t]||(Rv[t]=new xv),Rv[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Lv=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Ev((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Mv=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sv(e),this.stats_=Ov(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Pv(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Lv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Fv((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Lh(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Lh(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&Nv.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=hf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=zh(t),r=yv(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=hf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Fv=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=ev(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(nM){av("frame writing exception"),nM.stack&&av(nM.stack),av(nM)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||av("No IE domain setting required")}catch(nM){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){av("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(nM){}}),Math.floor(1))},e}(),Uv=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!=typeof MozWebSocket?Uv=MozWebSocket:"undefined"!=typeof WebSocket&&(Uv=WebSocket);var jv=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sv(this.connId),this.stats_=Ov(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Nv.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Pv(e,"websocket",i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xp.set("previous_websocket_failure",!0);try{if(tf());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Uv(this.connURL,[],r)}}catch(nM){this.log_("Error instantiating WebSocket.");var i=nM.message||nM.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Uv&&!e.forceDisallow_},e.previouslyFailed=function(){return Xp.isInMemoryStorage||!0===Xp.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){Xp.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=lf(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(jh(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=hf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=yv(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(nM){this.log_("Exception thrown from WebSocket.send():",nM.message||nM.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),qv=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Mv,jv]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=jv&&jv.isAvailable(),o=i&&!jv.previouslyFailed();if(t.webSocketOnly&&(i||lv("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[jv];else{var a=this.transports_=[];try{for(var s=Oh(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Vv=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sv("c:"+this.id+":"),this.transportManager_=new qv(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Iv((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=gv("t",e),n=gv("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=gv("t",e),n=gv("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=gv("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?uv("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uv("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&lv("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Iv((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Iv((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Bv=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),zv=function(){function e(e){this.allowedEvents_=e,this.listeners_={},jh(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Mh([],Lh(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){jh(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Kv=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Xh()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Ph(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return jh("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(zv),Wv=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return new Wv("")}function Gv(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qv(e){return e.pieces_.length-e.pieceNum_}function $v(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Wv(e.pieces_,t)}function Yv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Xv(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Jv(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Wv(t,0)}function Zv(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Wv)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Wv(n,0)}function eg(e){return e.pieceNum_>=e.pieces_.length}function tg(e,t){var n=Gv(e),r=Gv(t);if(null===n)return t;if(n===r)return tg($v(e),$v(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ng(e,t){for(var n=Xv(e,0),r=Xv(t,0),i=0;i<n.length&&i<r.length;i++){var o=pv(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function rg(e,t){if(Qv(e)!==Qv(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ig(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Qv(e)>Qv(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var og=function(e,t){this.errorPrefix_=t,this.parts_=Xv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Sf(this.parts_[n]);ag(this)};function ag(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sg(e))}function sg(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ug,cg,lg=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Ph(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return jh("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(zv),hg=function(e){function t(n,r,i,o,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=sv("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!tf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return lg.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Kv.getInstance().on("online",l.onOnline_,l),l}return Ph(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(hf(i)),jh(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new Qh,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),jh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),jh(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&df(e,"w")){var n=pf(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();lv("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=ff(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=ff(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),jh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+hf(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):uv("Unrecognized action received from server: "+hf(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;jh(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Rh(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,d,p,v=this;return Dh(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,r())},c=function(e){jh(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:u,sendRequest:c},l=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)])];case 2:return h=Lh.apply(void 0,[g.sent(),2]),f=h[0],d=h[1],a?av("getToken() completed but was canceled"):(av("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,s=new Vv(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){lv(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return p=g.sent(),this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&lv(p),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){av("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){av("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vf(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return mv(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new Wv(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){av("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){av("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Oh(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Oh(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Wp.replace(/\./g,"-")]=1,Xh()?e["framework.cordova"]=1:ef()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Kv.getInstance().currentlyOnline();return vf(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Bv),fg=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),dg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new fg(fv,e),r=new fg(fv,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return fg.MIN},e}(),pg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return ug},set:function(e){ug=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return pv(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw qh("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return fg.MIN},t.prototype.maxPost=function(){return new fg(dv,ug)},t.prototype.makePost=function(e,t){return jh("string"==typeof e,"KeyIndex indexValue must always be a string."),new fg(e,ug)},t.prototype.toString=function(){return".key"},t}(dg),vg=new pg,gg=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),mg=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:bg.EMPTY_NODE,this.right=null!=o?o:bg.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return bg.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return bg.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),yg=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new mg(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),bg=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,mg.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mg.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new gg(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new gg(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new gg(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new gg(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new yg,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wg(e,t){return pv(e.name,t.name)}function _g(e,t){return pv(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tg,Eg,Ig,Sg=function(e){return"number"==typeof e?"number:"+wv(e):"string:"+e},kg=function(e){if(e.isLeafNode()){var t=e.val();jh("string"==typeof t||"number"==typeof t||"object"==typeof t&&df(t,".sv"),"Priority must be a string or number.")}else jh(e===cg||e.isEmpty(),"priority of unexpected type.");jh(e===cg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Cg=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,jh(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),kg(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Tg},set:function(e){Tg=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return eg(t)?this:".priority"===Gv(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Gv(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(jh(".priority"!==r||1===Qv(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild($v(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Sg(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?wv(this.value_):this.value_,this.lazyHash_=tv(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(jh(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return jh(i>=0,"Unknown leaf type: "+n),jh(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ng,Ag,Pg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?pv(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return fg.MIN},t.prototype.maxPost=function(){return new fg(dv,new Cg("[PRIORITY-POST]",Ig))},t.prototype.makePost=function(e,t){var n=Eg(e);return new fg(t,new Cg("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(dg)),xg=Math.log(2),Rg=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/xg,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Dg=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new mg(a,o.node,mg.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new mg(a,o.node,mg.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new mg(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,mg.BLACK):(s(h,mg.BLACK),s(h,mg.RED))}return o}(new Rg(e.length));return new bg(r||t,o)},Og={},Lg=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return jh(Og&&Pg,"ChildrenNode.ts has not been loaded"),Ng=Ng||new e({".priority":Og},{".priority":Pg})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=pf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bg?t:null},e.prototype.hasIndex=function(e){return df(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){jh(t!==vg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(fg.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Dg(i,t.getCompare()):Og;var u=t.toString(),c=xh({},this.indexSet_);c[u]=t;var l=xh({},this.indexes_);return l[u]=r,new e(l,c)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(gf(this.indexes_,(function(e,i){var o=pf(r.indexSet_,i);if(jh(o,"Missing index implementation for "+i),e===Og){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(fg.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Dg(a,o.getCompare())}return Og}var c=n.get(t.name),l=e;return c&&(l=l.remove(new fg(t.name,c))),l.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(gf(this.indexes_,(function(e){if(e===Og)return e;var r=n.get(t.name);return r?e.remove(new fg(t.name,r)):e})),this.indexSet_)},e}(),Mg=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kg(this.priorityNode_),this.children_.isEmpty()&&jh(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ag||(Ag=new e(new bg(_g),null,Lg.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ag},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ag:t},e.prototype.getChild=function(e){var t=Gv(e);return null===t?this:this.getImmediateChild(t).getChild($v(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(jh(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new fg(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ag:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=Gv(e);if(null===n)return t;jh(".priority"!==Gv(e)||1===Qv(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild($v(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Pg,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Sg(this.getPriority().val())+":"),this.forEachChild(Pg,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":tv(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new fg(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new fg(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new fg(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,fg.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,fg.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fg?-1:0},e.prototype.withIndex=function(t){if(t===vg||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===vg||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Pg),r=t.getIterator(Pg),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===vg?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Fg=new(function(e){function t(){return e.call(this,new bg(_g),Mg.EMPTY_NODE,Lg.Default)||this}return Ph(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Mg.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Mg));Object.defineProperties(fg,{MIN:{value:new fg(fv,Mg.EMPTY_NODE)},MAX:{value:new fg(dv,Fg)}}),pg.__EMPTY_NODE=Mg.EMPTY_NODE,Cg.__childrenNodeConstructor=Mg,cg=Fg,function(e){Ig=e}(Fg);function Ug(e,t){if(void 0===t&&(t=null),null===e)return Mg.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),jh(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Cg(e,Ug(t));if(e instanceof Array){var n=Mg.EMPTY_NODE;return bv(e,(function(t,r){if(df(e,t)&&"."!==t.substring(0,1)){var i=Ug(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Ug(t))}var r=[],i=!1;if(bv(e,(function(e,t){if("."!==e.substring(0,1)){var n=Ug(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new fg(e,n)))}})),0===r.length)return Mg.EMPTY_NODE;var o=Dg(r,wg,(function(e){return e.name}),_g);if(i){var a=Dg(r,Pg.getCompare());return new Mg(o,Ug(t),new Lg({".priority":a},{".priority":Pg}))}return new Mg(o,Ug(t),Lg.Default)}!function(e){Eg=e}(Ug);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jg,qg,Vg=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,jh(!eg(t)&&".priority"!==Gv(t),"Can't create PathIndex with empty path or .priority key"),n}return Ph(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?pv(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Ug(e),r=Mg.EMPTY_NODE.updateChild(this.indexPath_,n);return new fg(t,r)},t.prototype.maxPost=function(){var e=Mg.EMPTY_NODE.updateChild(this.indexPath_,Fg);return new fg(dv,e)},t.prototype.toString=function(){return Xv(this.indexPath_,0).join("/")},t}(dg),Bg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?pv(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return fg.MIN},t.prototype.maxPost=function(){return fg.MAX},t.prototype.makePost=function(e,t){var n=Ug(e);return new fg(t,n)},t.prototype.toString=function(){return".value"},t}(dg)),zg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kg=(jg=0,qg=[],function(e){var t,n=e===jg;jg=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=zg.charAt(e%64),e=Math.floor(e/64);jh(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===qg[t];t--)qg[t]=0;qg[t]++}else for(t=0;t<12;t++)qg[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=zg.charAt(qg[t]);return jh(20===i.length,"nextPushId: Length should be 20."),i}),Wg=function(e){if("2147483647"===e)return"-";var t=Tv(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return dv;var o=n[i],a=zg.charAt(zg.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Hg=function(e){if("-2147483648"===e)return fv;var t=Tv(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=zg.charAt(zg.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gg(e){return{type:"value",snapshotNode:e}}function Qg(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $g(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Yg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xg=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){jh(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange($g(t,a)):jh(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qg(t,n)):o.trackChildChange(Yg(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Pg,(function(e,r){t.hasChild(e)||n.trackChildChange($g(e,r))})),t.isLeafNode()||t.forEachChild(Pg,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Yg(t,r,i))}else n.trackChildChange(Qg(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Mg.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Jg=function(){function e(t){this.indexedFilter_=new Xg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new fg(t,n))||(n=Mg.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Mg.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Mg.EMPTY_NODE);var i=this;return t.forEachChild(Pg,(function(e,t){i.matches(new fg(e,t))||(r=r.updateImmediateChild(e,Mg.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Zg=function(){function e(e){this.rangedFilter_=new Jg(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new fg(t,n))||(n=Mg.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Mg.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Mg.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Mg.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Mg.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;jh(s.numChildren()===this.limit_,"");var u=new fg(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Yg(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange($g(t,h));var p=s.updateImmediateChild(t,Mg.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Qg(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange($g(c.name,c.node)),i.trackChildChange(Qg(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Mg.EMPTY_NODE)):e},e}(),em=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pg}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return jh(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return jh(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fv},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return jh(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return jh(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dv},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return jh(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Pg},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function nm(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function rm(e,t){var n=e.copy();return n.index_=t,n}function im(e){var t,n={};return e.isDefault()||(e.index_===Pg?t="$priority":e.index_===Bg?t="$value":e.index_===vg?t="$key":(jh(e.index_ instanceof Vg,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=hf(t),e.startSet_&&(n.startAt=hf(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+hf(e.indexStartName_))),e.endSet_&&(n.endAt=hf(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+hf(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function om(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Pg&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=sv("p:rest:"),o.listens_={},o}return Ph(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(jh(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=im(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),pf(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=im(e._queryParams),r=e._path.toString(),i=new Qh;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Lh(i,2),a=o[0],s=o[1];a&&a.accessToken&&(t.auth=a.accessToken),s&&s.token&&(t.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=lf(c.responseText)}catch(nM){lv("Failed to parse JSON response for "+u+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&lv("Got unsuccessful REST response for "+u+" Status: "+c.status),n(c.status);n=null}},c.open("GET",u,!0),c.send()}))},t}(Bv),sm=function(){function e(){this.rootNode_=Mg.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function um(){return{value:null,children:new Map}}function cm(e,t,n){if(eg(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Gv(t);e.children.has(r)||e.children.set(r,um()),cm(e.children.get(r),t=$v(t),n)}}function lm(e,t){if(eg(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Pg,(function(t,n){cm(e,new Wv(t),n)})),lm(e,t)}if(e.children.size>0){var r=Gv(t);if(t=$v(t),e.children.has(r))lm(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function hm(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(function(e,r){hm(r,new Wv(t.toString()+"/"+e),n)}))}var fm,dm,pm=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=xh({},e);return this.last_&&bv(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),vm=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new pm(e);var n=1e4+2e4*Math.random();Iv(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;bv(t,(function(t,i){i>0&&df(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Iv(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(dm=fm||(fm={}))[dm.OVERWRITE=0]="OVERWRITE",dm[dm.MERGE=1]="MERGE",dm[dm.ACK_USER_WRITE=2]="ACK_USER_WRITE",dm[dm.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var mm,ym=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=fm.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(eg(this.path)){if(null!=this.affectedTree.value)return jh(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Wv(t));return new e(Hv(),n,this.revert)}return jh(Gv(this.path)===t,"operationForChild called for unrelated child."),new e($v(this.path),this.affectedTree,this.revert)},e}(),bm=function(){function e(e,t){this.source=e,this.path=t,this.type=fm.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return eg(this.path)?new e(this.source,Hv()):new e(this.source,$v(this.path))},e}(),wm=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=fm.OVERWRITE}return e.prototype.operationForChild=function(t){return eg(this.path)?new e(this.source,Hv(),this.snap.getImmediateChild(t)):new e(this.source,$v(this.path),this.snap)},e}(),_m=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=fm.MERGE}return e.prototype.operationForChild=function(t){if(eg(this.path)){var n=this.children.subtree(new Wv(t));return n.isEmpty()?null:n.value?new wm(this.source,Hv(),n.value):new e(this.source,Hv(),n)}return jh(Gv(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,$v(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Tm=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(eg(e))return this.isFullyInitialized()&&!this.filtered_;var t=Gv(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Em=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw qh("Should only compare child_ events.");var r=new fg(t.childName,t.snapshotNode),i=new fg(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Sm(e,t){return{eventCache:e,serverCache:t}}function km(e,t,n,r){return Sm(new Tm(t,n,r),e.serverCache)}function Cm(e,t,n,r){return Sm(e.eventCache,new Tm(t,n,r))}function Nm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Am(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pm=function(){function e(e,t){void 0===t&&(mm||(mm=new bg(vv)),t=mm),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return bv(t,(function(e,t){n=n.set(new Wv(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Hv(),value:this.value};if(eg(e))return null;var n=Gv(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue($v(e),t);return null!=i?{path:Zv(new Wv(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(eg(t))return this;var n=Gv(t),r=this.children.get(n);return null!==r?r.subtree($v(t)):new e(null)},e.prototype.set=function(t,n){if(eg(t))return new e(n,this.children);var r=Gv(t),i=(this.children.get(r)||new e(null)).set($v(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(eg(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Gv(t),r=this.children.get(n);if(r){var i=r.remove($v(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(eg(e))return this.value;var t=Gv(e),n=this.children.get(t);return n?n.get($v(e)):null},e.prototype.setTree=function(t,n){if(eg(t))return n;var r=Gv(t),i=(this.children.get(r)||new e(null)).setTree($v(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Hv(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Zv(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Hv(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(eg(e))return null;var i=Gv(e),o=this.children.get(i);return o?o.findOnPath_($v(e),Zv(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Hv(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(eg(t))return this;this.value&&r(n,this.value);var i=Gv(t),o=this.children.get(i);return o?o.foreachOnPath_($v(t),Zv(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Hv(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Zv(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),xm=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Pm(null))},e}();function Rm(e,t,n){if(eg(t))return new xm(new Pm(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=tg(i,t);return o=o.updateChild(a,n),new xm(e.writeTree_.set(i,o))}var s=new Pm(n),u=e.writeTree_.setTree(t,s);return new xm(u)}function Dm(e,t,n){var r=e;return bv(n,(function(e,n){r=Rm(r,Zv(t,e),n)})),r}function Om(e,t){if(eg(t))return xm.empty();var n=e.writeTree_.setTree(t,new Pm(null));return new xm(n)}function Lm(e,t){return null!=Mm(e,t)}function Mm(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(tg(n.path,t)):null}function Fm(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Pg,(function(e,n){t.push(new fg(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new fg(e,n.value))})),t}function Um(e,t){if(eg(t))return e;var n=Mm(e,t);return new xm(null!=n?new Pm(n):e.writeTree_.subtree(t))}function jm(e){return e.writeTree_.isEmpty()}function qm(e,t){return Vm(Hv(),e.writeTree_,t)}function Vm(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(jh(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Vm(Zv(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Zv(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(e,t){return ty(t,e)}function zm(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));jh(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&Km(s,r.path)?i=!1:ig(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Hm(e.allWrites,Wm,Hv()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Om(e.visibleWrites,r.path):bv(r.children,(function(t){e.visibleWrites=Om(e.visibleWrites,Zv(r.path,t))}));return!0}return!1}function Km(e,t){if(e.snap)return ig(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ig(Zv(e.path,n),t))return!0;return!1}function Wm(e){return e.visible}function Hm(e,t,n){for(var r=xm.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)ig(n,a)?r=Rm(r,s=tg(n,a),o.snap):ig(a,n)&&(s=tg(a,n),r=Rm(r,Hv(),o.snap.getChild(s)));else{if(!o.children)throw qh("WriteRecord should have .snap or .children");if(ig(n,a))r=Dm(r,s=tg(n,a),o.children);else if(ig(a,n))if(eg(s=tg(a,n)))r=Dm(r,Hv(),o.children);else{var u=pf(o.children,Gv(s));if(u){var c=u.getChild($v(s));r=Rm(r,Hv(),c)}}}}}return r}function Gm(e,t,n,r,i){if(r||i){var o=Um(e.visibleWrites,t);if(!i&&jm(o))return n;if(i||null!=n||Lm(o,Hv())){return qm(Hm(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ig(e.path,t)||ig(t,e.path))}),t),n||Mg.EMPTY_NODE)}return null}var a=Mm(e.visibleWrites,t);if(null!=a)return a;var s=Um(e.visibleWrites,t);return jm(s)?n:null!=n||Lm(s,Hv())?qm(s,n||Mg.EMPTY_NODE):null}function Qm(e,t,n,r){return Gm(e.writeTree,e.treePath,t,n,r)}function $m(e,t){return function(e,t,n){var r=Mg.EMPTY_NODE,i=Mm(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Pg,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Um(e.visibleWrites,t);return n.forEachChild(Pg,(function(e,t){var n=qm(Um(o,new Wv(e)),t);r=r.updateImmediateChild(e,n)})),Fm(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Fm(Um(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ym(e,t,n,r){return function(e,t,n,r,i){jh(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Zv(t,n);if(Lm(e.visibleWrites,o))return null;var a=Um(e.visibleWrites,o);return jm(a)?i.getChild(n):qm(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Xm(e,t){return function(e,t){return Mm(e.visibleWrites,t)}(e.writeTree,Zv(e.treePath,t))}function Jm(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Um(e.visibleWrites,t),c=Mm(u,Hv());if(null!=c)s=c;else{if(null==n)return[];s=qm(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Zm(e,t,n){return function(e,t,n,r){var i=Zv(t,n),o=Mm(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?qm(Um(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ey(e,t){return ty(Zv(e.treePath,t),e.writeTree)}function ty(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ny=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;jh("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),jh(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Yg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,$g(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Qg(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw qh("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Yg(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),ry=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),iy=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Tm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zm(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Am(this.viewCache_),i=Jm(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e,t,n,r,i){var o,a,s=new ny;if(n.type===fm.OVERWRITE){var u=n;u.source.fromUser?o=uy(e,t,u.path,u.snap,r,i,s):(jh(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!eg(u.path),o=sy(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===fm.MERGE){var c=n;c.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Zv(n,r);cy(t,Gv(c))&&(s=uy(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Zv(n,r);cy(t,Gv(c))||(s=uy(e,s,c,u,i,o,a))})),s}(e,t,c.path,c.children,r,i,s):(jh(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=hy(e,t,c.path,c.children,r,i,a,s))}else if(n.type===fm.ACK_USER_WRITE){var l=n;o=l.revert?function(e,t,n,r,i,o){var a;if(null!=Xm(r,n))return t;var s=new iy(r,t,i),u=t.eventCache.getNode(),c=void 0;if(eg(n)||".priority"===Gv(n)){var l=void 0;if(t.serverCache.isFullyInitialized())l=Qm(r,Am(t));else{var h=t.serverCache.getNode();jh(h instanceof Mg,"serverChildren would be complete if leaf node"),l=$m(r,h)}l=l,c=e.filter.updateFullNode(u,l,o)}else{var f=Gv(n),d=Zm(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?e.filter.updateChild(u,f,d,$v(n),s,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(u,f,Mg.EMPTY_NODE,$v(n),s,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Qm(r,Am(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,a,o))}return a=t.serverCache.isFullyInitialized()||null!=Xm(r,Hv()),km(t,c,a,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,l.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=Xm(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(eg(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return sy(e,t,n,u.getNode().getChild(n),i,o,s,a);if(eg(n)){var c=new Pm(null);return u.getNode().forEachChild(vg,(function(e,t){c=c.set(new Wv(e),t)})),hy(e,t,n,c,i,o,s,a)}return t}var l=new Pm(null);return r.foreach((function(e,t){var r=Zv(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),hy(e,t,n,l,i,o,s,a)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==fm.LISTEN_COMPLETE)throw qh("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=Cm(t,o.getNode(),o.isFullyInitialized()||eg(n),o.isFiltered());return ay(e,a,n,r,ry,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Nm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Gg(Nm(t)))}}(t,o,h),{viewCache:o,changes:h}}function ay(e,t,n,r,i,o){var a=t.eventCache;if(null!=Xm(r,n))return t;var s=void 0,u=void 0;if(eg(n))if(jh(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Am(t),l=$m(r,c instanceof Mg?c:Mg.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var h=Qm(r,Am(t));s=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var f=Gv(n);if(".priority"===f){jh(1===Qv(n),"Can't have a priority with additional path components");var d=a.getNode(),p=Ym(r,n,d,u=t.serverCache.getNode());s=null!=p?e.filter.updatePriority(d,p):a.getNode()}else{var v=$v(n),g=void 0;if(a.isCompleteForChild(f)){u=t.serverCache.getNode();var m=Ym(r,n,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(f).updateChild(v,m):a.getNode().getImmediateChild(f)}else g=Zm(r,f,t.serverCache);s=null!=g?e.filter.updateChild(a.getNode(),f,g,v,i,o):a.getNode()}}return km(t,s,a.isFullyInitialized()||eg(n),e.filter.filtersNodes())}function sy(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(eg(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=Gv(n);if(!c.isCompleteForPath(n)&&Qv(n)>1)return t;var d=$v(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,ry,null)}var v=Cm(t,u,c.isFullyInitialized()||eg(n),l.filtersNodes());return ay(e,v,n,i,new iy(i,v,o),s)}function uy(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new iy(i,t,o);if(eg(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=km(t,u,!0,e.filter.filtersNodes());else{var h=Gv(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=km(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=$v(n),d=c.getNode().getImmediateChild(h),p=void 0;if(eg(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===Yv(f)&&v.getChild(Jv(f)).isEmpty()?v:v.updateChild(f,r):Mg.EMPTY_NODE}if(d.equals(p))s=t;else s=km(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function cy(e,t){return e.eventCache.isCompleteForChild(t)}function ly(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function hy(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=eg(n)?r:new Pm(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=ly(0,t.serverCache.getNode().getImmediateChild(n),r);c=sy(e,c,new Wv(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=ly(0,t.serverCache.getNode().getImmediateChild(n),r);c=sy(e,c,new Wv(n),h,i,o,a,s)}})),c}var fy,dy=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Xg(r.getIndex()),o=(n=r).loadsAllData()?new Xg(n.getIndex()):n.hasLimit()?new Zg(n):new Jg(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Mg.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Mg.EMPTY_NODE,s.getNode(),null),l=new Tm(u,a.isFullyInitialized(),i.filtersNodes()),h=new Tm(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Sm(h,l),this.eventGenerator_=new Em(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function py(e,t){var n=Am(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!eg(t)&&!n.getImmediateChild(Gv(t)).isEmpty())?n.getChild(t):null}function vy(e){return 0===e.eventRegistrations_.length}function gy(e,t,n){var r=[];if(n){jh(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function my(e,t,n,r){t.type===fm.MERGE&&null!==t.source.queryId&&(jh(Am(e.viewCache_),"We should always have a full cache before handling merges"),jh(Nm(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=oy(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,jh(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),jh(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),jh(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,yy(e,s.changes,s.viewCache.eventCache.getNode(),null)}function yy(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Im(e,i,"child_removed",t,r,n),Im(e,i,"child_added",t,r,n),Im(e,i,"child_moved",o,r,n),Im(e,i,"child_changed",t,r,n),Im(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var by,wy=function(){this.views=new Map};function _y(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return jh(null!=s,"SyncTree gave us an op for an invalid query."),my(s,t,n,r)}var u=[];try{for(var c=Oh(e.views.values()),l=c.next();!l.done;l=c.next()){s=l.value;u=u.concat(my(s,t,n,r))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function Ty(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Qm(n,i?r:null),u=!1;s?u=!0:r instanceof Mg?(s=$m(n,r),u=!1):(s=Mg.EMPTY_NODE,u=!1);var c=Sm(new Tm(s,u,!1),new Tm(r,i,!1));return new dy(t,c)}return a}function Ey(e,t,n,r,i,o){var a=Ty(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pg,(function(e,t){r.push(Qg(e,t))})),n.isFullyInitialized()&&r.push(Gg(n.getNode())),yy(e,r,n.getNode(),t)}(a,n)}function Iy(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=Ay(e);if("default"===a)try{for(var l=Oh(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=Lh(h.value,2),d=f[0],p=f[1];u=u.concat(gy(p,n,r)),vy(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(u=u.concat(gy(p,n,r)),vy(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!Ay(e)&&s.push(new(jh(fy,"Reference.ts has not been loaded"),fy)(t._repo,t._path)),{removed:s,events:u}}function Sy(e){var t,n,r=[];try{for(var i=Oh(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function ky(e,t){var n,r,i=null;try{for(var o=Oh(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||py(s,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Cy(e,t){if(t._queryParams.loadsAllData())return Py(e);var n=t._queryIdentifier;return e.views.get(n)}function Ny(e,t){return null!=Cy(e,t)}function Ay(e){return null!=Py(e)}function Py(e){var t,n;try{for(var r=Oh(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xy=1,Ry=function(e){this.listenProvider_=e,this.syncPointTree_=new Pm(null),this.pendingWriteTree_={visibleWrites:xm.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Dy(e,t,n,r,i){return function(e,t,n,r,i){jh(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Rm(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Vy(e,new wm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Oy(e,t,n,r){!function(e,t,n,r){jh(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Dm(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Pm.fromObject(n);return Vy(e,new _m({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Ly(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(zm(e.pendingWriteTree_,t)){var i=new Pm(null);return null!=r.snap?i=i.set(Hv(),!0):bv(r.children,(function(e){i=i.set(new Wv(e),!0)})),Vy(e,new ym(r.path,i,n))}return[]}function My(e,t,n){return Vy(e,new wm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Fy(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Ny(o,t))){var s=Iy(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Ay(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Ay(t))return[Py(t)];var r=[];return t&&(r=Sy(t)),bv(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=Ky(e,p);e.listenProvider_.startListening(Yy(v),Wy(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Yy(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Hy(t));e.listenProvider_.stopListening(Yy(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Hy(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function Uy(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=tg(e,r);i=i||ky(t,n),o=o||Ay(t)}));var a,s=e.syncPointTree_.get(r);(s?(o=o||Ay(s),i=i||ky(s,Hv())):(s=new wy,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=Mg.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=ky(t,Hv());n&&(i=i.updateImmediateChild(e,n))})));var u=Ny(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=Hy(t);jh(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=xy++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var h=Ey(s,t,n,Bm(e.pendingWriteTree_,r),i,a);if(!u&&!o){var f=Cy(s,t);h=h.concat(function(e,t,n){var r=t._path,i=Wy(e,t),o=Ky(e,n),a=e.listenProvider_.startListening(Yy(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)jh(!Ay(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!eg(e)&&t&&Ay(t))return[Py(t).query];var r=[];return t&&(r=r.concat(Sy(t).map((function(e){return e.query})))),bv(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Yy(l),Wy(e,l))}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,f))}return h}function jy(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=ky(n,tg(e,t));if(r)return r}));return Gm(r,t,i,n,!0)}function qy(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=tg(e,n);r=r||ky(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||ky(i,Hv()):(i=new wy,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Tm(r,!0,!1):null;return function(e){return Nm(e.viewCache_)}(Ty(i,t,Bm(e.pendingWriteTree_,t._path),o?a.getNode():Mg.EMPTY_NODE,o))}function Vy(e,t){return By(t,e.syncPointTree_,null,Bm(e.pendingWriteTree_,Hv()))}function By(e,t,n,r){if(eg(e.path))return zy(e,t,n,r);var i=t.get(Hv());null==n&&null!=i&&(n=ky(i,Hv()));var o=[],a=Gv(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=ey(r,a);o=o.concat(By(s,u,c,l))}return i&&(o=o.concat(_y(i,e,r,n))),o}function zy(e,t,n,r){var i=t.get(Hv());null==n&&null!=i&&(n=ky(i,Hv()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=ey(r,t),u=e.operationForChild(t);u&&(o=o.concat(zy(u,i,a,s)))})),i&&(o=o.concat(_y(i,e,r,n))),o}function Ky(e,t){var n=t.query,r=Wy(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Mg.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Gy(e,n);if(r){var i=Qy(r),o=i.path,a=i.queryId,s=tg(o,t);return $y(e,o,new bm(gm(a),s))}return[]}(e,n._path,r):function(e,t){return Vy(e,new bm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Fy(e,n,null,i)}}}function Wy(e,t){var n=Hy(t);return e.queryToTagMap.get(n)}function Hy(e){return e._path.toString()+"$"+e._queryIdentifier}function Gy(e,t){return e.tagToQueryMap.get(t)}function Qy(e){var t=e.indexOf("$");return jh(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Wv(e.substr(0,t))}}function $y(e,t,n){var r=e.syncPointTree_.get(t);return jh(r,"Missing sync point for query tag that we're tracking"),_y(r,n,Bm(e.pendingWriteTree_,t),null)}function Yy(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(jh(by,"Reference.ts has not been loaded"),by)(e._repo,e._path):e}var Xy=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Jy=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Zv(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return jy(this.syncTree_,this.path_)},e}(),Zy=function(e,t,n){return e&&"object"==typeof e?(jh(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?eb(e[".sv"],t,n):"object"==typeof e[".sv"]?tb(e[".sv"],t):void jh(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},eb=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:jh(!1,"Unexpected server value: "+e)}},tb=function(e,t,n){e.hasOwnProperty("increment")||jh(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&jh(!1,"Unexpected increment value: "+r);var i=t.node();if(jh(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},nb=function(e,t,n,r){return ib(t,new Jy(n,e),r)},rb=function(e,t,n){return ib(e,new Xy(t),n)};function ib(e,t,n){var r,i=e.getPriority().val(),o=Zy(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Zy(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Cg(s,Ug(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Cg(o))),u.forEachChild(Pg,(function(e,i){var o=ib(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ob=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function ab(e,t){for(var n=t instanceof Wv?t:new Wv(t),r=e,i=Gv(n);null!==i;){var o=pf(r.node.children,i)||{children:{},childCount:0};r=new ob(i,r,o),i=Gv(n=$v(n))}return r}function sb(e){return e.node.value}function ub(e,t){e.node.value=t,db(e)}function cb(e){return e.node.childCount>0}function lb(e,t){bv(e.node.children,(function(n,r){t(new ob(n,e,r))}))}function hb(e,t,n,r){n&&!r&&t(e),lb(e,(function(e){hb(e,t,!0,r)})),n&&r&&t(e)}function fb(e){return new Wv(null===e.parent?e.name:fb(e.parent)+"/"+e.name)}function db(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===sb(e)&&!cb(e)}(n),i=df(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,db(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,db(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}var pb=/[\[\].#$\/\u0000-\u001F\u007F]/,vb=/[\[\].#$\u0000-\u001F\u007F]/,gb=function(e){return"string"==typeof e&&0!==e.length&&!pb.test(e)},mb=function(e){return"string"==typeof e&&0!==e.length&&!vb.test(e)},yb=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!hv(e)||e&&"object"==typeof e&&df(e,".sv")},bb=function(e,t,n,r){r&&void 0===t||wb(Tf(e,"value"),t,n)},wb=function(e,t,n){var r=n instanceof Wv?new og(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+sg(r));if("function"==typeof t)throw new Error(e+"contains a function "+sg(r)+" with contents = "+t.toString());if(hv(t))throw new Error(e+"contains "+t.toString()+" "+sg(r));if("string"==typeof t&&t.length>10485760/3&&Sf(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+sg(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(bv(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!gb(t)))throw new Error(e+" contains an invalid key ("+t+") "+sg(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;s=t,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(s),a.byteLength_+=Sf(s),ag(a),wb(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=Sf(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&o)throw new Error(e+' contains ".value" child '+sg(r)+" in addition to actual children.")}},_b=function(e,t,n,r){if(!r||void 0!==t){var i=Tf(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];bv(t,(function(e,t){var r=new Wv(e);if(wb(i,t,Zv(n,r)),".priority"===Yv(r)&&!yb(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Xv(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!gb(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ng);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ig(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},Tb=function(e,t,n){if(!n||void 0!==t){if(hv(t))throw new Error(Tf(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yb(t))throw new Error(Tf(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Eb=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Tf(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ib=function(e,t,n,r){if(!(r&&void 0===n||gb(n)))throw new Error(Tf(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sb=function(e,t,n,r){if(!(r&&void 0===n||mb(n)))throw new Error(Tf(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kb=function(e,t){if(".info"===Gv(t))throw new Error(e+" failed = Can't modify data under /.info/")},Cb=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!gb(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mb(e)}(n))throw new Error(Tf(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nb=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Tf(e,t)+"must be a boolean.")},Ab=function(){this.eventLists_=[],this.recursionDepth_=0};function Pb(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||rg(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function xb(e,t,n){Pb(e,n),Db(e,(function(e){return rg(e,t)}))}function Rb(e,t,n){Pb(e,n),Db(e,(function(e){return ig(e,t)||ig(t,e)}))}function Db(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Ob(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ob(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();rv&&av("event: "+n.toString()),Ev(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lb=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ab,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=um(),this.transactionQueueTree_=new ob,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Mb(e,t,n){if(e.stats_=Ov(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new am(e.repoInfo_,(function(t,n,r,i){jb(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return qb(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{hf(n)}catch(nM){throw new Error("Invalid authOverride provided: "+nM)}}e.persistentConnection_=new hg(e.repoInfo_,t,(function(t,n,r,i){jb(e,t,n,r,i)}),(function(t){qb(e,t)}),(function(t){!function(e,t){bv(t,(function(t,n){Vb(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new vm(e.stats_,e.server_)},o=r.toString(),Dv[o]||(Dv[o]=i()),Dv[o]),e.infoData_=new sm,e.infoSyncTree_=new Ry({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=My(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Vb(e,"connected",!1),e.serverSyncTree_=new Ry({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Rb(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Fb(e){var t=e.infoData_.getNode(new Wv(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ub(e){return(t=(t={timestamp:Fb(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function jb(e,t,n,r,i){e.dataUpdateCount++;var o=new Wv(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=gf(n,(function(e){return Ug(e)}));a=function(e,t,n,r){var i=Gy(e,r);if(i){var o=Qy(i),a=o.path,s=o.queryId,u=tg(a,t),c=Pm.fromObject(n);return $y(e,a,new _m(gm(s),u,c))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=Ug(n);a=function(e,t,n,r){var i=Gy(e,r);if(null!=i){var o=Qy(i),a=o.path,s=o.queryId,u=tg(a,t);return $y(e,a,new wm(gm(s),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var c=gf(n,(function(e){return Ug(e)}));a=function(e,t,n){var r=Pm.fromObject(n);return Vy(e,new _m({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{var l=Ug(n);a=My(e.serverSyncTree_,o,l)}var h=o;a.length>0&&(h=Jb(e,o)),Rb(e.eventQueue_,h,a)}function qb(e,t){Vb(e,"connected",t),!1===t&&function(e){Qb(e,"onDisconnectEvents");var t=Ub(e),n=um();hm(e.onDisconnect_,Hv(),(function(r,i){var o=nb(r,i,e.serverSyncTree_,t);cm(n,r,o)}));var r=[];hm(n,Hv(),(function(t,n){r=r.concat(My(e.serverSyncTree_,t,n));var i=rw(e,t);Jb(e,i)})),e.onDisconnect_=um(),Rb(e.eventQueue_,Hv(),r)}(e)}function Vb(e,t,n){var r=new Wv("/.info/"+t),i=Ug(n);e.infoData_.updateSnapshot(r,i);var o=My(e.infoSyncTree_,r,i);Rb(e.eventQueue_,r,o)}function Bb(e){return e.nextWriteId_++}function zb(e,t,n,r,i){Qb(e,"set",{path:t.toString(),value:n,priority:r});var o=Ub(e),a=Ug(n,r),s=jy(e.serverSyncTree_,t),u=rb(a,s,o),c=Bb(e),l=Dy(e.serverSyncTree_,t,u,c,!0);Pb(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||lv("set at "+t+" failed: "+n);var a=Ly(e.serverSyncTree_,c,!o);Rb(e.eventQueue_,t,a),$b(e,i,n,r)}));var h=rw(e,t);Jb(e,h),Rb(e.eventQueue_,h,[])}function Kb(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&lm(e.onDisconnect_,t),$b(e,n,r,i)}))}function Wb(e,t,n,r){var i=Ug(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&cm(e.onDisconnect_,t,i),$b(e,r,n,o)}))}function Hb(e,t,n){var r;r=".info"===Gv(t._path)?Fy(e.infoSyncTree_,t,n):Fy(e.serverSyncTree_,t,n),xb(e.eventQueue_,t._path,r)}function Gb(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Qb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),av.apply(void 0,Mh([r],Lh(t)))}function $b(e,t,n,r){t&&Ev((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Yb(e,t,n){return jy(e.serverSyncTree_,t,n)||Mg.EMPTY_NODE}function Xb(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||nw(e,t),sb(t)){var n=ew(e,t);jh(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Yb(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];jh(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=tg(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){Qb(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Ly(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);nw(e,ab(e.transactionQueueTree_,t)),Xb(e,e.transactionQueueTree_),Rb(e.eventQueue_,t,i);for(s=0;s<o.length;s++)Ev(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{lv("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Jb(e,t)}}),a)}(e,fb(t),n)}else cb(t)&&lb(t,(function(t){Xb(e,t)}))}function Jb(e,t){var n=Zb(e,t),r=fb(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u,c=t[a],l=tg(n,c.path),h=!1;if(jh(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(Ly(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,s="maxretry",i=i.concat(Ly(e.serverSyncTree_,c.currentWriteId,!0));else{var f=Yb(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){wb("transaction failed: Data returned ",d,c.path);var p=Ug(d);"object"==typeof d&&null!=d&&df(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Ub(e),m=rb(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=Bb(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Dy(e.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(Ly(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(Ly(e.serverSyncTree_,c.currentWriteId,!0))}Rb(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},s=0;s<t.length;s++)a(s);nw(e,e.transactionQueueTree_);for(s=0;s<r.length;s++)Ev(r[s]);Xb(e,e.transactionQueueTree_)}(e,ew(e,n),r),r}function Zb(e,t){var n,r=e.transactionQueueTree_;for(n=Gv(t);null!==n&&void 0===sb(r);)r=ab(r,n),n=Gv(t=$v(t));return r}function ew(e,t){var n=[];return tw(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function tw(e,t,n){var r=sb(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);lb(t,(function(t){tw(e,t,n)}))}function nw(e,t){var n=sb(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ub(t,n.length>0?n:void 0)}lb(t,(function(t){nw(e,t)}))}function rw(e,t){var n=fb(Zb(e,t)),r=ab(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){iw(e,t)})),iw(e,r),hb(r,(function(t){iw(e,t)})),n}function iw(e,t){var n=sb(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(jh(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(jh(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ly(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ub(t,void 0):n.length=o+1,Rb(e.eventQueue_,fb(t),i);for(a=0;a<r.length;a++)Ev(r[a])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ow=function(e,t){var n=aw(e),r=n.namespace;"firebase.com"===n.domain&&cv(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||cv("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&lv("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Av(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Wv(n.pathString)}},aw=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(nM){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Oh(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):lv("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},sw=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+hf(this.snapshot.exportVal())},e}(),uw=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),cw=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return jh(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),lw=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new Qh;return Kb(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){kb("OnDisconnect.remove",this._path);var e=new Qh;return Wb(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){kb("OnDisconnect.set",this._path),bb("OnDisconnect.set",e,this._path,!1);var t=new Qh;return Wb(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){kb("OnDisconnect.setWithPriority",this._path),bb("OnDisconnect.setWithPriority",e,this._path,!1),Tb("OnDisconnect.setWithPriority",t,!1);var n=new Qh;return function(e,t,n,r,i){var o=Ug(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&cm(e.onDisconnect_,t,o),$b(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){kb("OnDisconnect.update",this._path),_b("OnDisconnect.update",e,this._path,!1);var t=new Qh;return function(e,t,n,r){if(vf(n))return av("onDisconnect().update() called with empty data.  Don't do anything."),void $b(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&bv(n,(function(n,r){var i=Ug(r);cm(e.onDisconnect_,Zv(t,n),i)})),$b(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),hw=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return eg(this._path)?null:Yv(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new vw(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=om(this._queryParams),t=mv(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return om(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Cf(t))instanceof e))return!1;var n=this._repo===t._repo,r=rg(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function fw(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function dw(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===vg){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==fv)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==dv)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Pg){if(null!=t&&!yb(t)||null!=n&&!yb(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(jh(e.getIndex()instanceof Vg||e.getIndex()===Bg,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pw(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var vw=function(e){function t(t,n){return e.call(this,t,n,new em,!1)||this}return Ph(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Jv(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(hw),gw=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Wv(t),r=bw(this.ref,t);return new e(this._node.getChild(n),r,Pg)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,bw(n.ref,r),Pg))}))},e.prototype.hasChild=function(e){var t=new Wv(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function mw(e,t){return(e=Cf(e))._checkNotDeleted("ref"),void 0!==t?bw(e._root,t):e._root}function yw(e,t){(e=Cf(e))._checkNotDeleted("refFromURL");var n=ow(t,e._repo.repoInfo_.nodeAdmin);Cb("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||cv("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),mw(e,n.path.toString())}function bw(e,t){var n,r,i,o;return null===Gv((e=Cf(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Sb(n,r,i,o)):Sb("child","path",t,!1),new vw(e._repo,Zv(e._path,t))}function ww(e,t){e=Cf(e),kb("push",e._path),bb("push",t,e._path,!0);var n,r=Fb(e._repo),i=Kg(r),o=bw(e,i),a=bw(e,i);return n=null!=t?Tw(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function _w(e){return kb("remove",e._path),Tw(e,null)}function Tw(e,t){e=Cf(e),kb("set",e._path),bb("set",t,e._path,!1);var n=new Qh;return zb(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ew(e,t){e=Cf(e),kb("setPriority",e._path),Tb("setPriority",t,!1);var n=new Qh;return zb(e._repo,Zv(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Iw(e,t,n){if(kb("setWithPriority",e._path),bb("setWithPriority",t,e._path,!1),Tb("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Qh;return zb(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Sw(e,t){_b("update",t,e._path,!1);var n=new Qh;return function(e,t,n,r){Qb(e,"update",{path:t.toString(),value:n});var i=!0,o=Ub(e),a={};if(bv(n,(function(n,r){i=!1,a[n]=nb(Zv(t,n),Ug(r),e.serverSyncTree_,o)})),i)av("update() called with empty data.  Don't do anything."),$b(0,r,"ok",void 0);else{var s=Bb(e),u=Oy(e.serverSyncTree_,t,a,s);Pb(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||lv("update at "+t+" failed: "+n);var a=Ly(e.serverSyncTree_,s,!o),u=a.length>0?Jb(e,t):t;Rb(e.eventQueue_,u,a),$b(0,r,n,i)})),bv(n,(function(n){var r=rw(e,Zv(t,n));Jb(e,r)})),Rb(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function kw(e){return function(e,t){var n=qy(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Ug(n).withIndex(t._queryParams.getIndex()),i=My(e.serverSyncTree_,t._path,r);return xb(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Qb(e,"get for query "+hf(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Cf(e))._repo,e).then((function(t){return new gw(t,new vw(e._repo,e._path),e._queryParams.getIndex())}))}var Cw=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new sw("value",this,new gw(e.snapshotNode,new vw(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new uw(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Nw=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new uw(this,e,t):null},e.prototype.createEvent=function(e,t){jh(null!=e.childName,"Child events should have a childName.");var n=bw(new vw(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new sw(e.type,this,new gw(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Aw(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Hb(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new cw(n,o||void 0),c="value"===t?new Cw(u):new Nw(t,u);return function(e,t,n){var r;r=".info"===Gv(t._path)?Uy(e.infoSyncTree_,t,n):Uy(e.serverSyncTree_,t,n),xb(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Hb(e._repo,e,c)}}function Pw(e,t,n,r){return Aw(e,"value",t,n,r)}function xw(e,t,n,r){return Aw(e,"child_added",t,n,r)}function Rw(e,t,n,r){return Aw(e,"child_changed",t,n,r)}function Dw(e,t,n,r){return Aw(e,"child_moved",t,n,r)}function Ow(e,t,n,r){return Aw(e,"child_removed",t,n,r)}function Lw(e,t,n){var r=null,i=n?new cw(n):null;"value"===t?r=new Cw(i):t&&(r=new Nw(t,i)),Hb(e._repo,e,r)}var Mw=function(){},Fw=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Ph(t,e),t.prototype._apply=function(e){bb("endAt",this._value,e._path,!0);var t=nm(e._queryParams,this._value,this._key);if(pw(t),dw(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hw(e._repo,e._path,t,e._orderByCalled)},t}(Mw);function Uw(e,t){return Ib("endAt","key",t,!0),new Fw(e,t)}var jw=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Ph(t,e),t.prototype._apply=function(e){bb("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===vg?("string"==typeof n&&(n=Hg(n)),i=nm(t,n,r)):i=nm(t,n,null==r?fv:Hg(r)),i.endBeforeSet_=!0,i);if(pw(o),dw(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hw(e._repo,e._path,o,e._orderByCalled)},t}(Mw);function qw(e,t){return Ib("endBefore","key",t,!0),new jw(e,t)}var Vw=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Ph(t,e),t.prototype._apply=function(e){bb("startAt",this._value,e._path,!0);var t=tm(e._queryParams,this._value,this._key);if(pw(t),dw(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hw(e._repo,e._path,t,e._orderByCalled)},t}(Mw);function Bw(e,t){return void 0===e&&(e=null),Ib("startAt","key",t,!0),new Vw(e,t)}var zw=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Ph(t,e),t.prototype._apply=function(e){bb("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===vg?("string"==typeof t&&(t=Wg(t)),r=tm(e,t,n)):r=tm(e,t,null==n?dv:Wg(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(pw(t),dw(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hw(e._repo,e._path,t,e._orderByCalled)},t}(Mw);function Kw(e,t){return Ib("startAfter","key",t,!0),new zw(e,t)}var Ww=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Ph(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hw(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Mw);function Hw(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ww(e)}var Gw=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Ph(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hw(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Mw);function Qw(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gw(e)}var $w=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Ph(t,e),t.prototype._apply=function(e){fw(e,"orderByChild");var t=new Wv(this._path);if(eg(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Vg(t),r=rm(e._queryParams,n);return dw(r),new hw(e._repo,e._path,r,!0)},t}(Mw);function Yw(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sb("orderByChild","path",e,!1),new $w(e)}var Xw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype._apply=function(e){fw(e,"orderByKey");var t=rm(e._queryParams,vg);return dw(t),new hw(e._repo,e._path,t,!0)},t}(Mw);function Jw(){return new Xw}var Zw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype._apply=function(e){fw(e,"orderByPriority");var t=rm(e._queryParams,Pg);return dw(t),new hw(e._repo,e._path,t,!0)},t}(Mw);function e_(){return new Zw}var t_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype._apply=function(e){fw(e,"orderByValue");var t=rm(e._queryParams,Bg);return dw(t),new hw(e._repo,e._path,t,!0)},t}(Mw);function n_(){return new t_}var r_=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Ph(t,e),t.prototype._apply=function(e){if(bb("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fw(this._value,this._key)._apply(new Vw(this._value,this._key)._apply(e))},t}(Mw);function i_(e,t){return Ib("equalTo","key",t,!0),new r_(e,t)}function o_(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Cf(e);try{for(var a=Oh(r),s=a.next();!s.done;s=a.next()){var u=s.value;o=u._apply(o)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}!function(e){jh(!fy,"__referenceConstructor has already been defined"),fy=e}(vw),function(e){jh(!by,"__referenceConstructor has already been defined"),by=e}(vw);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var a_={},s_=!1;function u_(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||cv("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),av("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ow(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=ow(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new Cv(Cv.OWNER):new kv(e.name,e.options,t);Cb("Invalid Firebase Database URL",s),eg(s.path)||cv("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=a_[t.name];i||(i={},a_[t.name]=i);var o=i[e.toURLString()];o&&cv("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Lb(e,s_,n,r),i[e.toURLString()]=o,o}(u,e,l,new Sv(e.name,n));return new c_(h,e)}var c_=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Mb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new vw(this._repo,Hv())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=a_[t])&&n[e.key]===e||cv("Database "+t+"("+e.repoInfo_+") has already been deleted."),Gb(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&cv("Cannot call "+e+" on a deleted database.")},e}();function l_(e,t,n,r){void 0===r&&(r={}),(e=Cf(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&cv("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&cv('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cv(Cv.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:$h(r.mockUserToken,e.app.options.projectId);o=new Cv(a)}!function(e,t,n,r){e.repoInfo_=new Av(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function h_(e){(e=Cf(e))._checkNotDeleted("goOffline"),Gb(e._repo)}function f_(e){var t;(e=Cf(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p_=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function v_(e,t,n){var r;if(e=Cf(e),kb("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Qh,a=Pw(e,(function(){}));return function(e,t,n,r,i,o){Qb(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:ev(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Yb(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{wb("transaction failed: Data returned ",u,a.path),a.status=0;var c=ab(e.transactionQueueTree_,t),l=sb(c)||[];l.push(a),ub(c,l);var h=void 0;"object"==typeof u&&null!==u&&df(u,".priority")?(h=pf(u,".priority"),jh(yb(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(jy(e.serverSyncTree_,t)||Mg.EMPTY_NODE).getPriority().val();var f=Ub(e),d=Ug(u,h),p=rb(d,s,f);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=p,a.currentWriteId=Bb(e);var v=Dy(e.serverSyncTree_,t,p,a.currentWriteId,a.applyLocally);Rb(e.eventQueue_,t,v),Xb(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new gw(r,new vw(e._repo,e._path),Pg),o.resolve(new p_(n,i)))}),a,i),o.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){_f("OnDisconnect.cancel",0,1,arguments.length),Ef("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){_f("OnDisconnect.remove",0,1,arguments.length),Ef("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){_f("OnDisconnect.set",1,2,arguments.length),Ef("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){_f("OnDisconnect.setWithPriority",2,3,arguments.length),Ef("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(_f("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,lv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ef("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),m_=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return _f("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),y_=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return _f("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return _f("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return _f("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return _f("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return _f("DataSnapshot.child",0,1,arguments.length),t=String(t),Sb("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return _f("DataSnapshot.hasChild",1,1,arguments.length),Sb("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return _f("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return _f("DataSnapshot.forEach",1,1,arguments.length),Ef("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return _f("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return _f("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return _f("DataSnapshot.ref",0,0,arguments.length),new w_(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),b_=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,a=this;_f("Query.on",2,4,arguments.length),Ef("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new y_(a.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return Pw(this._delegate,u,c),n;case"child_added":return xw(this._delegate,u,c),n;case"child_removed":return Ow(this._delegate,u,c),n;case"child_changed":return Rw(this._delegate,u,c),n;case"child_moved":return Dw(this._delegate,u,c),n;default:throw new Error(Tf("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(_f("Query.off",0,3,arguments.length),Eb("Query.off",e,!0),Ef("Query.off","callback",t,!0),If("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Lw(this._delegate,e,r)}else Lw(this._delegate,e)},e.prototype.get=function(){var e=this;return kw(this._delegate).then((function(t){return new y_(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;_f("Query.once",1,4,arguments.length),Ef("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=new Qh,u=function(e,t){var r=new y_(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":Pw(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":xw(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Ow(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Rw(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Dw(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Tf("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},e.prototype.limitToFirst=function(t){return _f("Query.limitToFirst",1,1,arguments.length),new e(this.database,o_(this._delegate,Hw(t)))},e.prototype.limitToLast=function(t){return _f("Query.limitToLast",1,1,arguments.length),new e(this.database,o_(this._delegate,Qw(t)))},e.prototype.orderByChild=function(t){return _f("Query.orderByChild",1,1,arguments.length),new e(this.database,o_(this._delegate,Yw(t)))},e.prototype.orderByKey=function(){return _f("Query.orderByKey",0,0,arguments.length),new e(this.database,o_(this._delegate,Jw()))},e.prototype.orderByPriority=function(){return _f("Query.orderByPriority",0,0,arguments.length),new e(this.database,o_(this._delegate,e_()))},e.prototype.orderByValue=function(){return _f("Query.orderByValue",0,0,arguments.length),new e(this.database,o_(this._delegate,n_()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),_f("Query.startAt",0,2,arguments.length),new e(this.database,o_(this._delegate,Bw(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),_f("Query.startAfter",0,2,arguments.length),new e(this.database,o_(this._delegate,Kw(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),_f("Query.endAt",0,2,arguments.length),new e(this.database,o_(this._delegate,Uw(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),_f("Query.endBefore",0,2,arguments.length),new e(this.database,o_(this._delegate,qw(t,n)))},e.prototype.equalTo=function(t,n){return _f("Query.equalTo",1,2,arguments.length),new e(this.database,o_(this._delegate,i_(t,n)))},e.prototype.toString=function(){return _f("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return _f("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(_f("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Ef(e,"cancel",r.cancel,!0),r.context=n,If(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Tf(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new w_(this.database,new vw(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),w_=function(e){function t(t,n){var r=e.call(this,t,new hw(n._repo,n._path,new em,!1))||this;return r.database=t,r._delegate=n,r}return Ph(t,e),t.prototype.getKey=function(){return _f("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return _f("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,bw(this._delegate,e))},t.prototype.getParent=function(){_f("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return _f("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){_f("Reference.set",1,2,arguments.length),Ef("Reference.set","onComplete",t,!0);var n=Tw(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(_f("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,lv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kb("Reference.update",this._delegate._path),Ef("Reference.update","onComplete",t,!0);var i=Sw(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){_f("Reference.setWithPriority",2,3,arguments.length),Ef("Reference.setWithPriority","onComplete",n,!0);var r=Iw(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){_f("Reference.remove",0,1,arguments.length),Ef("Reference.remove","onComplete",e,!0);var t=_w(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;_f("Reference.transaction",1,3,arguments.length),Ef("Reference.transaction","transactionUpdate",e,!1),Ef("Reference.transaction","onComplete",t,!0),Nb("Reference.transaction","applyLocally",n,!0);var i=v_(this._delegate,e,{applyLocally:n}).then((function(e){return new m_(e.committed,new y_(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){_f("Reference.setPriority",1,2,arguments.length),Ef("Reference.setPriority","onComplete",t,!0);var n=Ew(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;_f("Reference.push",0,2,arguments.length),Ef("Reference.push","onComplete",n,!0);var i=ww(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var a=new t(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},t.prototype.onDisconnect=function(){return kb("Reference.onDisconnect",this._delegate._path),new g_(new lw(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(b_),__=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),l_(this._delegate,e,t,n)},e.prototype.ref=function(e){if(_f("database.ref",0,1,arguments.length),e instanceof w_){var t=yw(this._delegate,e.toString());return new w_(this,t)}t=mw(this._delegate,e);return new w_(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";_f(t,1,1,arguments.length);var n=yw(this._delegate,e);return new w_(this,n)},e.prototype.goOffline=function(){return _f("database.goOffline",0,0,arguments.length),h_(this._delegate)},e.prototype.goOnline=function(){return _f("database.goOnline",0,0,arguments.length),f_(this._delegate)},e.ServerValue={TIMESTAMP:d_,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T_=Object.freeze({__proto__:null,forceLongPolling:function(){jv.forceDisallow(),Mv.forceAllow()},forceWebSockets:function(){Mv.forceDisallow()},isWebSocketsAvailable:function(){return jv.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new pm(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);bv(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;Hp(r);var u=new Af("auth-internal",new xf("database-standalone"));return u.setComponent(new Nf("auth-internal",(function(){return i}),"PRIVATE")),{instance:new __(u_(t,u,void 0,n,s),t),namespace:o}}}),E_=hg;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hg.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},hg.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var I_=Vv,S_=Av,k_=Object.freeze({__proto__:null,DataConnection:E_,RealTimeConnection:I_,hijackHash:function(e){var t=hg.prototype.put;return hg.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){hg.prototype.put=t}},ConnectionTarget:S_,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){s_=e}(e)}}),C_=__.ServerValue;!function(e){Hp(e.SDK_VERSION),e.INTERNAL.registerComponent(new Nf("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new __(u_(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:w_,Query:b_,Database:__,DataSnapshot:y_,enableLogging:ov,INTERNAL:T_,ServerValue:C_,TEST_ACCESS:k_}).setMultipleInstances(!0)),e.registerVersion("@firebase/database","0.11.0")}(nd);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var N_=function(e,t){return(N_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function A_(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var P_,x_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},R_=R_||{},D_=x_||self;function O_(){}function L_(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function M_(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var F_="closure_uid_"+(1e9*Math.random()>>>0),U_=0;function j_(e,t,n){return e.call.apply(e.bind,arguments)}function q_(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function V_(e,t,n){return(V_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j_:q_).apply(null,arguments)}function B_(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function z_(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function K_(){this.s=this.s,this.o=this.o}var W_={};K_.prototype.s=!1,K_.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,F_)&&e[F_]||(e[F_]=++U_)}(this);delete W_[e]}},K_.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var H_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G_=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Q_(e){return Array.prototype.concat.apply([],arguments)}function $_(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Y_(e){return/^[\s\xa0]*$/.test(e)}var X_,J_=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Z_(e,t){return-1!=e.indexOf(t)}function eT(e,t){return e<t?-1:e>t?1:0}e:{var tT=D_.navigator;if(tT){var nT=tT.userAgent;if(nT){X_=nT;break e}}X_=""}function rT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function iT(e){var t={};for(var n in e)t[n]=e[n];return t}var oT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aT(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<oT.length;o++)n=oT[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sT(e){return sT[" "](e),e}sT[" "]=O_;var uT,cT=Z_(X_,"Opera"),lT=Z_(X_,"Trident")||Z_(X_,"MSIE"),hT=Z_(X_,"Edge"),fT=hT||lT,dT=Z_(X_,"Gecko")&&!(Z_(X_.toLowerCase(),"webkit")&&!Z_(X_,"Edge"))&&!(Z_(X_,"Trident")||Z_(X_,"MSIE"))&&!Z_(X_,"Edge"),pT=Z_(X_.toLowerCase(),"webkit")&&!Z_(X_,"Edge");function vT(){var e=D_.document;return e?e.documentMode:void 0}e:{var gT="",mT=function(){var e=X_;return dT?/rv:([^\);]+)(\)|;)/.exec(e):hT?/Edge\/([\d\.]+)/.exec(e):lT?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pT?/WebKit\/(\S+)/.exec(e):cT?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mT&&(gT=mT?mT[1]:""),lT){var yT=vT();if(null!=yT&&yT>parseFloat(gT)){uT=String(yT);break e}}uT=gT}var bT,wT={};function _T(){return function(e){var t=wT;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=J_(String(uT)).split("."),n=J_("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=eT(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||eT(0==o[2].length,0==a[2].length)||eT(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(D_.document&&lT){var TT=vT();bT=TT||(parseInt(uT,10)||void 0)}else bT=void 0;var ET=bT,IT=function(){if(!D_.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{D_.addEventListener("test",O_,t),D_.removeEventListener("test",O_,t)}catch(n){}return e}();function ST(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function kT(e,t){if(ST.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dT){e:{try{sT(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:CT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kT.Z.h.call(this)}}ST.prototype.h=function(){this.defaultPrevented=!0},z_(kT,ST);var CT={2:"touch",3:"pen",4:"mouse"};kT.prototype.h=function(){kT.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var NT="closure_listenable_"+(1e6*Math.random()|0),AT=0;function PT(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++AT,this.ca=this.fa=!1}function xT(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function RT(e){this.src=e,this.g={},this.h=0}function DT(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=H_(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xT(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function OT(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}RT.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=OT(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new PT(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var LT="closure_lm_"+(1e6*Math.random()|0),MT={};function FT(e,t,n,r,i){if(r&&r.once)return jT(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)FT(e,t[o],n,r,i);return null}return n=HT(n),e&&e[NT]?e.N(t,n,M_(r)?!!r.capture:!!r,i):UT(e,t,n,!1,r,i)}function UT(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=M_(i)?!!i.capture:!!i,s=KT(e);if(s||(e[LT]=s=new RT(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zT;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)IT||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(BT(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jT(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)jT(e,t[o],n,r,i);return null}return n=HT(n),e&&e[NT]?e.O(t,n,M_(r)?!!r.capture:!!r,i):UT(e,t,n,!0,r,i)}function qT(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)qT(e,t[o],n,r,i);else r=M_(r)?!!r.capture:!!r,n=HT(n),e&&e[NT]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=OT(o=e.g[t],n,r,i))&&(xT(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=KT(e))&&(t=e.g[t.toString()],e=-1,t&&(e=OT(t,n,r,i)),(n=-1<e?t[e]:null)&&VT(n))}function VT(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[NT])DT(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(BT(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=KT(t))?(DT(n,e),0==n.h&&(n.src=null,t[LT]=null)):xT(e)}}}function BT(e){return e in MT?MT[e]:MT[e]="on"+e}function zT(e,t){if(e.ca)e=!0;else{t=new kT(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&VT(e),e=n.call(r,t)}return e}function KT(e){return(e=e[LT])instanceof RT?e:null}var WT="__closure_events_fn_"+(1e9*Math.random()>>>0);function HT(e){return"function"==typeof e?e:(e[WT]||(e[WT]=function(t){return e.handleEvent(t)}),e[WT])}function GT(){K_.call(this),this.i=new RT(this),this.P=this,this.I=null}function QT(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ST(t,e);else if(t instanceof ST)t.target=t.target||e;else{var i=t;aT(t=new ST(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=$T(a,r,!0,t)&&i}if(i=$T(a=t.g=e,r,!0,t)&&i,i=$T(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=$T(a=t.g=n[o],r,!1,t)&&i}function $T(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&DT(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}z_(GT,K_),GT.prototype[NT]=!0,GT.prototype.removeEventListener=function(e,t,n,r){qT(this,e,t,n,r)},GT.prototype.M=function(){if(GT.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xT(n[r]);delete t.g[e],t.h--}}this.I=null},GT.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},GT.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var YT=D_.JSON.stringify;function XT(){var e=oE,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var JT,ZT=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=eE.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),eE=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new tE}),(function(e){return e.reset()})),tE=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function nE(e){D_.setTimeout((function(){throw e}),0)}function rE(e,t){JT||function(){var e=D_.Promise.resolve(void 0);JT=function(){e.then(aE)}}(),iE||(JT(),iE=!0),oE.add(e,t)}var iE=!1,oE=new ZT;function aE(){for(var e;e=XT();){try{e.h.call(e.g)}catch(n){nE(n)}var t=eE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}iE=!1}function sE(e,t){GT.call(this),this.h=e||1,this.g=t||D_,this.j=V_(this.kb,this),this.l=Date.now()}function uE(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function cE(e,t,n){if("function"==typeof e)n&&(e=V_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=V_(e.handleEvent,e)}return 2147483647<Number(t)?-1:D_.setTimeout(e,t||0)}function lE(e){e.g=cE((function(){e.g=null,e.i&&(e.i=!1,lE(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}z_(sE,GT),(P_=sE.prototype).da=!1,P_.S=null,P_.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),QT(this,"tick"),this.da&&(uE(this),this.start()))}},P_.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P_.M=function(){sE.Z.M.call(this),uE(this),delete this.g};var hE=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}N_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:lE(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(D_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(K_);function fE(e){K_.call(this),this.h=e,this.g={}}z_(fE,K_);var dE=[];function pE(e,t,n,r){Array.isArray(n)||(n&&(dE[0]=n.toString()),n=dE);for(var i=0;i<n.length;i++){var o=FT(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function vE(e){rT(e.g,(function(e,t){this.g.hasOwnProperty(t)&&VT(e)}),e),e.g={}}function gE(){this.g=!0}function mE(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return YT(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}fE.prototype.M=function(){fE.Z.M.call(this),vE(this)},fE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gE.prototype.Aa=function(){this.g=!1},gE.prototype.info=function(){};var yE={},bE=null;function wE(){return bE=bE||new GT}function _E(e){ST.call(this,yE.Ma,e)}function TE(e){var t=wE();QT(t,new _E(t,e))}function EE(e,t){ST.call(this,yE.STAT_EVENT,e),this.stat=t}function IE(e){var t=wE();QT(t,new EE(t,e))}function SE(e,t){ST.call(this,yE.Na,e),this.size=t}function kE(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return D_.setTimeout((function(){e()}),t)}yE.Ma="serverreachability",z_(_E,ST),yE.STAT_EVENT="statevent",z_(EE,ST),yE.Na="timingevent",z_(SE,ST);var CE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function AE(){}function PE(e){return e.h||(e.h=e.i())}function xE(){}AE.prototype.h=null;var RE,DE={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function OE(){ST.call(this,"d")}function LE(){ST.call(this,"c")}function ME(){}function FE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fE(this),this.P=jE,e=fT?125:void 0,this.W=new sE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new UE}function UE(){this.i=null,this.g="",this.h=!1}z_(OE,ST),z_(LE,ST),z_(ME,AE),ME.prototype.g=function(){return new XMLHttpRequest},ME.prototype.i=function(){return{}},RE=new ME;var jE=45e3,qE={},VE={};function BE(e,t,n){e.K=1,e.v=hI(oI(t)),e.s=n,e.U=!0,zE(e,null)}function zE(e,t){e.F=Date.now(),GE(e),e.A=oI(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),II(n.h,"t",r),e.C=0,n=e.l.H,e.h=new UE,e.g=SS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hE(V_(e.Ia,e,e.g),e.O)),pE(e.V,e.g,"readystatechange",e.gb),t=e.H?iT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),TE(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function KE(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function WE(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=HE(e,n))==VE){4==t&&(e.o=4,IE(14),i=!1),mE(e.j,e.m,null,"[Incomplete Response]");break}if(r==qE){e.o=4,IE(15),mE(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mE(e.j,e.m,r,null),JE(e,r)}KE(e)&&r!=VE&&r!=qE&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,IE(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mS(t),t.L=!0,IE(11))):(mE(e.j,e.m,n,"[Invalid Chunked Response]"),XE(e),YE(e))}function HE(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?VE:(n=Number(t.substring(n,r)),isNaN(n)?qE:(r+=1)+n>t.length?VE:(t=t.substr(r,n),e.C=r+n,t))}function GE(e){e.Y=Date.now()+e.P,QE(e,e.P)}function QE(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=kE(V_(e.eb,e),t)}function $E(e){e.B&&(D_.clearTimeout(e.B),e.B=null)}function YE(e){0==e.l.G||e.I||wS(e.l,e)}function XE(e){$E(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,uE(e.W),vE(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function JE(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xI(n.i,e)))if(n.I=e.N,!e.J&&xI(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bS(n),uS(n)}gS(n),IE(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=kE(V_(n.ab,n),6e3));if(1>=PI(n.i)&&n.ka){try{n.ka()}catch(g){}n.ka=void 0}}else TS(n,11)}else if((e.J||n.g==e)&&bS(n),!Y_(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Z_(l,"spdy")||Z_(l,"quic")||Z_(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(RI(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,lI(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=IS(r,r.H?r.la:null,r.W),d.J){DI(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($E(p),GE(p)),r.g=d}else vS(r);0<n.l.length&&hS(n)}else"stop"!=o[0]&&"close"!=o[0]||TS(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?TS(n,7):sS(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}TE(4)}catch(g){}}function ZE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(L_(e)||"string"==typeof e)G_(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(L_(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(L_(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function eI(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof eI)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function tI(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];nI(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)nI(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function nI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(P_=FE.prototype).setTimeout=function(e){this.P=e},P_.gb=function(e){e=e.target;var t=this.L;t&&3==nS(e)?t.l():this.Ia(e)},P_.Ia=function(e){try{if(e==this.g)e:{var t=nS(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||fT||this.g&&(this.h.h||this.g.ga()||rS(this.g)))){this.I||4!=t||7==n||TE(8==n||0>=r?3:2),$E(this);var i=this.g.ba();this.N=i;t:if(KE(this)){var o=rS(this.g);e="";var a=o.length,s=4==nS(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){XE(this),YE(this);var u="";break t}this.h.i=new D_.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y_(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,IE(12),XE(this),YE(this);break e}mE(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JE(this,i)}this.U?(WE(this,t,u),fT&&this.i&&3==t&&(pE(this.V,this.W,"tick",this.fb),this.W.start())):(mE(this.j,this.m,u,null),JE(this,u)),4==t&&XE(this),this.i&&!this.I&&(4==t?wS(this.l,this):(this.i=!1,GE(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,IE(12)):(this.o=0,IE(13)),XE(this),YE(this)}}}catch(f){}},P_.fb=function(){if(this.g){var e=nS(this.g),t=this.g.ga();this.C<t.length&&($E(this),WE(this,e,t),this.i&&4!=e&&GE(this))}},P_.cancel=function(){this.I=!0,XE(this)},P_.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(TE(3),IE(17)),XE(this),this.o=2,YE(this)):QE(this,this.Y-e)},(P_=eI.prototype).R=function(){tI(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},P_.T=function(){return tI(this),this.g.concat()},P_.get=function(e,t){return nI(this.h,e)?this.h[e]:t},P_.set=function(e,t){nI(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},P_.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var rI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iI(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof iI){this.g=void 0!==t?t:e.g,aI(this,e.j),this.s=e.s,sI(this,e.i),uI(this,e.m),this.l=e.l,t=e.h;var n=new wI;n.i=t.i,t.g&&(n.g=new eI(t.g),n.h=t.h),cI(this,n),this.o=e.o}else e&&(n=String(e).match(rI))?(this.g=!!t,aI(this,n[1]||"",!0),this.s=fI(n[2]||""),sI(this,n[3]||"",!0),uI(this,n[4]),this.l=fI(n[5]||"",!0),cI(this,n[6]||"",!0),this.o=fI(n[7]||"")):(this.g=!!t,this.h=new wI(null,this.g))}function oI(e){return new iI(e)}function aI(e,t,n){e.j=n?fI(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sI(e,t,n){e.i=n?fI(t,!0):t}function uI(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cI(e,t,n){t instanceof wI?(e.h=t,function(e,t){t&&!e.j&&(_I(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(TI(this,t),II(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=dI(t,yI)),e.h=new wI(t,e.g))}function lI(e,t,n){e.h.set(t,n)}function hI(e){return lI(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fI(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dI(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,pI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pI(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}iI.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dI(t,vI,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dI(t,vI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(dI(n,"/"==n.charAt(0)?mI:gI,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dI(n,bI)),e.join("")};var vI=/[#\/\?@]/g,gI=/[#\?:]/g,mI=/[#\?]/g,yI=/[#\?@]/g,bI=/#/g;function wI(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _I(e){e.g||(e.g=new eI,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function TI(e,t){_I(e),t=SI(e,t),nI(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,nI((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tI(e)))}function EI(e,t){return _I(e),t=SI(e,t),nI(e.g.h,t)}function II(e,t,n){TI(e,t),0<n.length&&(e.i=null,e.g.set(SI(e,t),$_(n)),e.h+=n.length)}function SI(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(P_=wI.prototype).add=function(e,t){_I(this),this.i=null,e=SI(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},P_.forEach=function(e,t){_I(this),this.g.forEach((function(n,r){G_(n,(function(n){e.call(t,n,r,this)}),this)}),this)},P_.T=function(){_I(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},P_.R=function(e){_I(this);var t=[];if("string"==typeof e)EI(this,e)&&(t=Q_(t,this.g.get(SI(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Q_(t,e[n])}return t},P_.set=function(e,t){return _I(this),this.i=null,EI(this,e=SI(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},P_.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},P_.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var kI=function(e,t){this.h=e,this.g=t};function CI(e){this.l=e||NI,D_.PerformanceNavigationTiming?e=0<(e=D_.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(D_.g&&D_.g.Ea&&D_.g.Ea()&&D_.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NI=10;function AI(e){return!!e.h||!!e.g&&e.g.size>=e.j}function PI(e){return e.h?1:e.g?e.g.size:0}function xI(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function RI(e,t){e.g?e.g.add(t):e.h=t}function DI(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function OI(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=A_(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return $_(e.i)}function LI(){}function MI(){this.g=new LI}function FI(e,t,n){var r=n||"";try{ZE(e,(function(e,n){var i=e;M_(e)&&(i=YT(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(nM){throw t.push(r+"type="+encodeURIComponent("_badmap")),nM}}function UI(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function jI(e){this.l=e.$b||null,this.j=e.ib||!1}function qI(e,t){GT.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=VI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}CI.prototype.cancel=function(){var e,t;if(this.i=OI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=A_(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},LI.prototype.stringify=function(e){return D_.JSON.stringify(e,void 0)},LI.prototype.parse=function(e){return D_.JSON.parse(e,void 0)},z_(jI,AE),jI.prototype.g=function(){return new qI(this.l,this.j)},jI.prototype.i=function(e){return function(){return e}}({}),z_(qI,GT);var VI=0;function BI(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function zI(e){e.readyState=4,e.l=null,e.j=null,e.A=null,KI(e)}function KI(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(P_=qI.prototype).open=function(e,t){if(this.readyState!=VI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,KI(this)},P_.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||D_).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},P_.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zI(this)),this.readyState=VI},P_.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,KI(this)),this.g&&(this.readyState=3,KI(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==D_.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BI(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},P_.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zI(this):KI(this),3==this.readyState&&BI(this)}},P_.Ua=function(e){this.g&&(this.response=this.responseText=e,zI(this))},P_.Ta=function(e){this.g&&(this.response=e,zI(this))},P_.ha=function(){this.g&&zI(this)},P_.setRequestHeader=function(e,t){this.v.append(e,t)},P_.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},P_.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var WI=D_.JSON.parse;function HI(e){GT.call(this),this.headers=new eI,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=GI,this.K=this.L=!1}z_(HI,GT);var GI="",QI=/^https?$/i,$I=["POST","PUT"];function YI(e){return"content-type"==e.toLowerCase()}function XI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,JI(e),eS(e)}function JI(e){e.D||(e.D=!0,QT(e,"complete"),QT(e,"error"))}function ZI(e){if(e.h&&void 0!==R_&&(!e.C[1]||4!=nS(e)||2!=e.ba()))if(e.v&&4==nS(e))cE(e.Fa,0,e);else if(QT(e,"readystatechange"),4==nS(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(rI)[1]||null;if(!o&&D_.self&&D_.self.location){var a=D_.self.location.protocol;o=a.substr(0,a.length-1)}i=!QI.test(o?o.toLowerCase():"")}t=i}if(t)QT(e,"complete"),QT(e,"success");else{e.m=6;try{var s=2<nS(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",JI(e)}}finally{eS(e)}}}function eS(e,t){if(e.g){tS(e);var n=e.g,r=e.C[0]?O_:null;e.g=null,e.C=null,t||QT(e,"ready");try{n.onreadystatechange=r}catch(nM){}}}function tS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(D_.clearTimeout(e.A),e.A=null)}function nS(e){return e.g?e.g.readyState:0}function rS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case GI:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function iS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return rT(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lI(e,t,n))}function oS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function aS(e){this.za=0,this.l=[],this.h=new gE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oS("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oS("baseRetryDelayMs",5e3,e),this.$a=oS("retryDelaySeedMs",1e4,e),this.Ya=oS("forwardChannelMaxRetries",2,e),this.ra=oS("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new CI(e&&e.concurrentRequestLimit),this.Ca=new MI,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function sS(e){if(cS(e),3==e.G){var t=e.V++,n=oI(e.F);lI(n,"SID",e.J),lI(n,"RID",t),lI(n,"TYPE","terminate"),dS(e,n),(t=new FE(e,e.h,t,void 0)).K=2,t.v=hI(oI(n)),n=!1,D_.navigator&&D_.navigator.sendBeacon&&(n=D_.navigator.sendBeacon(t.v.toString(),"")),!n&&D_.Image&&((new Image).src=t.v,n=!0),n||(t.g=SS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),GE(t)}ES(e)}function uS(e){e.g&&(mS(e),e.g.cancel(),e.g=null)}function cS(e){uS(e),e.u&&(D_.clearTimeout(e.u),e.u=null),bS(e),e.i.cancel(),e.m&&("number"==typeof e.m&&D_.clearTimeout(e.m),e.m=null)}function lS(e,t){e.l.push(new kI(e.Za++,t)),3==e.G&&hS(e)}function hS(e){AI(e.i)||e.m||(e.m=!0,rE(e.Ha,e),e.C=0)}function fS(e,t){var n;n=t?t.m:e.V++;var r=oI(e.F);lI(r,"SID",e.J),lI(r,"RID",n),lI(r,"AID",e.U),dS(e,r),e.o&&e.s&&iS(r,e.o,e.s),n=new FE(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),RI(e.i,n),BE(n,r,t)}function dS(e,t){e.j&&ZE({},(function(e,n){lI(t,n,e)}))}function pS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?V_(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{FI(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function vS(e){e.g||e.u||(e.Y=1,rE(e.Ga,e),e.A=0)}function gS(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=kE(V_(e.Ga,e),_S(e,e.A)),e.A++,!0)}function mS(e){null!=e.B&&(D_.clearTimeout(e.B),e.B=null)}function yS(e){e.g=new FE(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=oI(e.oa);lI(t,"RID","rpc"),lI(t,"SID",e.J),lI(t,"CI",e.N?"0":"1"),lI(t,"AID",e.U),dS(e,t),lI(t,"TYPE","xmlhttp"),e.o&&e.s&&iS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hI(oI(t)),n.s=null,n.U=!0,zE(n,e)}function bS(e){null!=e.v&&(D_.clearTimeout(e.v),e.v=null)}function wS(e,t){var n=null;if(e.g==t){bS(e),mS(e),e.g=null;var r=2}else{if(!xI(e.i,t))return;n=t.D,DI(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;QT(r=wE(),new SE(r,n,t,i)),hS(e)}else vS(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(PI(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=kE(V_(e.Ha,e,t),_S(e,e.C)),e.C++,0)))}(e,t)||2==r&&gS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:TS(e,5);break;case 4:TS(e,10);break;case 3:TS(e,6);break;default:TS(e,2)}}function _S(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function TS(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=V_(e.jb,e);n||(n=new iI("//www.google.com/images/cleardot.gif"),D_.location&&"http"==D_.location.protocol||aI(n,"https"),hI(n)),function(e,t){var n=new gE;if(D_.Image){var r=new Image;r.onload=B_(UI,n,r,"TestLoadImage: loaded",!0,t),r.onerror=B_(UI,n,r,"TestLoadImage: error",!1,t),r.onabort=B_(UI,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=B_(UI,n,r,"TestLoadImage: timeout",!1,t),D_.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else IE(2);e.G=0,e.j&&e.j.va(t),ES(e),cS(e)}function ES(e){e.G=0,e.I=-1,e.j&&(0==OI(e.i).length&&0==e.l.length||(e.i.i.length=0,$_(e.l),e.l.length=0),e.j.ua())}function IS(e,t,n){var r=function(e){return e instanceof iI?oI(e):new iI(e,void 0)}(n);if(""!=r.i)t&&sI(r,t+"."+r.i),uI(r,r.m);else{var i=D_.location;r=function(e,t,n,r){var i=new iI(null,void 0);return e&&aI(i,e),t&&sI(i,t),n&&uI(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&rT(e.aa,(function(e,t){lI(r,t,e)})),t=e.D,n=e.sa,t&&n&&lI(r,t,n),lI(r,"VER",e.ma),dS(e,r),r}function SS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new HI(new jI({ib:!0})):new HI(e.qa)).L=e.H,t}function kS(){}function CS(){if(lT&&!(10<=Number(ET)))throw Error("Environmental error: no available transport.")}function NS(e,t){GT.call(this),this.g=new aS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Y_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Y_(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xS(this)}function AS(e){OE.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function PS(){LE.call(this),this.status=1}function xS(e){this.g=e}(P_=HI.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():RE.g(),this.C=this.u?PE(this.u):PE(RE),this.g.onreadystatechange=V_(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void XI(this,o)}e=n||"";var i=new eI(this.headers);r&&ZE(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=YI,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=D_.FormData&&e instanceof D_.FormData,!(0<=H_($I,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tS(this),0<this.B&&((this.K=function(e){return lT&&_T()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=V_(this.pa,this)):this.A=cE(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){XI(this,o)}},P_.pa=function(){void 0!==R_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,QT(this,"timeout"),this.abort(8))},P_.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,QT(this,"complete"),QT(this,"abort"),eS(this))},P_.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eS(this,!0)),HI.Z.M.call(this)},P_.Fa=function(){this.s||(this.F||this.v||this.l?ZI(this):this.cb())},P_.cb=function(){ZI(this)},P_.ba=function(){try{return 2<nS(this)?this.g.status:-1}catch(tt){return-1}},P_.ga=function(){try{return this.g?this.g.responseText:""}catch(tt){return""}},P_.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),WI(t)}},P_.Da=function(){return this.m},P_.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P_=aS.prototype).ma=8,P_.G=1,P_.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},P_.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new FE(this,this.h,e,void 0),n=this.s;if(this.P&&(n?aT(n=iT(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pS(this,t,r),lI(i=oI(this.F),"RID",e),lI(i,"CVER",22),this.D&&lI(i,"X-HTTP-Session-Id",this.D),dS(this,i),this.o&&n&&iS(i,this.o,n),RI(this.i,t),this.Ra&&lI(i,"TYPE","init"),this.ja?(lI(i,"$req",r),lI(i,"SID","null"),t.$=!0,BE(t,i,null)):BE(t,i,r),this.G=2}}else 3==this.G&&(e?fS(this,e):0==this.l.length||AI(this.i)||fS(this))},P_.Ga=function(){if(this.u=null,yS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=kE(V_(this.bb,this),e)}},P_.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,IE(10),uS(this),yS(this))},P_.ab=function(){null!=this.v&&(this.v=null,uS(this),gS(this),IE(19))},P_.jb=function(e){e?(this.h.info("Successfully pinged google.com"),IE(2)):(this.h.info("Failed to ping google.com"),IE(1))},(P_=kS.prototype).xa=function(){},P_.wa=function(){},P_.va=function(){},P_.ua=function(){},P_.Oa=function(){},CS.prototype.g=function(e,t){return new NS(e,t)},z_(NS,GT),NS.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rE(V_(e.hb,e,t))),IE(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=IS(e,null,e.W),hS(e)},NS.prototype.close=function(){sS(this.g)},NS.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,lS(this.g,t)}else this.v?((t={}).__data__=YT(e),lS(this.g,t)):lS(this.g,e)},NS.prototype.M=function(){this.g.j=null,delete this.j,sS(this.g),delete this.g,NS.Z.M.call(this)},z_(AS,OE),z_(PS,LE),z_(xS,kS),xS.prototype.xa=function(){QT(this.g,"a")},xS.prototype.wa=function(e){QT(this.g,new AS(e))},xS.prototype.va=function(e){QT(this.g,new PS(e))},xS.prototype.ua=function(){QT(this.g,"b")},CS.prototype.createWebChannel=CS.prototype.g,NS.prototype.send=NS.prototype.u,NS.prototype.open=NS.prototype.m,NS.prototype.close=NS.prototype.close,CE.NO_ERROR=0,CE.TIMEOUT=8,CE.HTTP_ERROR=6,NE.COMPLETE="complete",xE.EventType=DE,DE.OPEN="a",DE.CLOSE="b",DE.ERROR="c",DE.MESSAGE="d",GT.prototype.listen=GT.prototype.N,HI.prototype.listenOnce=HI.prototype.O,HI.prototype.getLastError=HI.prototype.La,HI.prototype.getLastErrorCode=HI.prototype.Da,HI.prototype.getStatus=HI.prototype.ba,HI.prototype.getResponseJson=HI.prototype.Qa,HI.prototype.getResponseText=HI.prototype.ga,HI.prototype.send=HI.prototype.ea;var RS=CE,DS=NE,OS=yE,LS=10,MS=11,FS=jI,US=xE,jS=HI,qS=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();qS.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var VS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},BS=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Ph(t,e),t}(Error),zS=new Vf("@firebase/firestore");function KS(){return zS.logLevel}function WS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zS.logLevel<=Df.DEBUG){var r=t.map(QS);zS.debug.apply(zS,Mh(["Firestore (8.10.0): "+e],r))}}function HS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zS.logLevel<=Df.ERROR){var r=t.map(QS);zS.error.apply(zS,Mh(["Firestore (8.10.0): "+e],r))}}function GS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zS.logLevel<=Df.WARN){var r=t.map(QS);zS.warn.apply(zS,Mh(["Firestore (8.10.0): "+e],r))}}function QS(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw HS(t),new Error(t)}function YS(e,t){e||$S()}function XS(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZS=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=JS(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ek(e,t){return e<t?-1:e>t?1:0}function tk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function nk(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new BS(VS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new BS(VS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new BS(VS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new BS(VS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ek(this.nanoseconds,e.nanoseconds):ek(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ik=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new rk(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ak(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&$S(),void 0===n?n=e.length-t:n>e.length-t&&$S(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ck=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new BS(VS.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(uk),lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return lk.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new BS(VS.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new BS(VS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new BS(VS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new BS(VS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(uk),fk=function(){function e(e){this.fields=e,e.sort(hk.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return tk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),dk=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ek(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();dk.EMPTY_BYTE_STRING=new dk("");var pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vk(e){if(YS(!!e),"string"==typeof e){var t=0,n=pk.exec(e);if(YS(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gk(e.seconds),nanos:gk(e.nanos)}}function gk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function mk(e){return"string"==typeof e?dk.fromBase64String(e):dk.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bk(e){var t=e.mapValue.fields.__previous_value__;return yk(t)?bk(t):t}function wk(e){var t=vk(e.mapValue.fields.__local_write_time__.timestampValue);return new rk(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e){return null==e}function Tk(e){return 0===e&&1/e==-1/0}function Ek(e){return"number"==typeof e&&Number.isInteger(e)&&!Tk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ik=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(ck.fromString(t))},e.fromName=function(t){return new e(ck.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ck.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ck.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ck(t.slice()))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yk(e)?4:10:$S()}function kk(e,t){var n,r=Sk(e);if(r!==Sk(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wk(e).isEqual(wk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=vk(e.timestampValue),r=vk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,mk(e.bytesValue).isEqual(mk(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gk(e.geoPointValue.latitude)===gk(t.geoPointValue.latitude)&&gk(e.geoPointValue.longitude)===gk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gk(e.integerValue)===gk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=gk(e.doubleValue),r=gk(t.doubleValue);return n===r?Tk(n)===Tk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tk(e.arrayValue.values||[],t.arrayValue.values||[],kk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ok(n)!==ok(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kk(n[i],r[i])))return!1;return!0}(e,t);default:return $S()}}function Ck(e,t){return void 0!==(e.values||[]).find((function(e){return kk(e,t)}))}function Nk(e,t){var n,r,i,o,a=Sk(e),s=Sk(t);if(a!==s)return ek(a,s);switch(a){case 0:return 0;case 1:return ek(e.booleanValue,t.booleanValue);case 2:return r=t,i=gk((n=e).integerValue||n.doubleValue),o=gk(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Ak(e.timestampValue,t.timestampValue);case 4:return Ak(wk(e),wk(t));case 5:return ek(e.stringValue,t.stringValue);case 6:return function(e,t){var n=mk(e),r=mk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ek(n[i],r[i]);if(0!==o)return o}return ek(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ek(gk(e.latitude),gk(t.latitude));return 0!==n?n:ek(gk(e.longitude),gk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Nk(n[i],r[i]);if(o)return o}return ek(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ek(r[a],o[a]);if(0!==s)return s;var u=Nk(n[r[a]],i[o[a]]);if(0!==u)return u}return ek(r.length,o.length)}(e.mapValue,t.mapValue);default:throw $S()}}function Ak(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ek(e,t);var n=vk(e),r=vk(t),i=ek(n.seconds,r.seconds);return 0!==i?i:ek(n.nanos,r.nanos)}function Pk(e){return xk(e)}function xk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,"time("+(n=vk(t)).seconds+","+n.nanos+")"):"stringValue"in e?e.stringValue:"bytesValue"in e?mk(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,Ik.fromName(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=xk(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+xk(e.fields[o])}return t+"}"}(e.mapValue):$S();var t,n,r,i}function Rk(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Dk(e){return!!e&&"integerValue"in e}function Ok(e){return!!e&&"arrayValue"in e}function Lk(e){return!!e&&"nullValue"in e}function Mk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fk(e){return!!e&&"mapValue"in e}function Uk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ak(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Uk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uk(e.arrayValue.values[r]);return n}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jk=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uk(t)},e.prototype.setAll=function(e){var t=this,n=hk.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Uk(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Fk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return kk(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){ak(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Uk(this.value))},e}();function qk(e){var t=[];return ak(e.fields,(function(e,n){var r=new hk([e]);if(Fk(n)){var i=qk(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new fk(t)}var Vk=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ik.min(),jk.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,jk.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,jk.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=jk.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=jk.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Bk=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Bk(e,t,n,r,i,o,a)}function Kk(e){var t=XS(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Pk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.canonicalString()+t.dir;var t})).join(","),_k(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=rC(t.startAt)),t.endAt&&(n+="|ub:",n+=rC(t.endAt)),t.h=n}return t.h}function Wk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!oC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!kk(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sC(e.startAt,t.startAt)&&sC(e.endAt,t.endAt)}function Hk(e){return Ik.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Gk=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Ph(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Qk(e,n,r):"array-contains"===n?new Jk(e,r):"in"===n?new Zk(e,r):"not-in"===n?new eC(e,r):"array-contains-any"===n?new tC(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new $k(e,n):new Yk(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Nk(t,this.value)):null!==t&&Sk(this.value)===Sk(t)&&this.m(Nk(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $S()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Qk=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ik.fromName(r.referenceValue),i}return Ph(t,e),t.prototype.matches=function(e){var t=Ik.comparator(e.key,this.key);return this.m(t)},t}(Gk),$k=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Xk("in",n),r}return Ph(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Gk),Yk=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Xk("not-in",n),r}return Ph(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Gk);function Xk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ik.fromName(e.referenceValue)}))}var Jk=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Ph(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Ok(t)&&Ck(t.arrayValue,this.value)},t}(Gk),Zk=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Ph(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Ck(this.value.arrayValue,t)},t}(Gk),eC=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Ph(t,e),t.prototype.matches=function(e){if(Ck(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ck(this.value.arrayValue,t)},t}(Gk),tC=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Ph(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Ok(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ck(t.value.arrayValue,e)}))},t}(Gk),nC=function(e,t){this.position=e,this.before=t};function rC(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Pk(e)})).join(",")}var iC=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function oC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function aC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ik.comparator(Ik.fromName(a.referenceValue),n.key):Nk(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function sC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!kk(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uC=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function cC(e,t,n,r,i,o,a,s){return new uC(e,t,n,r,i,o,a,s)}function lC(e){return new uC(e)}function hC(e){return!_k(e.limit)&&"F"===e.limitType}function fC(e){return!_k(e.limit)&&"L"===e.limitType}function dC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pC(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function vC(e){return null!==e.collectionGroup}function gC(e){var t=XS(e);if(null===t.p){t.p=[];var n=pC(t),r=dC(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new iC(n)),t.p.push(new iC(hk.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new iC(hk.keyField(),u))}}}return t.p}function mC(e){var t=XS(e);if(!t.T)if("F"===t.limitType)t.T=zk(t.path,t.collectionGroup,gC(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=gC(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new iC(o.field,a))}var s=t.endAt?new nC(t.endAt.position,!t.endAt.before):null,u=t.startAt?new nC(t.startAt.position,!t.startAt.before):null;t.T=zk(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function yC(e,t,n){return new uC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bC(e,t){return Wk(mC(e),mC(t))&&e.limitType===t.limitType}function wC(e){return Kk(mC(e))+"|lt:"+e.limitType}function _C(e){return"Query(target="+(t=mC(e),n=t.path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Pk(t.value);var t})).join(", ")+"]"),_k(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(t=e).field.canonicalString()+" ("+t.dir+")";var t})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+rC(t.startAt)),t.endAt&&(n+=", endAt: "+rC(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function TC(e,t){return t.isFoundDocument()&&(n=e,i=(r=t).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ik.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!aC(e.startAt,gC(e),t)||e.endAt&&aC(e.endAt,gC(e),t))}(e,t);var n,r,i}function EC(e){return function(t,n){for(var r=!1,i=0,o=gC(e);i<o.length;i++){var a=o[i],s=IC(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function IC(e,t,n){var r,i,o,a,s=e.field.isKeyField()?Ik.comparator(t.key,n.key):(r=e.field,i=n,o=t.data.field(r),a=i.data.field(r),null!==o&&null!==a?Nk(o,a):$S());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return $S()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tk(t)?"-0":t}}function kC(e){return{integerValue:""+e}}function CC(e,t){return Ek(t)?kC(t):SC(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NC=function(){this._=void 0};function AC(e,t,n){return e instanceof RC?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof DC?OC(e,t):e instanceof LC?MC(e,t):function(e,t){var n=xC(e,t),r=UC(n)+UC(e.A);return Dk(n)&&Dk(e.A)?kC(r):SC(e.R,r)}(e,t);var r,i,o}function PC(e,t,n){return e instanceof DC?OC(e,t):e instanceof LC?MC(e,t):n}function xC(e,t){return e instanceof FC?Dk(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var RC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t}(NC),DC=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ph(t,e),t}(NC);function OC(e,t){for(var n=jC(t),r=function(e){n.some((function(t){return kk(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var LC=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ph(t,e),t}(NC);function MC(e,t){for(var n=jC(t),r=function(e){n=n.filter((function(t){return!kk(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var FC=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Ph(t,e),t}(NC);function UC(e){return gk(e.integerValue||e.doubleValue)}function jC(e){return Ok(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qC=function(e,t){this.field=e,this.transform=t},VC=function(e,t){this.version=e,this.transformResults=t},BC=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function zC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var KC=function(){};function WC(e,t,n){var r,i,o,a,s;e instanceof YC?(i=t,o=n,a=(r=e).value.clone(),s=ZC(r.fieldTransforms,i,o.transformResults),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):e instanceof XC?function(e,t,n){if(zC(e.precondition,t)){var r=ZC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(JC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function HC(e,t,n){var r;e instanceof YC?function(e,t,n){if(zC(e.precondition,t)){var r=e.value.clone(),i=eN(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($C(t),r).setHasLocalMutations()}}(e,t,n):e instanceof XC?function(e,t,n){if(zC(e.precondition,t)){var r=eN(e.fieldTransforms,n,t),i=t.data;i.setAll(JC(e)),i.setAll(r),t.convertToFoundDocument($C(t),i).setHasLocalMutations()}}(e,t,n):(r=t,zC(e.precondition,r)&&r.convertToNoDocument(ik.min()))}function GC(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=xC(o.transform,a||null);null!=s&&(null==n&&(n=jk.empty()),n.set(o.field,s))}return n||null}function QC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&tk(n,r,(function(e,t){return r=t,(n=e).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof DC&&o instanceof DC||i instanceof LC&&o instanceof LC?tk(i.elements,o.elements,kk):i instanceof FC&&o instanceof FC?kk(i.A,o.A):i instanceof RC&&o instanceof RC);var n,r,i,o}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function $C(e){return e.isFoundDocument()?e.version:ik.min()}var YC=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Ph(t,e),t}(KC),XC=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Ph(t,e),t}(KC);function JC(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ZC(e,t,n){var r=new Map;YS(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,PC(a,s,n[i]))}return r}function eN(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,AC(s,u,t))}return r}var tN,nN,rN=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Ph(t,e),t}(KC),iN=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Ph(t,e),t}(KC),oN=function(e){this.count=e};function aN(e){switch(e){case VS.OK:return $S();case VS.CANCELLED:case VS.UNKNOWN:case VS.DEADLINE_EXCEEDED:case VS.RESOURCE_EXHAUSTED:case VS.INTERNAL:case VS.UNAVAILABLE:case VS.UNAUTHENTICATED:return!1;case VS.INVALID_ARGUMENT:case VS.NOT_FOUND:case VS.ALREADY_EXISTS:case VS.PERMISSION_DENIED:case VS.FAILED_PRECONDITION:case VS.ABORTED:case VS.OUT_OF_RANGE:case VS.UNIMPLEMENTED:case VS.DATA_LOSS:return!0;default:return $S()}}function sN(e){if(void 0===e)return HS("GRPC error has no .code"),VS.UNKNOWN;switch(e){case tN.OK:return VS.OK;case tN.CANCELLED:return VS.CANCELLED;case tN.UNKNOWN:return VS.UNKNOWN;case tN.DEADLINE_EXCEEDED:return VS.DEADLINE_EXCEEDED;case tN.RESOURCE_EXHAUSTED:return VS.RESOURCE_EXHAUSTED;case tN.INTERNAL:return VS.INTERNAL;case tN.UNAVAILABLE:return VS.UNAVAILABLE;case tN.UNAUTHENTICATED:return VS.UNAUTHENTICATED;case tN.INVALID_ARGUMENT:return VS.INVALID_ARGUMENT;case tN.NOT_FOUND:return VS.NOT_FOUND;case tN.ALREADY_EXISTS:return VS.ALREADY_EXISTS;case tN.PERMISSION_DENIED:return VS.PERMISSION_DENIED;case tN.FAILED_PRECONDITION:return VS.FAILED_PRECONDITION;case tN.ABORTED:return VS.ABORTED;case tN.OUT_OF_RANGE:return VS.OUT_OF_RANGE;case tN.UNIMPLEMENTED:return VS.UNIMPLEMENTED;case tN.DATA_LOSS:return VS.DATA_LOSS;default:return $S()}}(nN=tN||(tN={}))[nN.OK=0]="OK",nN[nN.CANCELLED=1]="CANCELLED",nN[nN.UNKNOWN=2]="UNKNOWN",nN[nN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nN[nN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nN[nN.NOT_FOUND=5]="NOT_FOUND",nN[nN.ALREADY_EXISTS=6]="ALREADY_EXISTS",nN[nN.PERMISSION_DENIED=7]="PERMISSION_DENIED",nN[nN.UNAUTHENTICATED=16]="UNAUTHENTICATED",nN[nN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nN[nN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nN[nN.ABORTED=10]="ABORTED",nN[nN.OUT_OF_RANGE=11]="OUT_OF_RANGE",nN[nN.UNIMPLEMENTED=12]="UNIMPLEMENTED",nN[nN.INTERNAL=13]="INTERNAL",nN[nN.UNAVAILABLE=14]="UNAVAILABLE",nN[nN.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uN=function(){function e(e,t){this.comparator=e,this.root=t||lN.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lN.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lN.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new cN(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new cN(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cN(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new cN(this.root,e,this.comparator,!0)},e}(),cN=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),lN=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw $S();if(this.right.isRed())throw $S();var e=this.left.check();if(e!==this.right.check())throw $S();return e+(this.isRed()?0:1)},e}();lN.EMPTY=null,lN.RED=!0,lN.BLACK=!1,lN.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw $S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw $S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw $S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw $S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw $S()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new lN(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hN=function(){function e(e){this.comparator=e,this.data=new uN(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new fN(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new fN(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),fN=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),dN=new uN(Ik.comparator);function pN(){return dN}var vN=new uN(Ik.comparator);function gN(){return vN}var mN=new uN(Ik.comparator);function yN(){return mN}var bN=new hN(Ik.comparator);function wN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=bN,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var _N=new hN(ek);function TN(){return _N}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EN=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,IN.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ik.min(),r,TN(),pN(),wN())},e}(),IN=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(dk.EMPTY_BYTE_STRING,n,wN(),wN(),wN())},e}(),SN=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},kN=function(e,t){this.targetId=e,this.V=t},CN=function(e,t,n,r){void 0===n&&(n=dk.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},NN=function(){function e(){this.S=0,this.D=xN(),this.C=dk.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=wN(),t=wN(),n=wN();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$S()}})),new IN(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=xN()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),AN=function(){function e(e){this.W=e,this.G=new Map,this.H=pN(),this.J=PN(),this.Y=new hN(ek)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:$S()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Hk(i))if(0===n){var o=new Ik(i.path);this.tt(t,o,Vk.newNoDocument(o,ik.min()))}else YS(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Hk(o.target)){var a=new Ik(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Vk.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=wN();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new EN(e,n,this.Y,this.H,r);return this.H=pN(),this.J=PN(),this.Y=new hN(ek),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new NN,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new hN(ek),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||WS("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new NN),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function PN(){return new uN(Ik.comparator)}function xN(){return new uN(Ik.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RN={asc:"ASCENDING",desc:"DESCENDING"},DN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ON=function(e,t){this.databaseId=e,this.I=t};function LN(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function MN(e,t){return e.I?t.toBase64():t.toUint8Array()}function FN(e,t){return LN(e,t.toTimestamp())}function UN(e){return YS(!!e),ik.fromTimestamp((t=vk(e),new rk(t.seconds,t.nanos)));var t}function jN(e,t){return(n=e,new ck(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function qN(e){var t=ck.fromString(e);return YS(lA(t)),t}function VN(e,t){return jN(e.databaseId,t.path)}function BN(e,t){var n=qN(t);if(n.get(1)!==e.databaseId.projectId)throw new BS(VS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new BS(VS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ik(HN(n))}function zN(e,t){return jN(e.databaseId,t)}function KN(e){var t=qN(e);return 4===t.length?ck.emptyPath():HN(t)}function WN(e){return new ck(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function HN(e){return YS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function GN(e,t,n){return{name:VN(e,t),fields:n.value.mapValue.fields}}function QN(e,t,n){var r=BN(e,t.name),i=UN(t.updateTime),o=new jk({mapValue:{fields:t.fields}}),a=Vk.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $N(e,t){var n,r,i;if(t instanceof YC)n={update:GN(e,t.key,t.value)};else if(t instanceof rN)n={delete:VN(e,t.key)};else if(t instanceof XC)n={update:GN(e,t.key,t.data),updateMask:cA(t.fieldMask)};else{if(!(t instanceof iN))return $S();n={verify:VN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof RC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof DC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof LC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof FC)return{fieldPath:t.field.canonicalString(),increment:n.A};throw $S()}(0,e)}))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:FN(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$S())),n}function YN(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?BC.updateTime(UN(n.updateTime)):void 0!==n.exists?BC.exists(n.exists):BC.none():BC.none(),i=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)YS("REQUEST_TIME"===t.setToServerValue),n=new RC;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new DC(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new LC(i)}else"increment"in t?n=new FC(e,t.increment):$S();var o=hk.fromServerFormat(t.fieldPath);return new qC(o,n)}(e,t)})):[];if(t.update){t.update.name;var o=BN(e,t.update.name),a=new jk({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new fk(t.map((function(e){return hk.fromServerFormat(e)})))}(t.updateMask);return new XC(o,a,s,r,i)}return new YC(o,a,r,i)}if(t.delete){var u=BN(e,t.delete);return new rN(u,r)}if(t.verify){var c=BN(e,t.verify);return new iN(c,r)}return $S()}function XN(e,t){return{documents:[zN(e,t.path)]}}function JN(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zN(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zN(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Mk(e.value))return{unaryFilter:{field:oA(e.field),op:"IS_NAN"}};if(Lk(e.value))return{unaryFilter:{field:oA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mk(e.value))return{unaryFilter:{field:oA(e.field),op:"IS_NOT_NAN"}};if(Lk(e.value))return{unaryFilter:{field:oA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oA(e.field),op:iA(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:oA((t=e).field),direction:rA(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s,u=(a=e,s=t.limit,a.I||_k(s)?s:{value:s});return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=tA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tA(t.endAt)),n}function ZN(e){var t=KN(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){YS(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=eA(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return new iC(aA((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u,c,l=null;n.limit&&(u=n.limit,l=_k(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=nA(n.startAt));var f=null;return n.endAt&&(f=nA(n.endAt)),cC(t,i,s,a,l,"F",h,f)}function eA(e){return e?void 0!==e.unaryFilter?[uA(e)]:void 0!==e.fieldFilter?[sA(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return eA(e)})).reduce((function(e,t){return e.concat(t)})):$S():[]}function tA(e){return{before:e.before,values:e.position}}function nA(e){var t=!!e.before,n=e.values||[];return new nC(n,t)}function rA(e){return RN[e]}function iA(e){return DN[e]}function oA(e){return{fieldPath:e.canonicalString()}}function aA(e){return hk.fromServerFormat(e.fieldPath)}function sA(e){return Gk.create(aA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return $S()}}(e.fieldFilter.op),e.fieldFilter.value)}function uA(e){switch(e.unaryFilter.op){case"IS_NAN":var t=aA(e.unaryFilter.field);return Gk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=aA(e.unaryFilter.field);return Gk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=aA(e.unaryFilter.field);return Gk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=aA(e.unaryFilter.field);return Gk.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return $S()}}function cA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dA(t)),t=fA(e.get(n),t);return dA(t)}function fA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function dA(e){return e+""}function pA(e){var t=e.length;if(YS(t>=2),2===t)return YS(""===e.charAt(0)&&""===e.charAt(1)),ck.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&$S(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:$S()}o=a+2}return new ck(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vA=function(e,t){this.seconds=e,this.nanoseconds=t},gA=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};gA.store="owner",gA.key="owner";var mA=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};mA.store="mutationQueues",mA.keyPath="userId";var yA=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};yA.store="mutations",yA.keyPath="batchId",yA.userMutationsIndex="userMutationsIndex",yA.userMutationsKeyPath=["userId","batchId"];var bA=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,hA(t)]},e.key=function(e,t,n){return[e,hA(t),n]},e}();bA.store="documentMutations",bA.PLACEHOLDER=new bA;var wA=function(e,t){this.path=e,this.readTime=t},_A=function(e,t){this.path=e,this.version=t},TA=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};TA.store="remoteDocuments",TA.readTimeIndex="readTimeIndex",TA.readTimeIndexPath="readTime",TA.collectionReadTimeIndex="collectionReadTimeIndex",TA.collectionReadTimeIndexPath=["parentPath","readTime"];var EA=function(e){this.byteSize=e};EA.store="remoteDocumentGlobal",EA.key="remoteDocumentGlobalKey";var IA=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};IA.store="targets",IA.keyPath="targetId",IA.queryTargetsIndexName="queryTargetsIndex",IA.queryTargetsKeyPath=["canonicalId","targetId"];var SA=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};SA.store="targetDocuments",SA.keyPath=["targetId","path"],SA.documentTargetsIndex="documentTargetsIndex",SA.documentTargetsKeyPath=["path","targetId"];var kA=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kA.key="targetGlobalKey",kA.store="targetGlobal";var CA=function(e,t){this.collectionId=e,this.parent=t};CA.store="collectionParents",CA.keyPath=["collectionId","parent"];var NA=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};NA.store="clientMetadata",NA.keyPath="clientId";var AA=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};AA.store="bundles",AA.keyPath="bundleId";var PA=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};PA.store="namedQueries",PA.keyPath="name";var xA=Mh(Mh([],Mh(Mh([],Mh(Mh([],Mh(Mh([],[mA.store,yA.store,bA.store,TA.store,IA.store,gA.store,kA.store,SA.store]),[NA.store])),[EA.store])),[CA.store])),[AA.store,PA.store]),RA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",DA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),OA=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},LA=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&$S(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),MA=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new OA,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new jA(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=KA(t.target.error);n.ft.reject(new jA(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new jA(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(WS("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new VA(t)},e}(),FA=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Yh())&&HS("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return WS("SimpleDb","Removing database:",e),BA(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Yh(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Rh(this,void 0,void 0,(function(){var t,n=this;return Dh(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(WS("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new jA(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new BS(VS.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new jA(e,n))},i.onupgradeneeded=function(e){WS("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){WS("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o,a,s,u;return Dh(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Dh(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=MA.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),LA.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,WS("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),UA=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return BA(this.Pt.delete())},e}(),jA=function(e){function t(t,n){var r=this;return(r=e.call(this,VS.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Ph(t,e),t}(BS);function qA(e){return"IndexedDbTransactionError"===e.name}var VA=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(WS("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(WS("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),BA(n)},e.prototype.add=function(e){return WS("SimpleDb","ADD",this.store.name,e,e),BA(this.store.add(e))},e.prototype.get=function(e){var t=this;return BA(this.store.get(e)).next((function(n){return void 0===n&&(n=null),WS("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return WS("SimpleDb","DELETE",this.store.name,e),BA(this.store.delete(e))},e.prototype.count=function(){return WS("SimpleDb","COUNT",this.store.name),BA(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){WS("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new LA((function(n,r){t.onerror=function(e){var t=KA(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new LA((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new UA(i),a=t(i.primaryKey,i.value,o);if(a instanceof LA){var s=a.catch((function(e){return o.done(),LA.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return LA.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function BA(e){return new LA((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=KA(e.target.error);n(t)}}))}var zA=!1;function KA(e){var t=FA._t(Yh());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new BS("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zA||(zA=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WA=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Ph(t,e),t}(DA);function HA(e,t){var n=XS(e);return FA.It(n.Mt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&WC(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&HC(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&HC(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ik.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wN())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&tk(this.mutations,e.mutations,(function(e,t){return QC(e,t)}))&&tk(this.baseMutations,e.baseMutations,(function(e,t){return QC(e,t)}))},e}(),QA=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){YS(t.mutations.length===r.length);for(var i=yN(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),$A=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ik.min()),void 0===o&&(o=ik.min()),void 0===a&&(a=dk.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),YA=function(e){this.Lt=e};function XA(e,t){if(t.document)return QN(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ik.fromSegments(t.noDocument.path),r=nP(t.noDocument.readTime),i=Vk.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Ik.fromSegments(t.unknownDocument.path);return r=nP(t.unknownDocument.version),Vk.newUnknownDocument(o,r)}return $S()}function JA(e,t,n){var r,i,o=ZA(n),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s={name:VN(r=e.Lt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:LN(r,i.version.toTimestamp())},u=t.hasCommittedMutations;return new TA(null,null,s,u,o,a)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=tP(t.version);return u=t.hasCommittedMutations,new TA(null,new wA(c,l),null,u,o,a)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),f=tP(t.version);return new TA(new _A(h,f),null,null,!0,o,a)}return $S()}function ZA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function eP(e){var t=new rk(e[0],e[1]);return ik.fromTimestamp(t)}function tP(e){var t=e.toTimestamp();return new vA(t.seconds,t.nanoseconds)}function nP(e){var t=new rk(e.seconds,e.nanoseconds);return ik.fromTimestamp(t)}function rP(e,t){for(var n=(t.baseMutations||[]).map((function(t){return YN(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return YN(e.Lt,t)})),s=rk.fromMillis(t.localWriteTimeMs);return new GA(t.batchId,s,n,a)}function iP(e){var t,n,r=nP(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?nP(e.lastLimboFreeSnapshotVersion):ik.min();return void 0!==e.query.documents?(YS(1===(n=e.query).documents.length),t=mC(lC(KN(n.documents[0])))):t=mC(ZN(e.query)),new $A(t,e.targetId,0,e.lastListenSequenceNumber,r,i,dk.fromBase64String(e.resumeToken))}function oP(e,t){var n,r=tP(t.snapshotVersion),i=tP(t.lastLimboFreeSnapshotVersion);n=Hk(t.target)?XN(e.Lt,t.target):JN(e.Lt,t.target);var o=t.resumeToken.toBase64();return new IA(t.targetId,Kk(t.target),r,o,t.sequenceNumber,i,n)}function aP(e){var t=ZN({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yC(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sP=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return uP(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:nP(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return uP(e).put({bundleId:(n=t).id,createTime:tP(UN(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return cP(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:aP(t.bundledQuery),readTime:nP(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return cP(e).put({name:(n=t).name,readTime:tP(UN(n.readTime)),bundledQuery:n.bundledQuery});var n},e}();function uP(e){return HA(e,AA.store)}function cP(e){return HA(e,PA.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lP=function(){function e(){this.Bt=new hP}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),LA.resolve()},e.prototype.getCollectionParents=function(e,t){return LA.resolve(this.Bt.getEntries(t))},e}(),hP=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hN(ck.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new hN(ck.comparator)).toArray()},e}(),fP=function(){function e(){this.qt=new hP}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:hA(i)};return dP(e).put(o)}return LA.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[nk(t),""],!1,!0);return dP(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(pA(o.parent))}return n}))},e}();function dP(e){return HA(e,CA.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vP=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e,t,n){var r=e.store(yA.store),i=e.store(bA.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){YS(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=bA.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return LA.waitFor(o).next((function(){return c}))}function mP(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $S();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vP.DEFAULT_COLLECTION_PERCENTILE=10,vP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vP.DEFAULT=new vP(41943040,vP.DEFAULT_COLLECTION_PERCENTILE,vP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vP.DISABLED=new vP(-1,0,0);var yP=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return YS(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wP(e).$t({index:yA.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=_P(e),a=wP(e);return a.add({}).next((function(s){YS("number"==typeof s);for(var u=new GA(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return $N(e.Lt,t)})),i=n.mutations.map((function(t){return $N(e.Lt,t)}));return new yA(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new hN((function(e,t){return ek(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=bA.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,bA.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),LA.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return wP(e).get(t).next((function(e){return e?(YS(e.userId===n.userId),rP(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?LA.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return wP(e).$t({index:yA.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(YS(t.batchId>=r),o=rP(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wP(e).$t({index:yA.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wP(e).Nt(yA.userMutationsIndex,n).next((function(e){return e.map((function(e){return rP(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=bA.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return _P(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=pA(u);if(s===n.userId&&t.path.isEqual(l))return wP(e).get(c).next((function(e){if(!e)throw $S();YS(e.userId===n.userId),o.push(rP(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new hN(ek),i=[];return t.forEach((function(t){var o=bA.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=_P(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=pA(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),LA.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=bA.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new hN(ek);return _P(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=pA(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(wP(e).get(t).next((function(e){if(null===e)throw $S();YS(e.userId===n.userId),r.push(rP(n.R,e))})))})),LA.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return gP(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),LA.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return LA.resolve();var r=IDBKeyRange.lowerBound(bA.prefixForUser(t.userId)),i=[];return _P(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=pA(e[1]);i.push(o)}else r.done()})).next((function(){YS(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return bP(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return TP(e).get(this.userId).next((function(e){return e||new mA(t.userId,-1,"")}))},e}();function bP(e,t,n){var r=bA.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return _P(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function wP(e){return HA(e,yA.store)}function _P(e){return HA(e,bA.store)}function TP(e){return HA(e,mA.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EP=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),IP=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new EP(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ik.fromTimestamp(new rk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return SP(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return YS(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return SP(e).$t((function(a,s){var u=iP(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return LA.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return SP(e).$t((function(e,n){var r=iP(n);t(r)}))},e.prototype.Xt=function(e){return kP(e).get(kA.key).next((function(e){return YS(null!==e),e}))},e.prototype.Zt=function(e,t){return kP(e).put(kA.key,t)},e.prototype.te=function(e,t){return SP(e).put(oP(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Kk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return SP(e).$t({range:r,index:IA.queryTargetsIndexName},(function(e,n,r){var o=iP(n);Wk(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=CP(e);return t.forEach((function(t){var a=hA(t.path);i.push(o.put(new SA(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),LA.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=CP(e);return LA.forEach(t,(function(t){var o=hA(t.path);return LA.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=CP(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=CP(e),i=wN();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=pA(e[1]),o=new Ik(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=hA(t.path),r=IDBKeyRange.bound([n],[nk(n)],!1,!0),i=0;return CP(e).$t({index:SA.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return SP(e).get(t).next((function(e){return e?iP(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){return HA(e,IA.store)}function kP(e){return HA(e,kA.store)}function CP(e){return HA(e,SA.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){if(e.code!==VS.FAILED_PRECONDITION||e.message!==RA)throw e;return WS("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ek(n,i);return 0===a?ek(r,o):a}var PP=function(){function e(e){this.ne=e,this.buffer=new hN(AP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();AP(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),xP=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;WS("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Rh(t,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return qA(t=n.sent())?(WS("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,NP(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),RP=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return LA.resolve(qS.o);var r=new PP(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(WS("LruGarbageCollector","Garbage collection skipped; disabled"),LA.resolve(pP)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(WS("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),pP):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(WS("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),KS()<=Df.DEBUG&&WS("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),LA.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),DP=function(){function e(e,t){this.db=e,this.garbageCollector=new RP(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return OP(e,n)},e.prototype.removeReference=function(e,t,n){return OP(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return OP(e,t)},e.prototype._e=function(e,t){return r=t,i=!1,TP(n=e).Ot((function(e){return bP(n,e,r).next((function(e){return e&&(i=!0),LA.resolve(!e)}))})).next((function(){return i}));var n,r,i},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),CP(e).delete([0,hA(a.path)])}))}));i.push(u)}})).next((function(){return LA.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return OP(e,t)},e.prototype.we=function(e,t){var n,r=CP(e),i=qS.o;return r.$t({index:SA.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==qS.o&&t(new Ik(pA(n)),i),i=s,n=a):i=qS.o})).next((function(){i!==qS.o&&t(new Ik(pA(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function OP(e,t){return CP(e).put((n=t,r=e.currentSequenceNumber,new SA(0,hA(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LP=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){ak(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return sk(this.inner)},e}(),MP=function(){function e(){this.changes=new LP((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ik.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Vk.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?LA.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),FP=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return qP(e).put(VP(t),n)},e.prototype.removeEntry=function(e,t){var n=qP(e),r=VP(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return qP(e).get(VP(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return qP(e).get(VP(t)).next((function(e){return{document:n.ye(t,e),size:mP(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=pN();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=pN(),i=new uN(Ik.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,mP(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return LA.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return qP(e).$t({range:r},(function(e,t,r){for(var a=Ik.fromSegments(e);o&&Ik.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=pN(),o=t.path.length+1,a={};if(n.isEqual(ik.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=ZA(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=TA.collectionReadTimeIndex}return qP(e).$t(a,(function(e,n,a){if(e.length===o){var s=XA(r.R,n);t.path.isPrefixOf(s.key.path)?TC(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new UP(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return jP(e).get(EA.key).next((function(e){return YS(!!e),e}))},e.prototype.me=function(e,t){return jP(e).put(EA.key,t)},e.prototype.ye=function(e,t){if(t){var n=XA(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ik.min()))return n}return Vk.newInvalidDocument(e)},e}(),UP=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new LP((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Ph(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new hN((function(e,t){return ek(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=JA(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=mP(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=JA(t.Ie.R,Vk.newNoDocument(o,ik.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),LA.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(MP);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(e){return HA(e,EA.store)}function qP(e){return HA(e,TA.store)}function VP(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BP=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;YS(n<r&&n>=0&&r<=11);var o=new MA("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(gA.store),function(e){e.createObjectStore(mA.store,{keyPath:mA.keyPath}),e.createObjectStore(yA.store,{keyPath:yA.keyPath,autoIncrement:!0}).createIndex(yA.userMutationsIndex,yA.userMutationsKeyPath,{unique:!0}),e.createObjectStore(bA.store)}(e),zP(e),function(e){e.createObjectStore(TA.store)}(e));var a=LA.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(SA.store),e.deleteObjectStore(IA.store),e.deleteObjectStore(kA.store)}(e),zP(e)),a=a.next((function(){return function(e){var t=e.store(kA.store),n=new kA(0,0,ik.min().toTimestamp(),0);return t.put(kA.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(yA.store).Nt().next((function(n){e.deleteObjectStore(yA.store),e.createObjectStore(yA.store,{keyPath:yA.keyPath,autoIncrement:!0}).createIndex(yA.userMutationsIndex,yA.userMutationsKeyPath,{unique:!0});var r=t.store(yA.store),i=n.map((function(e){return r.put(e)}));return LA.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(NA.store,{keyPath:NA.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(EA.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(TA.store);t.createIndex(TA.readTimeIndex,TA.readTimeIndexPath,{unique:!1}),t.createIndex(TA.collectionReadTimeIndex,TA.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(AA.store,{keyPath:AA.keyPath})}(e),function(e){e.createObjectStore(PA.store,{keyPath:PA.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(TA.store).$t((function(e,n){t+=mP(n)})).next((function(){var n=new EA(t);return e.store(EA.store).put(EA.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(mA.store),r=e.store(yA.store);return n.Nt().next((function(n){return LA.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(yA.userMutationsIndex,i).next((function(r){return LA.forEach(r,(function(r){YS(r.userId===n.userId);var i=rP(t.R,r);return gP(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(SA.store),n=e.store(TA.store);return e.store(kA.store).get(kA.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new ck(n),a=[0,hA(o)];r.push(t.get(a).next((function(n){return n?LA.resolve():(r=o,t.put(new SA(0,hA(r),e.highestListenSequenceNumber)));var r})))})).next((function(){return LA.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(CA.store,{keyPath:CA.keyPath});var n=t.store(CA.store),r=new hP,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:hA(i)})}};return t.store(TA.store).$t({Ft:!0},(function(e,t){var n=new ck(e);return i(n.popLast())})).next((function(){return t.store(bA.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=pA(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(IA.store);return n.$t((function(e,r){var i=iP(r),o=oP(t.R,i);return n.put(o)}))},e}();function zP(e){e.createObjectStore(SA.store,{keyPath:SA.keyPath}).createIndex(SA.documentTargetsIndex,SA.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(IA.store,{keyPath:IA.keyPath}).createIndex(IA.queryTargetsIndexName,IA.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(kA.store)}var KP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WP=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new BS(VS.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.referenceDelegate=new DP(this,i),this.Le=n+"main",this.R=new YA(u),this.Be=new FA(this.Le,11,new BP(this.R)),this.qe=new IP(this.referenceDelegate,this.R),this.Ut=new fP,this.Ue=(h=this.R,f=this.Ut,new FP(h,f)),this.Ke=new sP,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&HS("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new BS(VS.FAILED_PRECONDITION,KP);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new qS(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Rh(t,void 0,void 0,(function(){return Dh(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Rh(t,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Rh(t,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return GP(t).put(new NA(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(qA(t))return WS("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return WS("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return HP(e).get(gA.key).next((function(e){return LA.resolve(t.tn(e))}))},e.prototype.en=function(e){return GP(e).delete(this.clientId)},e.prototype.nn=function(){return Rh(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Dh(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=HA(e,NA.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return LA.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?LA.resolve(!0):HP(e).get(gA.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new BS(VS.FAILED_PRECONDITION,KP);return!1}}return!(!t.networkEnabled||!t.inForeground)||GP(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&WS("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Rh(this,void 0,void 0,(function(){var e=this;return Dh(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[gA.store,NA.store],(function(t){var n=new WA(t,qS.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return GP(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return yP.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;WS("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,xA,(function(o){return i=new WA(o,r.Ne?r.Ne.next():qS.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw HS("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new BS(VS.FAILED_PRECONDITION,RA);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return HP(e).get(gA.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new BS(VS.FAILED_PRECONDITION,KP)}))},e.prototype.Ze=function(e){var t=new gA(this.clientId,this.allowTabSynchronization,Date.now());return HP(e).put(gA.key,t)},e.yt=function(){return FA.yt()},e.prototype.Xe=function(e){var t=this,n=HP(e);return n.get(gA.key).next((function(e){return t.tn(e)?(WS("IndexedDbPersistence","Releasing primary lease."),n.delete(gA.key)):LA.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(HS("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!Jh()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return WS("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return HS("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){HS("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function HP(e){return HA(e,gA.store)}function GP(e){return HA(e,NA.store)}function QP(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $P=function(e,t){this.progress=e,this.wn=t},YP=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,Ik.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):vC(t)?this.In(e,t,n):this.An(e,t,n);var r},e.prototype.Tn=function(e,t){return this.mn(e,new Ik(t)).next((function(e){var t=gN();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=gN();return this.Ut.getCollectionParents(e,i).next((function(a){return LA.forEach(a,(function(a){var s,u,c=(s=t,u=a.child(i),new uC(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,c,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Vk.newInvalidDocument(c),r=r.insert(c,l)),HC(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){TC(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=wN(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof XC&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),XP=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=wN(),i=wN(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),JP=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(ik.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(i){var a=o.Cn(t,i);return(hC(t)||fC(t))&&o.Nn(t.limitType,a,r,n)?o.Dn(e,t):(KS()<=Df.DEBUG&&WS("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),_C(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new hN(EC(e));return t.forEach((function(t,r){TC(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return KS()<=Df.DEBUG&&WS("QueryEngine","Using full collection scan to execute query:",_C(t)),this.Sn.getDocumentsMatchingQuery(e,t,ik.min())},e}(),ZP=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new uN(ek),this.Fn=new LP((function(e){return Kk(e)}),Wk),this.$n=ik.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new YP(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e,t,n,r){return new ZP(e,t,n,r)}function tx(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return n=XS(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new YP(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=wN(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function nx(e,t){var n=XS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,o=t,a=h,s=o.batch,u=s.keys(),c=LA.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);YS(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)}))).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function rx(e){var t=XS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function ix(e,t){var n=XS(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);if(l){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var h=t.resumeToken;if(h.approximateByteSize()>0){var f=l.withResumeToken(h,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,f),s=l,c=t,YS((u=f).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(n.qe.updateTargetData(e,f))}}}));var s=pN();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ox(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(ik.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return LA.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function ox(e,t,n,r,i){var o=wN();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=pN();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ik.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):WS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function ax(e,t){var n=XS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function sx(e,t){var n=XS(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,LA.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new $A(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function ux(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:r=XS(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!qA(a=s.sent()))throw a;return WS("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function cx(e,t,n){var r=XS(e),i=ik.min(),o=wN();return r.persistence.runTransaction("Execute query","readonly",(function(e){return(a=r,s=e,u=mC(t),c=XS(a),l=c.Fn.get(u),void 0!==l?LA.resolve(c.kn.get(l)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ik.min(),n?o:wN())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c,l}))}function lx(e,t){var n=XS(e),r=XS(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function hx(e){var t=XS(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.On,r=e,i=t.$n,o=XS(n),a=pN(),s=ZA(i),u=qP(r),c=IDBKeyRange.lowerBound(s,!0),u.$t({index:TA.readTimeIndex,range:c},(function(e,t){var n=XA(o.R,t);a=a.insert(n.key,n),s=t.readTime})).next((function(){return{wn:a,readTime:eP(s)}}));var n,r,i,o,a,s,u,c})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function fx(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){return[2,(t=XS(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t=qP(e),n=ik.min(),t.$t({index:TA.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=eP(t.readTime)),r.done()})).next((function(){return n}));var t,n})).then((function(e){t.$n=e}))]}))}))}function dx(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Dh(this,(function(p){switch(p.label){case 0:for(i=XS(e),o=wN(),a=pN(),s=yN(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,sx(i,(v=r,mC(lC(ck.fromString("__bundle__/docs/"+v)))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ox(e,f,a,ik.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}var v}))}))}function px(e,t,n){return void 0===n&&(n=wN()),Rh(this,void 0,void 0,(function(){var r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,sx(e,mC(aP(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=XS(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=UN(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(dk.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var vx=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return LA.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:UN(n.createTime)}),LA.resolve()},e.prototype.getNamedQuery=function(e,t){return LA.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(n=t).name,query:aP(n.bundledQuery),readTime:UN(n.readTime)}),LA.resolve();var n},e}(),gx=function(){function e(){this.Wn=new hN(mx.Gn),this.zn=new hN(mx.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new mx(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new mx(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Ik(new ck([])),r=new mx(n,e),i=new mx(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Ik(new ck([])),n=new mx(t,e),r=new mx(t,e+1),i=wN();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new mx(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),mx=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Ik.comparator(e.key,t.key)||ek(e.ns,t.ns)},e.Hn=function(e,t){return ek(e.ns,t.ns)||Ik.comparator(e.key,t.key)},e}(),yx=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new hN(mx.Gn)}return e.prototype.checkEmpty=function(e){return LA.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new GA(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new mx(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return LA.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return LA.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return LA.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return LA.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return LA.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new mx(t,0),i=new mx(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),LA.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new hN(ek);return t.forEach((function(e){var t=new mx(e,0),i=new mx(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),LA.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Ik.isDocumentKey(i)||(i=i.child(""));var o=new mx(new Ik(i),0),a=new hN(ek);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),LA.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;YS(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return LA.forEach(t.mutations,(function(i){var o=new mx(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new mx(t,0),r=this.rs.firstAfterOrEqual(n);return LA.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,LA.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),bx=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new uN(Ik.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return LA.resolve(n?n.document.clone():Vk.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=pN();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Vk.newInvalidDocument(e))})),LA.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=pN(),i=new Ik(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||TC(t,c)&&(r=r.insert(c.key,c.clone()))}return LA.resolve(r)},e.prototype.fs=function(e,t){return LA.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new wx(this)},e.prototype.getSize=function(e){return LA.resolve(this.size)},e}(),wx=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Ph(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),LA.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(MP),_x=function(){function e(e){this.persistence=e,this.ds=new LP((function(e){return Kk(e)}),Wk),this.lastRemoteSnapshotVersion=ik.min(),this.highestTargetId=0,this.ws=0,this._s=new gx,this.targetCount=0,this.ys=EP.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),LA.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return LA.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return LA.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),LA.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),LA.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new EP(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,LA.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),LA.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,LA.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),LA.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return LA.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return LA.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),LA.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),LA.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),LA.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return LA.resolve(n)},e.prototype.containsKey=function(e,t){return LA.resolve(this._s.containsKey(t))},e}(),Tx=function(){function e(e,t){var n,r=this;this.gs={},this.Ne=new qS(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new _x(this),this.Ut=new lP,this.Ue=(n=this.Ut,new bx(n,(function(e){return r.referenceDelegate.ps(e)}))),this.R=new YA(t),this.Ke=new vx(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new yx(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;WS("MemoryPersistence","Starting transaction:",e);var i=new Ex(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return LA.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ex=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Ph(t,e),t}(DA),Ix=function(){function e(e){this.persistence=e,this.As=new gx,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw $S()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),LA.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),LA.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),LA.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return LA.forEach(this.vs,(function(r){var i=Ik.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return LA.or([function(){return LA.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Sx=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(e,t){return"firestore_clients_"+e+"_"+t}function Cx(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Nx(e,t){return"firestore_targets_"+e+"_"+t}Sx.UNAUTHENTICATED=new Sx(null),Sx.GOOGLE_CREDENTIALS=new Sx("google-credentials-uid"),Sx.FIRST_PARTY=new Sx("first-party-uid"),Sx.MOCK_USER=new Sx("mock-user");var Ax=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new BS(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(HS("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Px=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new BS(i.error.code,i.error.message)),o?new e(t,i.state,r):(HS("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),xx=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=TN(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ek(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(HS("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Rx=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(HS("SharedClientState","Failed to parse online state: "+t),null)},e}(),Dx=function(){function e(){this.activeTargetIds=TN()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Ox=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new uN(ek),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=kx(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Dx),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Rh(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return Dh(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(kx(this.persistenceKey,r)))&&(o=xx.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Nx(this.persistenceKey,e));if(n){var r=Px.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Nx(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return WS("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){WS("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){WS("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(WS("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void HS("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Rh(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Dh(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=qS.o;if(null!=e)try{var n=JSON.parse(e);YS("number"==typeof n),t=n}catch(r){HS("SharedClientState","Failed to read sequence number from WebStorage",r)}return t}(n.newValue))!==qS.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Ax(this.currentUser,e,t,n),i=Cx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Cx(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Nx(this.persistenceKey,e),i=new Px(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return xx.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ax.Vs(new Sx(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Px.Vs(r,t)},e.prototype.js=function(e){return Rx.Vs(e)},e.prototype.ii=function(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(WS("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=TN();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Lx=function(){function e(){this.li=new Dx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Dx,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Mx=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Fx=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){WS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){WS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Ux={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jx=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),qx=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Ph(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new jS;a.listenOnce(DS.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case RS.NO_ERROR:var t=a.getResponseJson();WS("Connection","XHR received:",JSON.stringify(t)),i(t);break;case RS.TIMEOUT:WS("Connection",'RPC "'+e+'" timed out'),o(new BS(VS.DEADLINE_EXCEEDED,"Request time out"));break;case RS.HTTP_ERROR:var n=a.getStatus();if(WS("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(VS).indexOf(c)>=0?c:VS.UNKNOWN);o(new BS(s,r.message))}else o(new BS(VS.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new BS(VS.UNAVAILABLE,"Connection failed."));break;default:$S()}}finally{WS("Connection",'RPC "'+e+'" completed.')}var u,c}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=new CS,o=wE(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new FS({})),this.ki(a.initMessageHeaders,t),Xh()||ef()||Yh().indexOf("Electron/")>=0||((n=Yh()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Yh().indexOf("MSAppHost/")>=0||Zh()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");WS("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new jx({Ei:function(e){l?WS("Connection","Not sending because WebChannel is closed:",e):(c||(WS("Connection","Opening WebChannel transport."),u.open(),c=!0),WS("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,US.EventType.OPEN,(function(){l||WS("Connection","WebChannel transport opened.")})),f(u,US.EventType.CLOSE,(function(){l||(l=!0,WS("Connection","WebChannel transport closed"),h.Vi())})),f(u,US.EventType.ERROR,(function(e){l||(l=!0,GS("Connection","WebChannel transport errored:",e),h.Vi(new BS(VS.UNAVAILABLE,"The operation could not be completed")))})),f(u,US.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];YS(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){WS("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=tN[e];if(void 0!==t)return sN(t)}(o),s=i.message;void 0===a&&(a=VS.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new BS(a,s)),u.close()}else WS("Connection","WebChannel received:",n),h.Si(n)}})),f(o,OS.STAT_EVENT,(function(e){e.stat===LS?WS("Connection","Detected buffering proxy"):e.stat===MS&&WS("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);WS("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return WS("RestConnection","Received: ",e),e}),(function(t){throw GS("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Ux[e];return this.Di+"/v1/"+t+":"+n},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return"undefined"!=typeof window?window:null}function Bx(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){return new ON(e,!0)}var Kx=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&WS("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Wx=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Kx(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===VS.RESOURCE_EXHAUSTED?(HS(t.toString()),HS("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===VS.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new BS(VS.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Rh(e,void 0,void 0,(function(){return Dh(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return WS("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(WS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Hx=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Ph(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n,r;if("targetChange"in t){t.targetChange;var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:$S(),o=t.targetChange.targetIds||[],a=function(e,t){return e.I?(YS(void 0===t||"string"==typeof t),dk.fromBase64String(t||"")):(YS(void 0===t||t instanceof Uint8Array),dk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?VS.UNKNOWN:sN(e.code);return new BS(t,e.message||"")}(u);n=new CN(i,o,a,s||null)}else if("documentChange"in t){t.documentChange,(i=t.documentChange).document,i.document.name,i.document.updateTime,o=BN(e,i.document.name),a=UN(i.document.updateTime);var u=new jk({mapValue:{fields:i.document.fields}}),c=(s=Vk.newFoundDocument(o,a,u),i.targetIds||[]),l=i.removedTargetIds||[];n=new SN(c,l,s.key,s)}else if("documentDelete"in t)t.documentDelete,(i=t.documentDelete).document,o=BN(e,i.document),a=i.readTime?UN(i.readTime):ik.min(),u=Vk.newNoDocument(o,a),s=i.removedTargetIds||[],n=new SN([],s,u.key,u);else if("documentRemove"in t)t.documentRemove,(i=t.documentRemove).document,o=BN(e,i.document),a=i.removedTargetIds||[],n=new SN([],a,o,null);else{if(!("filter"in t))return $S();t.filter;var h=t.filter;h.targetId,i=h.count||0,o=new oN(i),a=h.targetId,n=new kN(a,o)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ik.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ik.min():t.readTime?UN(t.readTime):ik.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t,n,r,i,o={};o.database=WN(this.R),o.addTarget=(t=this.R,i=(n=e).target,(r=Hk(i)?{documents:XN(t,i)}:{query:JN(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=MN(t,n.resumeToken):n.snapshotVersion.compareTo(ik.min())>0&&(r.readTime=LN(t,n.snapshotVersion.toTimestamp())),r);var a=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $S()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);a&&(o.labels=a),this.cr(o)},t.prototype.yr=function(e){var t={};t.database=WN(this.R),t.removeTarget=e,this.cr(t)},t}(Wx),Gx=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Ph(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(YS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(r=e.writeResults,i=e.commitTime,r&&r.length>0?(YS(void 0!==i),r.map((function(e){return n=i,(r=(t=e).updateTime?UN(t.updateTime):UN(n)).isEqual(ik.min())&&(r=UN(n)),new VC(r,t.transformResults||[]);var t,n,r}))):[]),n=UN(e.commitTime);return this.listener.Tr(n,t)}var r,i;return YS(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=WN(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $N(t.R,e)}))};this.cr(n)},t}(Wx),Qx=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Ph(t,e),t.prototype.br=function(){if(this.Rr)throw new BS(VS.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===VS.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new BS(VS.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===VS.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new BS(VS.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),$x=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(HS(t),this.Vr=!1):WS("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Yx=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Rh(o,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return oR(this)?(WS("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return(t=XS(e)).Or.add(4),[4,Jx(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Xx(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new $x(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:if(!oR(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Jx(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Zx(e,t){var n=XS(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),iR(n)?rR(n):wR(n).er()&&tR(n,t))}function eR(e,t){var n=XS(e),r=wR(n);n.$r.delete(t),r.er()&&nR(n,t),0===n.$r.size&&(r.er()?r.ir():oR(n)&&n.Br.set("Unknown"))}function tR(e,t){e.qr.U(t.targetId),wR(e).mr(t)}function nR(e,t){e.qr.U(t),wR(e).yr(t)}function rR(e){e.qr=new AN({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),wR(e).start(),e.Br.Sr()}function iR(e){return oR(e)&&!wR(e).tr()&&e.$r.size>0}function oR(e){return 0===XS(e).Or.size}function aR(e){e.qr=void 0}function sR(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){return e.$r.forEach((function(t,n){tR(e,t)})),[2]}))}))}function uR(e,t){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){return aR(e),iR(e)?(e.Br.Nr(t),rR(e)):e.Br.set("Unknown"),[2]}))}))}function cR(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o;return Dh(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof CN&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),WS("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,lR(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof SN?e.qr.X(t):t instanceof kN?e.qr.rt(t):e.qr.et(t),n.isEqual(ik.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,rx(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,(s=e,u=n,c=s.qr.ut(u),c.targetChanges.forEach((function(e,t){if(e.resumeToken.approximateByteSize()>0){var n=s.$r.get(t);n&&s.$r.set(t,n.withResumeToken(e.resumeToken,u))}})),c.targetMismatches.forEach((function(e){var t=s.$r.get(e);if(t){s.$r.set(e,t.withResumeToken(dk.EMPTY_BYTE_STRING,t.snapshotVersion)),nR(s,e);var n=new $A(t.target,e,1,t.sequenceNumber);tR(s,n)}})),s.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return WS("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,lR(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function lR(e,t,n){return Rh(this,void 0,void 0,(function(){var r=this;return Dh(this,(function(i){switch(i.label){case 0:if(!qA(t))throw t;return e.Or.add(1),[4,Jx(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return rx(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Rh(r,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return WS("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Xx(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function hR(e,t){return t().catch((function(n){return lR(e,n,t)}))}function fR(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:t=XS(e),n=_R(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!(oR(s=t)&&s.Fr.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,ax(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=_R(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,lR(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return dR(t)&&pR(t),[2]}var s}))}))}function dR(e){return oR(e)&&!_R(e).tr()&&e.Fr.length>0}function pR(e){_R(e).start()}function vR(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){return _R(e).Ar(),[2]}))}))}function gR(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){for(t=_R(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function mR(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i;return Dh(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=QA.from(r,t,n),[4,hR(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,fR(e)];case 2:return o.sent(),[2]}}))}))}function yR(e,t){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return t&&_R(e).pr?[4,function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return aN(r=t.code)&&r!==VS.ABORTED?(n=e.Fr.shift(),_R(e).sr(),[4,hR(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,fR(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return dR(e)&&pR(e),[2]}}))}))}function bR(e,t){return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return n=XS(e),t?(n.Or.delete(2),[4,Xx(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Jx(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function wR(e){var t,n,r,i,o=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:sR.bind(null,e),Ri:uR.bind(null,e),_r:cR.bind(null,e)},(i=XS(t)).br(),new Hx(n,i.Hi,i.credentials,i.R,r)),e.Mr.push((function(t){return Rh(o,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),iR(e)?rR(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),aR(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function _R(e){var t,n,r,i,o=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:vR.bind(null,e),Ri:yR.bind(null,e),Ir:gR.bind(null,e),Tr:mR.bind(null,e)},(i=XS(t)).br(),new Gx(n,i.Hi,i.credentials,i.R,r)),e.Mr.push((function(t){return Rh(o,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,fR(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),e.Fr.length>0&&(WS("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Kr}var TR=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new OA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new BS(VS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ER(e,t){if(HS("AsyncQueue",t+": "+e),qA(e))return new BS(VS.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IR=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ik.comparator(t.key,n.key)}:function(e,t){return Ik.comparator(e.key,t.key)},this.keyedMap=gN(),this.sortedSet=new uN(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),SR=function(){function e(){this.Qr=new uN(Ik.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):$S():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),kR=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,IR.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),CR=function(){this.Wr=void 0,this.listeners=[]},NR=function(){this.queries=new LP((function(e){return wC(e)}),bC),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Dh(this,(function(c){switch(c.label){case 0:if(n=XS(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new CR),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=ER(s,"Initialization of query '"+_C(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&DR(n),[2]}}))}))}function PR(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){return n=XS(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function xR(e,t){for(var n=XS(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&DR(n)}function RR(e,t,n){var r=XS(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function DR(e){e.Gr.forEach((function(e){e.next()}))}var OR=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new kR(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=kR.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),LR=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),MR=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return BN(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?QN(this.R,e.document,!1):Vk.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return UN(e)},e}(),FR=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=UR(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new MR(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||wN()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Rh(this,void 0,void 0,(function(){var e,t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,dx(this.localStore,new MR(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,px(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $P(Object.assign({},this.progress),e))]}}))}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jR=function(e){this.key=e},qR=function(e){this.key=e},VR=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=wN(),this.mutatedKeys=wN(),this.lo=EC(e),this.fo=new IR(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new SR,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=hC(this.query)&&i.size===this.query.limit?i.last():null,c=fC(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=TC(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),hC(this.query)||fC(this.query))for(;a.size>this.query.limit;){var l=hC(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $S()}})(n)-o(i)||r.lo(e.doc,t.doc);var n,i,o})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new kR(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new SR,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=wN(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new qR(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new jR(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=wN();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return kR.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),BR=function(e,t,n){this.query=e,this.targetId=t,this.view=n},zR=function(e){this.key=e,this.bo=!1},KR=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new LP((function(e){return wC(e)}),bC),this.Vo=new Map,this.So=new Set,this.Do=new uN(Ik.comparator),this.Co=new Map,this.No=new gx,this.xo={},this.ko=new Map,this.Fo=EP.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function WR(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return n=wD(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,sx(n.localStore,mC(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,HR(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Zx(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function HR(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,cx(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(oD(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,cx(e.localStore,t,!0)];case 1:return i=l.sent(),o=new VR(t,i.Bn),a=o._o(i.documents),s=IN.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),oD(e,n,u.To),c=new BR(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function GR(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return n=XS(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!bC(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ux(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),eR(n.remoteStore,r.targetId),rD(n,r.targetId)})).catch(NP)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return rD(n,r.targetId),[4,ux(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function QR(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:r=_D(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,c=t,h=XS(u),f=rk.now(),d=c.reduce((function(e,t){return e.add(t.key)}),wN()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return h.Mn.pn(e,d).next((function(t){l=t;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],a=GC(o,l.get(o.key));null!=a&&n.push(new XC(o.key,a,qk(a.value.mapValue),BC.exists(!0)))}return h._n.addMutationBatch(e,f,n,c)}))})).then((function(e){return e.applyToLocalDocumentSet(l),{batchId:e.batchId,changes:l}})))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new uN(ek)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,uD(r,i.changes)];case 3:return s.sent(),[4,fR(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ER(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,h,f,d}))}))}function $R(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:n=XS(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ix(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(YS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?YS(r.bo):e.removedDocuments.size>0&&(YS(r.bo),r.bo=!1))})),[4,uD(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,NP(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function YR(e,t,n){var r=XS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=XS(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&DR(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function XR(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Dh(this,(function(c){switch(c.label){case 0:return(r=XS(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new uN(Ik.comparator)).insert(o,Vk.newNoDocument(o,ik.min())),s=wN().add(o),u=new EN(ik.min(),new Map,new hN(ek),a,s),[4,$R(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),sD(r),[3,4];case 2:return[4,ux(r.localStore,t,!1).then((function(){return rD(r,t,n)})).catch(NP)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function JR(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:n=XS(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nx(n.localStore,t)];case 2:return i=o.sent(),nD(n,r,null),tD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,uD(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,NP(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ZR(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i;return Dh(this,(function(o){switch(o.label){case 0:r=XS(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,u=XS(a),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return YS(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),nD(r,t,n),tD(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,uD(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,NP(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function eD(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:oR((n=XS(e)).remoteStore)||WS("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore,c=XS(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return c._n.getHighestUnacknowledgedBatchId(e)})))];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=ER(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}var u,c}))}))}function tD(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function nD(e,t,n){var r=XS(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function rD(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||iD(e,t)}))}function iD(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(eR(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),sD(e))}function oD(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jR?(e.No.addReference(o.key,t),aD(e,o)):o instanceof qR?(WS("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||iD(e,o.key)):$S()}}function aD(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(WS("SyncEngine","New document in limbo: "+n),e.So.add(r),sD(e))}function sD(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ik(ck.fromString(t)),r=e.Fo.next();e.Co.set(r,new zR(n)),e.Do=e.Do.insert(n,r),Zx(e.remoteStore,new $A(mC(lC(n.path)),r,2,qS.o))}}function uD(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return r=XS(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=XP.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Dh(this,(function(h){switch(h.label){case 0:n=XS(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return LA.forEach(t,(function(t){return LA.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return LA.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!qA(r=h.sent()))throw r;return WS("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function cD(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return(n=XS(e)).currentUser.isEqual(t)?[3,3]:(WS("SyncEngine","User change. New user:",t.toKey()),[4,tx(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).ko.forEach((function(e){e.forEach((function(e){e.reject(new BS(VS.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.ko.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,uD(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function lD(e,t){var n=XS(e),r=n.Co.get(t);if(r&&r.bo)return wN().add(r.key);var i=wN(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function hD(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,cx((n=XS(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&oD(n,t.targetId,i.To),i)]}}))}))}function fD(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){return[2,hx((t=XS(e)).localStore).then((function(e){return uD(t,e)}))]}))}))}function dD(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o;return Dh(this,(function(a){switch(a.label){case 0:return[4,(s=(i=XS(e)).localStore,u=t,c=XS(s),l=XS(c._n),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):LA.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,fR(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(nD(i,t,r||null),tD(i,t),function(e,t){XS(XS(e)._n).Gt(t)}(i.localStore,t)):$S(),a.label=4;case 4:return[4,uD(i,o)];case 5:return a.sent(),[3,7];case 6:WS("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function pD(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:return wD(n=XS(e)),_D(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vD(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,bR(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Zx(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return rD(n,t),ux(n.localStore,t,!0)})),eR(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,vD(n,u)];case 5:return l.sent(),(h=XS(n)).Co.forEach((function(e,t){eR(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new uN(Ik.comparator),n.$o=!1,[4,bR(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function vD(e,t,n){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,v;return Dh(this,(function(g){switch(g.label){case 0:n=XS(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,sx(n.localStore,mC(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,hD(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,lx(n.localStore,s)];case 8:return v=g.sent(),[4,sx(n.localStore,v)];case 9:return u=g.sent(),[4,HR(n,gD(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function gD(e){return cC(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mD(e){var t=XS(e);return XS(XS(t.localStore).persistence).fn()}function yD(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return(i=XS(e)).$o?(WS("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,hx(i.localStore)];case 3:return o=s.sent(),a=EN.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,uD(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ux(i.localStore,t,!0)];case 6:return s.sent(),rD(i,t,r),[3,8];case 7:$S(),s.label=8;case 8:return[2]}}))}))}function bD(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Dh(this,(function(d){switch(d.label){case 0:if(!(r=wD(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(WS("SyncEngine","Adding an already active target "+a),[3,5]):[4,lx(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,sx(r.localStore,s)];case 3:return u=d.sent(),[4,HR(r,gD(s),u.targetId,!1)];case 4:d.sent(),Zx(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Dh(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,ux(r.localStore,e,!1).then((function(){eR(r.remoteStore,e),rD(r,e)})).catch(NP)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function wD(e){var t=XS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$R.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XR.bind(null,t),t.vo._r=xR.bind(null,t.eventManager),t.vo.Mo=RR.bind(null,t.eventManager),t}function _D(e){var t=XS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,t),t}function TD(e,t,n){var r=XS(e);(function(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Dh(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,(l=e.localStore,h=r,f=XS(l),d=UN(h.createTime),f.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return f.Ke.getBundleMetadata(e,h.id)})).then((function(e){return!!e&&e.createTime.compareTo(d)>=0})))];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(UR(r)),i=new FR(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,uD(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=XS(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return GS("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}var l,h,f,d}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var ED=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return this.R=zx(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return ex(this.persistence,new JP,e.initialUser,this.R)},e.prototype.qo=function(e){return new Tx(Ix.bs,this.R)},e.prototype.Bo=function(e){return new Lx},e.prototype.terminate=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),ID=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Ph(t,e),t.prototype.initialize=function(t){return Rh(this,void 0,void 0,(function(){var n=this;return Dh(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,fx(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,_D(this.Qo.syncEngine)];case 4:return r.sent(),[4,fR(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return ex(this.persistence,new JP,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new xP(t,e.asyncQueue)},t.prototype.qo=function(e){var t=QP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vP.withCacheSize(this.cacheSizeBytes):vP.DEFAULT;return new WP(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vx(),Bx(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Lx},t}(ED),SD=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Ph(t,e),t.prototype.initialize=function(t){return Rh(this,void 0,void 0,(function(){var n,r=this;return Dh(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Ox?(this.sharedClientState.syncEngine={ui:dD.bind(null,n),ai:yD.bind(null,n),hi:bD.bind(null,n),fn:mD.bind(null,n),ci:fD.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Rh(r,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return[4,pD(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Vx();if(!Ox.yt(t))throw new BS(VS.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ox(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(ID),kD=function(){function e(){}return e.prototype.initialize=function(e,t){return Rh(this,void 0,void 0,(function(){var n=this;return Dh(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return YR(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cD.bind(null,this.syncEngine),[4,bR(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new NR},e.prototype.createDatastore=function(e){var t,n,r=zx(e.databaseInfo.databaseId),i=(t=e.databaseInfo,new qx(t));return n=e.credentials,new Qx(n,i,r)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return YR(a.syncEngine,e,0)},o=Fx.yt()?new Fx:new Mx,new Yx(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new KR(n,r,i,o,a,s),u&&(c.$o=!0),c;var n,r,i,o,a,s,u,c},e.prototype.terminate=function(){return function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=XS(e),WS("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Jx(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Rh(this,void 0,void 0,(function(){var r;return Dh(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ND=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),AD=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new OA,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Rh(this,void 0,void 0,(function(){var e,t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new LR(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Rh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Rh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),PD=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Rh(this,void 0,void 0,(function(){var t,n=this;return Dh(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new BS(VS.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return n=XS(e),r=WN(n.R)+"/documents",i={documents:t.map((function(e){return VN(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t,r,i=(t=n.R,"found"in(r=e)?function(e,t){YS(!!t.found),t.found.name,t.found.updateTime;var n=BN(e,t.found.name),r=UN(t.found.updateTime),i=new jk({mapValue:{fields:t.found.fields}});return Vk.newFoundDocument(n,r,i)}(t,r):"missing"in r?function(e,t){YS(!!t.missing),YS(!!t.readTime);var n=BN(e,t.missing),r=UN(t.readTime);return Vk.newNoDocument(n,r)}(t,r):$S());a.set(i.key.toString(),i)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());YS(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new rN(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Rh(this,void 0,void 0,(function(){var e,t=this;return Dh(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Ik.fromPath(n);t.mutations.push(new iN(r,t.precondition(r)))})),[4,function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return n=XS(e),r=WN(n.R)+"/documents",i={writes:t.map((function(e){return $N(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $S();t=ik.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new BS(VS.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?BC.updateTime(t):BC.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ik.min()))throw new BS(VS.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return BC.updateTime(t)}return BC.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),xD=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Kx(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Rh(e,void 0,void 0,(function(){var e,t,n=this;return Dh(this,(function(r){return e=new PD(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!_k(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!aN(t)}return!1},e}(),RD=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Sx.UNAUTHENTICATED,this.clientId=ZS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Rh(r,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return WS("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new BS(VS.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new OA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Rh(e,void 0,void 0,(function(){var e,n;return Dh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=ER(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i=this;return Dh(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),WS("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Rh(i,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,tx(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function OD(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,LD(e)];case 1:return n=i.sent(),WS("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return(n=XS(e)).asyncQueue.verifyOperationInProgress(),WS("RemoteStore","RemoteStore received new credentials"),r=oR(n),n.Or.add(3),[4,Jx(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Xx(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function LD(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(WS("FirestoreClient","Using default OfflineComponentProvider"),[4,DD(e,new ED)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function MD(e){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(WS("FirestoreClient","Using default OnlineComponentProvider"),[4,OD(e,new kD)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function FD(e){return LD(e).then((function(e){return e.persistence}))}function UD(e){return LD(e).then((function(e){return e.localStore}))}function jD(e){return MD(e).then((function(e){return e.remoteStore}))}function qD(e){return MD(e).then((function(e){return e.syncEngine}))}function VD(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,MD(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=WR.bind(null,t.syncEngine),n.onUnlisten=GR.bind(null,t.syncEngine),n)]}}))}))}function BD(e,t,n){var r=this;void 0===n&&(n={});var i=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(r,void 0,void 0,(function(){var r;return Dh(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ND({next:function(o){t.enqueueAndForget((function(){return PR(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new BS(VS.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new BS(VS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new OR(lC(n.path),o,{includeMetadataChanges:!0,so:!0});return AR(e,a)},[4,VD(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function zD(e,t,n){var r=this;void 0===n&&(n={});var i=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(r,void 0,void 0,(function(){var r;return Dh(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ND({next:function(n){t.enqueueAndForget((function(){return PR(e,a)})),n.fromCache&&"server"===r.source?i.reject(new BS(VS.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new OR(n,o,{includeMetadataChanges:!0,so:!0});return AR(e,a)},[4,VD(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var KD=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},WD=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),HD=new Map,GD=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},QD=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Sx.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),$D=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),YD=function(){function e(e){var t=this;this.currentUser=Sx.UNAUTHENTICATED,this.oc=new OA,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){WS("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(WS("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(WS("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(YS("string"==typeof n.accessToken),new GD(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Rh(n,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return YS(null===e||"string"==typeof e),new Sx(e)},e}(),XD=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Sx.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),JD=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new XD(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Sx.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e,t,n){if(!n)throw new BS(VS.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function eO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new BS(VS.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function tO(e,t,n,r){if(!0===t&&!0===r)throw new BS(VS.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function nO(e){if(!Ik.isDocumentKey(e))throw new BS(VS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function rO(e){if(Ik.isDocumentKey(e))throw new BS(VS.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function iO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":$S()}function oO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new BS(VS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iO(e);throw new BS(VS.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function aO(e,t){if(t<=0)throw new BS(VS.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sO=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new BS(VS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new BS(VS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),uO=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sO({}),this._settingsFrozen=!1,e instanceof WD?(this._databaseId=e,this._credentials=new QD):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new BS(VS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WD(e.options.projectId)}(e),this._credentials=new YD(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new BS(VS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new BS(VS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sO(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new QD;switch(e.type){case"gapi":var t=e.client;return YS(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new JD(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new BS(VS.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=HD.get(this))&&(WS("ComponentProvider","Removing Datastore"),HD.delete(this),e.terminate()),Promise.resolve();var e},e}(),cO=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hO(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),lO=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),hO=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,lC(r))||this)._path=r,i.type="collection",i}return Ph(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new cO(this.firestore,null,new Ik(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(lO);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Cf(e),ZD("collection","path",t),e instanceof uO)return rO(n=ck.fromString.apply(ck,Mh([t],r))),new hO(e,null,n);if(!(e instanceof cO||e instanceof hO))throw new BS(VS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rO(n=ck.fromString.apply(ck,Mh([e.path],r)).child(ck.fromString(t))),new hO(e.firestore,null,n)}function dO(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Cf(e),1===arguments.length&&(t=ZS.u()),ZD("doc","path",t),e instanceof uO)return nO(n=ck.fromString.apply(ck,Mh([t],r))),new cO(e,null,new Ik(n));if(!(e instanceof cO||e instanceof hO))throw new BS(VS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nO(n=e._path.child(ck.fromString.apply(ck,Mh([t],r)))),new cO(e.firestore,e instanceof hO?e.converter:null,new Ik(n))}function pO(e,t){return e=Cf(e),t=Cf(t),(e instanceof cO||e instanceof hO)&&(t instanceof cO||t instanceof hO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vO(e,t){return e=Cf(e),t=Cf(t),e instanceof lO&&t instanceof lO&&e.firestore===t.firestore&&bC(e._query,t._query)&&e.converter===t.converter}var gO=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Kx(this,"async_queue_retry"),this.Ic=function(){var t=Bx();t&&WS("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Bx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Bx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new OA;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Rh(this,void 0,void 0,(function(){var e,t=this;return Dh(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!qA(e=n.sent()))throw e;return WS("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,HS("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=TR.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&$S()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function mO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var yO=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new OA,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),bO=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new gO,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Ph(t,e),t.prototype._terminate=function(){return this._firestoreClient||_O(this),this._firestoreClient.terminate()},t}(uO);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(e){return e._firestoreClient||_O(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _O(e){var t,n,r,i,o,a=e._freezeSettings(),s=(n=e._databaseId,r=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",i=e._persistenceKey,new KD(n,r,i,(o=a).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new RD(e._credentials,e._queue,s)}function TO(e,t,n){var r=this,i=new OA;return e.asyncQueue.enqueue((function(){return Rh(r,void 0,void 0,(function(){var r;return Dh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,DD(e,n)];case 1:return o.sent(),[4,OD(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===VS.FAILED_PRECONDITION||a.code===VS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function EO(e){if(e._initialized||e._terminated)throw new BS(VS.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IO=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new BS(VS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hk(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),SO=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(dk.fromBase64String(t))}catch(n){throw new BS(VS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(dk.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),kO=function(e){this._methodName=e},CO=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new BS(VS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new BS(VS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ek(this._lat,e._lat)||ek(this._long,e._long)},e}(),NO=/^__.*__$/,AO=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new XC(e,this.data,this.fieldMask,t,this.fieldTransforms):new YC(e,this.data,t,this.fieldTransforms)},e}(),PO=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new XC(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $S()}}var RO=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return JO(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(xO(this.Nc)&&NO.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),DO=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||zx(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new RO({Nc:e,methodName:t,qc:n,path:hk.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function OO(e){var t=e._freezeSettings(),n=zx(e._databaseId);return new DO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LO(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);QO("Data must be an object, but it was:",a,r);var s,u,c=HO(r,a);if(o.merge)s=new fk(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=$O(t,f[h],n);if(!a.contains(d))throw new BS(VS.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ZO(l,d)||l.push(d)}s=new fk(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new AO(new jk(c),s,u)}var MO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(kO);function FO(e,t,n){return new RO({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var UO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype._toFieldTransform=function(e){return new qC(e.path,new RC)},t.prototype.isEqual=function(e){return e instanceof t},t}(kO),jO=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Ph(t,e),t.prototype._toFieldTransform=function(e){var t=FO(this,e,!0),n=this.Kc.map((function(e){return WO(e,t)})),r=new DC(n);return new qC(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(kO),qO=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Ph(t,e),t.prototype._toFieldTransform=function(e){var t=FO(this,e,!0),n=this.Kc.map((function(e){return WO(e,t)})),r=new LC(n);return new qC(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(kO),VO=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Ph(t,e),t.prototype._toFieldTransform=function(e){var t=new FC(e.R,CC(e.R,this.Qc));return new qC(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(kO);function BO(e,t,n,r){var i=e.Uc(1,t,n);QO("Data must be an object, but it was:",i,r);var o=[],a=jk.empty();ak(r,(function(e,r){var s=XO(t,e,n);r=Cf(r);var u=i.Oc(s);if(r instanceof MO)o.push(s);else{var c=WO(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new fk(o);return new PO(a,s,i.fieldTransforms)}function zO(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[$O(t,r,n)],u=[i];if(o.length%2!=0)throw new BS(VS.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push($O(t,o[c])),u.push(o[c+1]);for(var l=[],h=jk.empty(),f=s.length-1;f>=0;--f)if(!ZO(l,s[f])){var d=s[f],p=u[f];p=Cf(p);var v=a.Oc(d);if(p instanceof MO)l.push(d);else{var g=WO(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new fk(l);return new PO(h,m,a.fieldTransforms)}function KO(e,t,n,r){return void 0===r&&(r=!1),WO(n,e.Uc(r?4:3,t))}function WO(e,t){if(GO(e=Cf(e)))return QO("Unsupported field value:",t,e),HO(e,t);if(e instanceof kO)return function(e,t){if(!xO(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=WO(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Cf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return CC(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rk.fromDate(e);return{timestampValue:LN(t.R,n)}}if(e instanceof rk)return n=new rk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:LN(t.R,n)};if(e instanceof CO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SO)return{bytesValue:MN(t.R,e._byteString)};if(e instanceof cO){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jN(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+iO(e))}(e,t)}function HO(e,t){var n={};return sk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ak(e,(function(e,r){var i=WO(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rk||e instanceof CO||e instanceof SO||e instanceof cO||e instanceof kO)}function QO(e,t,n){if(!GO(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=iO(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}var i}function $O(e,t,n){if((t=Cf(t))instanceof IO)return t._internalPath;if("string"==typeof t)return XO(e,t);throw JO("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var YO=new RegExp("[~\\*/\\[\\]]");function XO(e,t,n){if(t.search(YO)>=0)throw JO("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(IO.bind.apply(IO,Mh([void 0],t.split(".")))))._internalPath}catch(nM){throw JO("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function JO(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new BS(VS.INVALID_ARGUMENT,(s+=". ")+e+u)}function ZO(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eL=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new cO(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new tL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(nL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),tL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(eL);function nL(e,t){return"string"==typeof t?XO(e,t):t instanceof IO?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),iL=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Ph(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new oL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(nL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(eL),oL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(iL),aL=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rL(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oL(n._firestore,n._userDataWriter,r.key,r,new rL(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new BS(VS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new oL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sL(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function sL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $S()}}function uL(e,t){return e instanceof iL&&t instanceof iL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aL&&t instanceof aL&&e._firestore===t._firestore&&vO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(e){if(fC(e)&&0===e.explicitOrderBy.length)throw new BS(VS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lL=function(){};function hL(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var fL=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Ph(t,e),t.prototype._apply=function(e){var t,n,r,i=OO(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new BS(VS.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){bL(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(yL(r,e,h))}s={arrayValue:{values:u}}}else s=yL(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bL(a,o),s=KO(n,"where",a,"in"===o||"not-in"===o);var f=Gk.create(i,o,s);return function(e,t){if(t.g()){var n=pC(e);if(null!==n&&!n.isEqual(t.field))throw new BS(VS.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=dC(e);null!==r&&wL(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new BS(VS.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new BS(VS.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,i,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new lO(e.firestore,e.converter,(t=e._query,n=o,r=t.filters.concat([n]),new uC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))},t}(lL),dL=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Ph(t,e),t.prototype._apply=function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new BS(VS.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new BS(VS.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new iC(t,n);return function(e,t){if(null===dC(e)){var n=pC(e);null!==n&&wL(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new lO(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new uC(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(lL),pL=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Ph(t,e),t.prototype._apply=function(e){return new lO(e.firestore,e.converter,yC(e._query,this.Hc,this.Jc))},t}(lL),vL=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Ph(t,e),t.prototype._apply=function(e){var t,n,r=mL(e,this.type,this.Yc,this.Xc);return new lO(e.firestore,e.converter,(t=e._query,n=r,new uC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))},t}(lL),gL=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Ph(t,e),t.prototype._apply=function(e){var t,n,r=mL(e,this.type,this.Yc,this.Xc);return new lO(e.firestore,e.converter,(t=e._query,n=r,new uC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))},t}(lL);function mL(e,t,n,r){if(n[0]=Cf(n[0]),n[0]instanceof eL)return function(e,t,n,r,i){if(!r)throw new BS(VS.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=gC(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Rk(t,r.key));else{var c=r.data.field(u.field);if(yk(c))throw new BS(VS.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new BS(VS.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new nC(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=OO(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new BS(VS.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new BS(VS.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!vC(e)&&-1!==c.indexOf("/"))throw new BS(VS.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(ck.fromString(c));if(!Ik.isDocumentKey(l))throw new BS(VS.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ik(l);s.push(Rk(t,h))}else{var f=KO(n,r,c);s.push(f)}}return new nC(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function yL(e,t,n){if("string"==typeof(n=Cf(n))){if(""===n)throw new BS(VS.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vC(t)&&-1!==n.indexOf("/"))throw new BS(VS.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ck.fromString(n));if(!Ik.isDocumentKey(r))throw new BS(VS.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Rk(e,new Ik(r))}if(n instanceof cO)return Rk(e,n._key);throw new BS(VS.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+iO(n)+".")}function bL(e,t){if(!Array.isArray(e)||0===e.length)throw new BS(VS.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new BS(VS.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function wL(e,t,n){if(!n.isEqual(t))throw new BS(VS.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _L=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Sk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $S()}},e.prototype.convertObject=function(e,t){var n=this,r={};return ak(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new CO(gk(e.latitude),gk(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=bk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wk(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=vk(e);return new rk(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=ck.fromString(e);YS(lA(n));var r=new WD(n.get(1),n.get(3)),i=new Ik(n.popFirst(5));return r.isEqual(t)||HS("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var EL=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ph(t,e),t.prototype.convertBytes=function(e){return new SO(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cO(this.firestore,null,t)},t}(_L),IL=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=OO(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=SL(e,this._firestore),i=TL(r.converter,t,n),o=LO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,BC.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=SL(e,this._firestore);return o="string"==typeof(t=Cf(t))||t instanceof IO?zO(this._dataReader,"WriteBatch.update",a._key,t,n,r):BO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,BC.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=SL(e,this._firestore);return this._mutations=this._mutations.concat(new rN(t._key,BC.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new BS(VS.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(e,t){if((e=Cf(e)).firestore!==t)throw new BS(VS.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kL=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ph(t,e),t.prototype.convertBytes=function(e){return new SO(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cO(this.firestore,null,t)},t}(_L);function CL(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=oO(e,cO);var o=oO(e.firestore,bO),a=OO(o);return AL(o,[("string"==typeof(t=Cf(t))||t instanceof IO?zO(a,"updateDoc",e._key,t,n,r):BO(a,"updateDoc",e._key,t)).toMutation(e._key,BC.exists(!0))])}function NL(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Cf(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||mO(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(mO(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof cO)c=oO(e.firestore,bO),l=lC(e._key.path),u={next:function(t){i[s]&&i[s](PL(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=oO(e,lO);c=oO(d.firestore,bO),l=d._query;var p=new kL(c);u={next:function(e){i[s]&&i[s](new aL(c,p,d,e))},error:i[s+1],complete:i[s+2]},cL(e._query)}return function(e,t,n,r){var i=this,o=new ND(r),a=new OR(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Rh(i,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=AR,[4,VD(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Rh(i,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=PR,[4,VD(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(wO(c),l,h,u)}function AL(e,t){return function(e,t){var n=this,r=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(n,void 0,void 0,(function(){var n;return Dh(this,(function(i){switch(i.label){case 0:return n=QR,[4,qD(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(wO(e),t)}function PL(e,t,n){var r=n.docs.get(t._key),i=new kL(e);return new iL(e,i,t._key,r,new rL(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Ph(t,e),t.prototype.get=function(t){var n=this,r=SL(t,this._firestore),i=new kL(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new iL(n._firestore,i,r._key,e._document,new rL(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=OO(e)}return e.prototype.get=function(e){var t=this,n=SL(e,this._firestore),r=new EL(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $S();var i=e[0];if(i.isFoundDocument())return new eL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new eL(t._firestore,r,n._key,null,n.converter);throw $S()}))},e.prototype.set=function(e,t,n){var r=SL(e,this._firestore),i=TL(r.converter,t,n),o=LO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=SL(e,this._firestore);return o="string"==typeof(t=Cf(t))||t instanceof IO?zO(this._dataReader,"Transaction.update",a._key,t,n,r):BO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=SL(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){if("undefined"==typeof Uint8Array)throw new BS(VS.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function DL(){if("undefined"==typeof atob)throw new BS(VS.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var OL=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return DL(),new e(SO.fromBase64String(t))},e.fromUint8Array=function(t){return RL(),new e(SO.fromUint8Array(t))},e.prototype.toBase64=function(){return DL(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return RL(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),LL=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){EO(e=oO(e,bO));var n=wO(e),r=e._freezeSettings(),i=new kD;return TO(n,i,new ID(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){EO(e=oO(e,bO));var t=wO(e),n=e._freezeSettings(),r=new kD;return TO(t,r,new SD(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new BS(VS.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new OA;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Rh(t,void 0,void 0,(function(){var t;return Dh(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return FA.yt()?(t=e+"main",[4,FA.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(QP(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ML=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof WD||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||GS("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=oO(e,uO))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&GS("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Sx.MOCK_USER;else{a=$h(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new BS(VS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Sx(u)}e._credentials=new $D(new GD(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Rh(t,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,FD(e)];case 1:return t=r.sent(),[4,jD(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),i=n,o=XS(i),o.Or.delete(0),Xx(o))]}var i,o}))}))}))}(wO(oO(this._delegate,bO)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Rh(t,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,FD(e)];case 1:return t=r.sent(),[4,jD(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return(t=XS(e)).Or.add(0),[4,Jx(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(wO(oO(this._delegate,bO)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&tO("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(t,void 0,void 0,(function(){var t;return Dh(this,(function(r){switch(r.label){case 0:return t=eD,[4,qD(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(wO(oO(this._delegate,bO)))},e.prototype.onSnapshotsInSync=function(e){return t=this._delegate,n=e,function(e,t){var n=this,r=new ND(t);return e.asyncQueue.enqueueAndForget((function(){return Rh(n,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=function(e,t){XS(e).Gr.add(t),t.next()},[4,VD(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Rh(n,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=function(e,t){XS(e).Gr.delete(t)},[4,VD(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(wO(t=oO(t,bO)),mO(n)?n:{next:n});var t,n},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new BS(VS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new YL(this,fO(this._delegate,e))}catch(t){throw BL(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new VL(this,dO(this._delegate,e))}catch(t){throw BL(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new GL(this,function(e,t){if(e=oO(e,uO),ZD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new BS(VS.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lO(e,null,(n=t,new uC(ck.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw BL(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(n,void 0,void 0,(function(){var n;return Dh(this,(function(i){switch(i.label){case 0:return[4,(o=e,MD(o).then((function(e){return e.datastore})))];case 1:return n=i.sent(),new xD(e.asyncQueue,n,t,r).run(),[2]}var o}))}))})),r.promise}(wO(t=this._delegate),(function(r){return function(t){return e(new UL(n,t))}(new xL(t,r))}))},e.prototype.batch=function(){var e=this;return wO(this._delegate),new jL(new IL(this._delegate,(function(t){return AL(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new BS(VS.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new BS(VS.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),FL=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ph(t,e),t.prototype.convertBytes=function(e){return new OL(new SO(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return VL.eu(t,this.firestore,null)},t}(_L);var UL=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new FL(e)}return e.prototype.get=function(e){var t=this,n=XL(e);return this._delegate.get(n).then((function(e){return new WL(t._firestore,new iL(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=XL(e);return n?(eO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=XL(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Mh([a,t,n],i)),this},e.prototype.delete=function(e){var t=XL(e);return this._delegate.delete(t),this},e}(),jL=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=XL(e);return n?(eO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=XL(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Mh([a,t,n],i)),this},e.prototype.delete=function(e){var t=XL(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),qL=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new oL(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HL(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new FL(t),n),i.set(n,o)),o},e}();qL.su=new WeakMap;var VL=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new FL(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new BS(VS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new cO(n._delegate,r,new Ik(t)))},e.eu=function(t,n,r){return new e(n,new cO(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new YL(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new YL(this.firestore,fO(this._delegate,e))}catch(t){throw BL(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Cf(e))instanceof cO&&pO(this._delegate,e)},e.prototype.set=function(e,t){t=eO("DocumentReference.set",t);try{return function(e,t,n){e=oO(e,cO);var r=oO(e.firestore,bO),i=TL(e.converter,t,n);return AL(r,[LO(OO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,BC.none())])}(this._delegate,e,t)}catch(n){throw BL(n,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?CL(this._delegate,e):CL.apply(void 0,Mh([this._delegate,e,t],n))}catch(i){throw BL(i,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return AL(oO((e=this._delegate).firestore,bO),[new rN(e._key,BC.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zL(t),i=KL(t,(function(t){return new WL(e.firestore,new iL(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return NL(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=oO(e,cO);var t=oO(e.firestore,bO),n=wO(t),r=new kL(t);return function(e,t){var n=this,r=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(n,void 0,void 0,(function(){var n;return Dh(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i;return Dh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,s=t,u=XS(a),u.persistence.runTransaction("read document","readonly",(function(e){return u.Mn.mn(e,s)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new BS(VS.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ER(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s,u}))}))},[4,UD(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new iL(t,r,e._key,n,new rL(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=oO(e,cO);var t=oO(e.firestore,bO);return BD(wO(t),e._key,{source:"server"}).then((function(n){return PL(t,e,n)}))}(this._delegate):function(e){e=oO(e,cO);var t=oO(e.firestore,bO);return BD(wO(t),e._key).then((function(n){return PL(t,e,n)}))}(this._delegate)).then((function(e){return new WL(t.firestore,new iL(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(qL.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function BL(e,t,n){return e.message=e.message.replace(t,n),e}function zL(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!mO(r))return r}return{}}function KL(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=mO(e[0])?e[0]:mO(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WL=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new VL(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return uL(this._delegate,e._delegate)},e}(),HL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ph(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(WL),GL=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new FL(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,hL(this._delegate,(o=r,a=i=n,s=nL("where",t),new fL(s,a,o))))}catch(i){throw BL(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,a,s},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,hL(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=nL("orderBy",e);return new dL(r,n)}(t,n)))}catch(r){throw BL(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,hL(this._delegate,(aO("limit",n=t),new pL("limit",n,"F"))))}catch(r){throw BL(r,"limit()","Query.limit()")}var n},e.prototype.limitToLast=function(t){try{return new e(this.firestore,hL(this._delegate,(aO("limitToLast",n=t),new pL("limitToLast",n,"L"))))}catch(r){throw BL(r,"limitToLast()","Query.limitToLast()")}var n},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hL(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vL("startAt",e,!0)}.apply(void 0,t)))}catch(r){throw BL(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hL(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vL("startAfter",e,!1)}.apply(void 0,t)))}catch(r){throw BL(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hL(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gL("endBefore",e,!0)}.apply(void 0,t)))}catch(r){throw BL(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hL(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gL("endAt",e,!1)}.apply(void 0,t)))}catch(r){throw BL(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return vO(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=oO(e,lO);var t=oO(e.firestore,bO),n=wO(t),r=new kL(t);return function(e,t){var n=this,r=new OA;return e.asyncQueue.enqueueAndForget((function(){return Rh(n,void 0,void 0,(function(){var n;return Dh(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,cx(e,t,!0)];case 1:return s=u.sent(),r=new VR(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=ER(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,UD(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new aL(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=oO(e,lO);var t=oO(e.firestore,bO),n=wO(t),r=new kL(t);return zD(n,e._query,{source:"server"}).then((function(n){return new aL(t,r,e,n)}))}(this._delegate):function(e){e=oO(e,lO);var t=oO(e.firestore,bO),n=wO(t),r=new kL(t);return cL(e._query),zD(n,e._query).then((function(n){return new aL(t,r,e,n)}))}(this._delegate)).then((function(e){return new $L(t.firestore,new aL(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zL(t),i=KL(t,(function(t){return new $L(e.firestore,new aL(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return NL(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(qL.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),QL=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new HL(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),$L=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new GL(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new HL(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new QL(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new HL(n._firestore,r))}))},e.prototype.isEqual=function(e){return uL(this._delegate,e._delegate)},e}(),YL=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Ph(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new VL(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new VL(this.firestore,void 0===e?dO(this._delegate):dO(this._delegate,e))}catch(t){throw BL(t,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,i,o,a=this;return(t=this._delegate,n=e,r=oO(t.firestore,bO),i=dO(t),o=TL(t.converter,n),AL(r,[LO(OO(t.firestore),"addDoc",i._key,o,null!==t.converter,{}).toMutation(i._key,BC.exists(!1))]).then((function(){return i}))).then((function(e){return new VL(a.firestore,e)}))},t.prototype.isEqual=function(e){return pO(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(qL.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(GL);function XL(e){return oO(e,cO)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JL=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(IO.bind.apply(IO,Mh([void 0],e)))}return e.documentId=function(){return new e(hk.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Cf(e))instanceof IO&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),ZL=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new UO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new MO("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new jO("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new qO("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new VO("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(e){return t=this._delegate,n=e,r=wO(t=oO(t,bO)),i=new yO,function(e,t,n,r){var i,o,a,s=this,u=(i=n,o=zx(t),a=function(e,t){if(e instanceof Uint8Array)return CD(e,t);if(e instanceof ArrayBuffer)return CD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new AD(a,o));e.asyncQueue.enqueueAndForget((function(){return Rh(s,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return t=TD,[4,qD(e)];case 1:return t.apply(void 0,[n.sent(),u,r]),[2]}}))}))}))}(r,t._databaseId,n,i),i;var t,n,r,i}function tM(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Rh(n,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=XS(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,UD(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(wO(t=oO(t,bO)),n).then((function(e){return e?new lO(t,null,e.query):null}))).then((function(e){return e?new GL(r,e):null}))}var nM,rM,iM={Firestore:ML,GeoPoint:CO,Timestamp:rk,Blob:OL,Transaction:UL,WriteBatch:jL,DocumentReference:VL,DocumentSnapshot:WL,Query:GL,QueryDocumentSnapshot:HL,QuerySnapshot:$L,CollectionReference:YL,FieldPath:JL,FieldValue:ZL,setLogLevel:function(e){var t;t=e,zS.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(nM=nd).INTERNAL.registerComponent(new Nf("firestore",(function(e){return function(e,t){return new ML(e,new bO(e,t),new LL)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},iM))),nM.registerVersion("@firebase/firestore","2.4.0"),(rM=ML).prototype.loadBundle=eM,rM.prototype.namedQuery=tM;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oM={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},aM=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Ph(t,e),t}(Error);var sM=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return Rh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var cM=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return uM(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?uM(e,(function(e){return t.decode(e)})):e},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lM=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new cM,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new sM(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(nM){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return Dh(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new aM("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([hM(c,this.postJSON(r,i,o)),l,hM(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new aM("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!oM[s])return new aM("internal","internal");r=oM[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(nM){}return"ok"===r?null:new aM(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new aM("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new aM("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function hM(e,t){return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){var n={Functions:lM};e.INTERNAL.registerComponent(new Nf("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new lM(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(nd,fetch.bind(self)),nd.registerVersion("@firebase/functions","0.6.15");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fM=function(e){function t(n,r){var i=e.call(this,dM(n),"Firebase Storage: "+r+" ("+dM(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Ph(t,e),t.prototype._codeEquals=function(e){return dM(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(af);function dM(e){return"storage/"+e}function pM(){return new fM("unknown","An unknown error occurred, please check the error payload for server response.")}function vM(){return new fM("canceled","User canceled the upload/download.")}function gM(){return new fM("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mM(e){return new fM("invalid-argument",e)}function yM(){return new fM("app-deleted","The Firebase app was deleted.")}function bM(e){return new fM("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wM(e,t){return new fM("invalid-format","String does not match format '"+e+"': "+t)}function _M(e){throw new fM("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var TM={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},EM=function(e,t){this.data=e,this.contentType=t||null};function IM(e,t){switch(e){case TM.RAW:return new EM(SM(t));case TM.BASE64:case TM.BASE64URL:return new EM(kM(e,t));case TM.DATA_URL:return new EM((n=new CM(t)).base64?kM(TM.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(nM){throw wM(TM.DATA_URL,"Malformed data URL.")}return SM(t)}(n.rest),function(e){return new CM(e).contentType}(t))}var n;throw pM()}function SM(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function kM(e,t){switch(e){case TM.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw wM(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case TM.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw wM(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(nM){throw wM(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var CM=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw wM(TM.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var NM,AM,PM={STATE_CHANGED:"state_changed"},xM={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function RM(e){switch(e){case"running":case"pausing":case"canceling":return xM.RUNNING;case"paused":return xM.PAUSED;case"success":return xM.SUCCESS;case"canceled":return xM.CANCELED;case"error":default:return xM.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(AM=NM||(NM={}))[AM.NO_ERROR=0]="NO_ERROR",AM[AM.NETWORK_ERROR=1]="NETWORK_ERROR",AM[AM.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var DM=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=NM.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=NM.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=NM.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw _M("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _M("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _M("cannot .getStatus() before sending");try{return this.xhr_.status}catch(nM){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _M("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var OM=function(){function e(){}return e.prototype.createConnection=function(){return new DM},e}(),LM=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(nM){return new e(t,"")}if(""===r.path)return r;throw new fM("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new fM("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),MM=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e){return"string"==typeof e||e instanceof String}function UM(e){return jM()&&e instanceof Blob}function jM(){return"undefined"!=typeof Blob}function qM(e,t,n,r){if(r<t)throw mM("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw mM("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function BM(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zM=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(nM){o(nM)}else null!==a?((r=pM()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?yM():vM()):o(r=new fM("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new KM(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,Mh([null,e],t));else{var i;s()||o?c.call.apply(c,Mh([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new KM(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===NM.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new KM(a,r))}else{var s=r.getErrorCode()===NM.ABORT;t(!1,new KM(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),KM=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function WM(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function HM(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=WM();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(jM())return new Blob(e);throw new fM("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var GM=function(){function e(e,t){var n=0,r="";UM(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(UM(this.data_)){var r=this.data_,i=(a=t,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new e(i)}var o,a,s;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(jM()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(HM.apply(null,r))}var i=t.map((function(e){return FM(e)?IM(TM.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(e){var t,n;try{t=JSON.parse(e)}catch(nM){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e,t){return t}var XM=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||YM},JM=null;function ZM(){if(JM)return JM;var e=[];e.push(new XM("bucket")),e.push(new XM("generation")),e.push(new XM("metageneration")),e.push(new XM("name","fullPath",!0));var t=new XM("name");t.xform=function(e,t){return function(e){return!FM(e)||e.length<2?e:$M(e)}(t)},e.push(t);var n=new XM("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new XM("timeCreated")),e.push(new XM("updated")),e.push(new XM("md5Hash",null,!0)),e.push(new XM("cacheControl",null,!0)),e.push(new XM("contentDisposition",null,!0)),e.push(new XM("contentEncoding",null,!0)),e.push(new XM("contentLanguage",null,!0)),e.push(new XM("contentType",null,!0)),e.push(new XM("metadata","customMetadata",!0)),JM=e}function eF(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new LM(n,r);return t._makeStorageReference(i)}})}(r,e),r}function tF(e,t,n){var r=QM(t);return null===r?null:eF(e,r,n)}function nF(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(e,t,n){var r=QM(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new LM(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new LM(t,l.name)),r.items.push(s)}return r}(e,t,r)}var iF=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e){if(!e)throw pM()}function aF(e,t){return function(n,r){var i=tF(e,r,t);return oF(null!==i),i}}function sF(e,t){return function(n,r){var i=tF(e,r,t);return oF(null!==i),function(e,t,n){var r=QM(t);if(null===r)return null;if(!FM(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return VM("/b/"+o(r)+"/o/"+o(i),n)+BM({alt:"media",token:t})}))[0]}(i,r,e.host)}}function uF(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new fM("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new fM("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new fM("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new fM("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function cF(e){var t=uF(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new fM("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function lF(e,t,n){var r=VM(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new iF(r,"GET",aF(e,n),i);return o.errorHandler=cF(t),o}function hF(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=VM(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new iF(a,"GET",function(e,t){return function(n,r){var i=rF(e,t,r);return oF(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=uF(t),u}function fF(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var dF=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function pF(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(nM){oF(!1)}return oF(!!n&&-1!==(t||["active"]).indexOf(n)),n}function vF(e,t,n,r,i,o,a,s){var u=new dF(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new fM("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw gM();var v=t.maxUploadRetryTime,g=new iF(n,"POST",(function(e,n){var i,a=pF(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?aF(t,o)(e,n):null,new dF(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=uF(e),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gF=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yF=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ZM(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=fF(t,r,i),s={name:a.fullPath},u=VM(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=nF(a,n),h=e.maxUploadRetryTime,f=new iF(u,"POST",(function(e){var t;pF(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(nM){oF(!1)}return oF(FM(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=uF(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new iF(n,"POST",(function(e){var t=pF(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(nM){oF(!1)}n||oF(!1);var i=Number(n);return oF(!isNaN(i)),new dF(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=uF(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new dF(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=vF(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(nM){return e._error=nM,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=lF(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=fF(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+nF(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=GM.getBlob(c,r,l);if(null===h)throw gM();var f={name:u.fullPath},d=VM(o,e.host),p=e.maxUploadRetryTime,v=new iF(d,"POST",aF(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=uF(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=vM(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=RM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new gF(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(RM(this._state)){case xM.SUCCESS:mF(this._resolve.bind(null,this.snapshot))();break;case xM.CANCELED:case xM.ERROR:mF(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(RM(this._state)){case xM.RUNNING:case xM.PAUSED:e.next&&mF(e.next.bind(e,this.snapshot))();break;case xM.SUCCESS:e.complete&&mF(e.complete.bind(e))();break;case xM.CANCELED:case xM.ERROR:e.error&&mF(e.error.bind(e,this._error))();break;default:e.error&&mF(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),bF=function(){function e(e,t){this._service=e,this._location=t instanceof LM?t:LM.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new LM(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return $M(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new LM(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw bM(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(e){var t={prefixes:[],items:[]};return _F(e,t).then((function(){return t}))}function _F(e,t,n){return Rh(this,void 0,void 0,(function(){var r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return[4,TF(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,_F(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function TF(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&qM("options.maxResults",1,1e3,t.maxResults),n=t||{},r=hF(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function EF(e,t){return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=VM(t.fullServerUrl(),e.host),o=nF(n,r),a=e.maxOperationRetryTime,s=new iF(i,"PATCH",aF(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=cF(t),s}(e.storage,e._location,t,ZM()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function IF(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=VM(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new iF(r,"GET",sF(e,n),i);return o.errorHandler=cF(t),o}(e.storage,e._location,ZM()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new fM("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function SF(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=VM(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new iF(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=cF(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function kF(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new LM(e._location.bucket,n);return new bF(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(e){return/^[A-Za-z]+:\/\//.test(e)}function NF(e,t){if(e instanceof xF){var n=e;if(null==n._bucket)throw new fM("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new bF(n,n._bucket);return null!=t?NF(r,t):r}return void 0!==t?kF(e,t):e}function AF(e,t){if(t&&CF(t)){if(e instanceof xF)return new bF(e,t);throw mM("To use ref(service, url), the first argument must be a Storage instance.")}return NF(e,t)}function PF(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:LM.makeFromBucketSpec(n,e)}var xF=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?LM.makeFromBucketSpec(i,this._host):PF(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=LM.makeFromBucketSpec(this._url,e):this._bucket=PF(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){qM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){qM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Rh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new bF(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new MM(yM());var i=function(e,t,n,r,i,o){var a=BM(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new zM(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new yF(e,new GM(t),n)}(e=Cf(e),t,n)}function DF(e){return function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=lF(e.storage,e._location,ZM()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Cf(e))}function OF(e,t){return AF(e=Cf(e),t)}function LF(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"==typeof i?i:$h(i,e.app.options.projectId))}(e,t,n,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MF=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),FF=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new MF(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new MF(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new MF(e,i,i._ref))}:{next:t.next?function(e){return t.next(new MF(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),UF=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new jF(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new jF(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),jF=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return kF(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new FF(RF(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=TM.RAW),this._throwIfRoot("putString");var r=IM(t,e),i=xh({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new FF(new yF(this._delegate,new GM(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,wF(e=Cf(e))).then((function(e){return new UF(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return TF(e=Cf(e),t)}(this._delegate,e||void 0).then((function(e){return new UF(e,t.storage)}))},e.prototype.getMetadata=function(){return DF(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return EF(e=Cf(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return IF(Cf(this._delegate))},e.prototype.delete=function(){return this._throwIfRoot("delete"),SF(Cf(this._delegate))},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw bM(e)},e}(),qF=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(CF(e))throw mM("ref() expected a child path but got a URL, use refFromURL instead.");return new jF(OF(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!CF(e))throw mM("refFromURL() expected a full URL but got a child path, use ref() instead.");try{LM.makeFromUrl(e,this._delegate.host)}catch(nM){throw mM("refFromUrl() expected a valid full URL but got an invalid one.")}return new jF(OF(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),LF(this._delegate,e,t,n)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new qF(r,new xF(r,i,o,new OM,n,nd.SDK_VERSION))}!function(e){var t={TaskState:xM,TaskEvent:PM,StringFormat:TM,Storage:xF,Reference:jF};e.INTERNAL.registerComponent(new Nf("storage",VF,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.0")}(nd);var BF,zF=((BF={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',BF["not-registered"]="Firebase Installation is not registered.",BF["installation-not-found"]="Firebase Installation not found.",BF["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',BF["app-offline"]="Could not process request. Application offline.",BF["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",BF),KF=new sf("installations","Installations",zF);function WF(e){return e instanceof af&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function GF(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function QF(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,KF.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function $F(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YF(e,t){var n=t.refreshToken,r=$F(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function XF(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function JF(e,t){var n=t.fid;return Rh(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return t=HF(e),r=$F(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,XF((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:GF(s.authToken)}];case 3:return[4,QF("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var eU=/^[cdef][\w-]{21}$/;function tU(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Mh([],Lh(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return eU.test(t)?t:""}catch(n){return""}}function nU(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rU=new Map;function iU(e,t){var n=nU(e);oU(n,t),function(e,t){var n=sU();n&&n.postMessage({key:e,fid:t});uU()}(n,t)}function oU(e,t){var n,r,i=rU.get(e);if(i)try{for(var o=Oh(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var aU=null;function sU(){return!aU&&"BroadcastChannel"in self&&((aU=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){oU(e.data.key,e.data.fid)}),aU}function uU(){0===rU.size&&aU&&(aU.close(),aU=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cU="firebase-installations-store",lU=null;function hU(){return lU||(lU=md("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(cU)}}))),lU}function fU(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return n=nU(e),[4,hU()];case 1:return r=s.sent(),i=r.transaction(cU,"readwrite"),[4,(o=i.objectStore(cU)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||iU(e,t.fid),[2,t]}}))}))}function dU(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return t=nU(e),[4,hU()];case 1:return n=i.sent(),[4,(r=n.transaction(cU,"readwrite")).objectStore(cU).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function pU(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return n=nU(e),[4,hU()];case 1:return r=u.sent(),i=r.transaction(cU,"readwrite"),[4,(o=i.objectStore(cU)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||iU(e,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,pU(e,(function(n){var r=function(e){return yU(e||{fid:tU(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(KF.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,JF(e,t)];case 1:return n=i.sent(),[2,fU(e,n)];case 2:return WF(r=i.sent())&&409===r.customData.serverCode?[4,dU(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,fU(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:gU(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function gU(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,mU(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,ZF(100)];case 3:return o.sent(),[4,mU(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,vU(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function mU(e){return pU(e,(function(e){if(!e)throw KF.create("installation-not-found");return yU(e)}))}function yU(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function bU(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Rh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return HF(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),i=YF(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.32"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,XF((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,GF(c)];case 3:return[4,QF("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function wU(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,pU(e.appConfig,(function(r){if(!TU(r))throw KF.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,_U(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,ZF(100)];case 3:return i.sent(),[4,_U(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,wU(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw KF.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return xh(xh({},e),{authToken:t})}(r);return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,bU(e,t)];case 1:return n=o.sent(),i=xh(xh({},t),{authToken:n}),[4,fU(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!WF(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,dU(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=xh(xh({},t),{authToken:{requestStatus:0}}),[4,fU(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function _U(e){return pU(e,(function(e){if(!TU(e))throw KF.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?xh(xh({},e),{authToken:{requestStatus:0}}):e}))}function TU(e){return void 0!==e&&2===e.registrationStatus}function EU(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,vU(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return HF(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=YF(e,t),i={method:"DELETE",headers:r},[4,XF((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,QF("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function SU(e,t){var n=e.appConfig;return function(e,t){sU();var n=nU(e),r=rU.get(n);r||(r=new Set,rU.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=nU(e),r=rU.get(n);r&&(r.delete(t),0===r.size&&rU.delete(n),uU())}(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(e){return KF.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new Nf("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw kU("App Configuration");if(!e.name)throw kU("App Name");try{for(var r=Oh(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw kU(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,vU(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):wU(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return[4,EU(e.appConfig)];case 1:return n.sent(),[4,wU(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,pU(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw KF.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw KF.create("app-offline");case 3:return[4,IU(t,n)];case 4:return r.sent(),[4,dU(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return SU(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.32")}(nd);var CU,NU,AU,PU=((CU={})["trace started"]="Trace {$traceName} was started before.",CU["trace stopped"]="Trace {$traceName} is not running.",CU["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",CU["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",CU["no window"]="Window is not available.",CU["no app id"]="App id is not available.",CU["no project id"]="Project id is not available.",CU["no api key"]="Api key is not available.",CU["invalid cc log"]="Attempted to queue invalid cc event",CU["FB not default"]="Performance can only start when Firebase app instance is the default one.",CU["RC response not ok"]="RC response is not ok",CU["invalid attribute name"]="Attribute name {$attributeName} is invalid.",CU["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",CU["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",CU["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",CU),xU=new sf("performance","Performance",PU),RU=new Vf("Performance");RU.logLevel=Df.INFO;var DU,OU=function(){function e(e){if(this.window=e,!e)throw xU.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!nf()||(RU.info("IndexedDB is not supported by current browswer"),!1):(RU.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===NU&&(NU=new e(AU)),NU},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function LU(e,t){var n=e.length-t.length;if(n<0||n>1)throw xU.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MU,FU,UU,jU=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=LU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=LU("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw xU.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw xU.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw xU.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===DU&&(DU=new e),DU},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){return MU}(UU=FU||(FU={}))[UU.UNKNOWN=0]="UNKNOWN",UU[UU.VISIBLE=1]="VISIBLE",UU[UU.HIDDEN=2]="HIDDEN";var VU=["firebase_","google_","ga_"],BU=new RegExp("^[a-zA-Z]\\w*$");function zU(){switch(OU.getInstance().document.visibilityState){case"visible":return FU.VISIBLE;case"hidden":return FU.HIDDEN;default:return FU.UNKNOWN}}function KU(){var e=OU.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var WU=!0;function HU(e){var t=function(){var e=OU.getInstance().localStorage;if(!e)return;var t=e.getItem("@firebase/performance/configexpire");if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var r=e.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return t?(GU(t),Promise.resolve()):function(e){return(t=jU.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+jU.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+jU.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:jU.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw xU.create("RC response not ok")}))})).catch((function(){RU.info("Could not fetch config, will use default configs")}));var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e).then(GU).then((function(e){return function(e){var t=OU.getInstance().localStorage;if(!e||!t)return;t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*jU.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}function GU(e){if(!e)return e;var t=jU.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=WU,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=QU(t.tracesSamplingRate),t.logNetworkAfterSampling=QU(t.networkRequestsSamplingRate),e}function QU(e){return Math.random()<=e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $U,YU=1;function XU(){var e;return YU=2,$U=$U||(e=OU.getInstance().document,new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))).then((function(){return(e=jU.getInstance().installationsService.getId()).then((function(e){MU=e})),e;var e})).then((function(e){return HU(e)})).then((function(){return JU()}),(function(){return JU()}))}function JU(){YU=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU,ej=3,tj=[],nj=!1;function rj(e){setTimeout((function(){var e,t;if(0!==ej)return tj.length?(e=tj.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=jU.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||RU.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(tj=Mh(Mh([],t),tj),RU.info("Retry transport request later.")),ej=3,rj(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:jU.getInstance().logSource,log_event:t},e).catch((function(){tj=Mh(Mh([],e),tj),ej--,RU.info("Tries left: "+ej+"."),rj(1e4)}))):rj(1e4)}),e)}function ij(e){if(!e.eventTime||!e.message)throw xU.create("invalid cc log");tj=Mh(Mh([],tj),[e])}function oj(e,t){var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ZU||(n=uj,ZU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ij({message:n.apply(void 0,e),eventTime:Date.now()})}),ZU(e,t)}function aj(e){var t=jU.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&OU.getInstance().requiredApisAvailable()&&(e.isAuto&&zU()!==FU.VISIBLE||(3===YU?sj(e):XU().then((function(){return sj(e)}),(function(){return sj(e)}))))}function sj(e){if(qU()){var t=jU.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return oj(e,1)}),0)}}function uj(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:cj(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:cj(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function cj(){return{google_app_id:jU.getInstance().getAppId(),app_instance_id:qU(),web_app_info:{sdk_version:"0.4.18",page_url:OU.getInstance().getUrl(),service_worker_status:(e=OU.getInstance().navigator,"serviceWorker"in e?e.serviceWorker.controller?2:3:1),visibility_state:zU(),effective_connection_type:KU()},application_process_state:0};var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lj=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hj=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=OU.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw xU.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw xU.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),aj(this)},e.prototype.record=function(e,t,n){if(e<=0)throw xU.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw xU.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=xh({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}aj(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith("_wt_")&&lj.indexOf(i)>-1)&&i.startsWith("_"))throw xU.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&RU.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||VU.some((function(e){return n.startsWith(e)}))||!n.match(BU)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw xU.create("invalid attribute name",{attributeName:e});if(!i)throw xU.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return xh({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=OU.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*OU.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}aj(o)}},e.createUserTimingTrace=function(t){aj(new e(t,!1,t))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(e){var t=e;if(t&&void 0!==t.responseStart){var n=OU.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=jU.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return oj(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){qU()&&(setTimeout((function(){return function(){var e=OU.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){hj.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),hj.createOobTrace(t,n,e))}))}else hj.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=OU.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){fj(r[n])}e.setupObserver("resource",fj)}()}),0),setTimeout((function(){return function(){for(var e=OU.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){pj(r[n])}e.setupObserver("measure",pj)}()}),0))}function pj(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&hj.createUserTimingTrace(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vj=function(){function e(e){this.app=e,OU.getInstance().requiredApisAvailable()&&rf().then((function(e){e&&(nj||(rj(5500),nj=!0),XU().then(dj,dj))})).catch((function(e){RU.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new hj(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return jU.getInstance().instrumentationEnabled},set:function(e){jU.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return jU.getInstance().dataCollectionEnabled},set:function(e){jU.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw xU.create("FB not default");if("undefined"==typeof window)throw xU.create("no window");var n;return n=window,AU=n,jU.getInstance().firebaseAppInstance=e,jU.getInstance().installationsService=t,new vj(e)};e.INTERNAL.registerComponent(new Nf("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.18")}(nd);var gj,mj=((gj={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',gj["not-registered"]="Firebase Installation is not registered.",gj["installation-not-found"]="Firebase Installation not found.",gj["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',gj["app-offline"]="Could not process request. Application offline.",gj["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",gj),yj=new sf("installations","Installations",mj);function bj(e){return e instanceof af&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function _j(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Tj(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,yj.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Ej(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ij(e,t){var n=t.refreshToken,r=Ej(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function Sj(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function kj(e,t){var n=t.fid;return Rh(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return t=wj(e),r=Ej(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Sj((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:_j(s.authToken)}];case 3:return[4,Tj("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nj=/^[cdef][\w-]{21}$/;function Aj(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Mh([],Lh(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return Nj.test(t)?t:""}catch(n){return""}}function Pj(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xj=new Map;function Rj(e,t){var n=Pj(e);Dj(n,t),function(e,t){var n=Lj();n&&n.postMessage({key:e,fid:t});Mj()}(n,t)}function Dj(e,t){var n,r,i=xj.get(e);if(i)try{for(var o=Oh(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Oj=null;function Lj(){return!Oj&&"BroadcastChannel"in self&&((Oj=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Dj(e.data.key,e.data.fid)}),Oj}function Mj(){0===xj.size&&Oj&&(Oj.close(),Oj=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fj="firebase-installations-store",Uj=null;function jj(){return Uj||(Uj=md("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Fj)}}))),Uj}function qj(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return n=Pj(e),[4,jj()];case 1:return r=s.sent(),i=r.transaction(Fj,"readwrite"),[4,(o=i.objectStore(Fj)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Rj(e,t.fid),[2,t]}}))}))}function Vj(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return t=Pj(e),[4,jj()];case 1:return n=i.sent(),[4,(r=n.transaction(Fj,"readwrite")).objectStore(Fj).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Bj(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return n=Pj(e),[4,jj()];case 1:return r=u.sent(),i=r.transaction(Fj,"readwrite"),[4,(o=i.objectStore(Fj)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Rj(e,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,Bj(e,(function(n){var r=function(e){return Hj(e||{fid:Aj(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(yj.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,kj(e,t)];case 1:return n=i.sent(),[2,qj(e,n)];case 2:return bj(r=i.sent())&&409===r.customData.serverCode?[4,Vj(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,qj(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Kj(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function Kj(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,Wj(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Cj(100)];case 3:return o.sent(),[4,Wj(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,zj(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Wj(e){return Bj(e,(function(e){if(!e)throw yj.create("installation-not-found");return Hj(e)}))}function Hj(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Gj(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Rh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return wj(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),i=Ij(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.32"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Sj((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,_j(c)];case 3:return[4,Tj("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Qj(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,Bj(e.appConfig,(function(r){if(!Yj(r))throw yj.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,$j(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Cj(100)];case 3:return i.sent(),[4,$j(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Qj(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw yj.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return xh(xh({},e),{authToken:t})}(r);return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Gj(e,t)];case 1:return n=o.sent(),i=xh(xh({},t),{authToken:n}),[4,qj(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!bj(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Vj(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=xh(xh({},t),{authToken:{requestStatus:0}}),[4,qj(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function $j(e){return Bj(e,(function(e){if(!Yj(e))throw yj.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?xh(xh({},e),{authToken:{requestStatus:0}}):e}))}function Yj(e){return void 0!==e&&2===e.registrationStatus}function Xj(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,zj(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return wj(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=Ij(e,t),i={method:"DELETE",headers:r},[4,Sj((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Tj("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zj(e,t){var n=e.appConfig;return function(e,t){Lj();var n=Pj(e),r=xj.get(n);r||(r=new Set,xj.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Pj(e),r=xj.get(n);r&&(r.delete(t),0===r.size&&xj.delete(n),Mj())}(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(e){return yj.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new Nf("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw eq("App Configuration");if(!e.name)throw eq("App Name");try{for(var r=Oh(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw eq(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,zj(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Qj(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return[4,Xj(e.appConfig)];case 1:return n.sent(),[4,Qj(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,Bj(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw yj.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw yj.create("app-offline");case 3:return[4,Jj(t,n)];case 4:return r.sent(),[4,Vj(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return Zj(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.32")}(nd);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tq,nq,rq,iq,oq="https://www.googletagmanager.com/gtag/js";(nq=tq||(tq={})).EVENT="event",nq.SET="set",nq.CONFIG="config",(iq=rq||(rq={})).ADD_SHIPPING_INFO="add_shipping_info",iq.ADD_PAYMENT_INFO="add_payment_info",iq.ADD_TO_CART="add_to_cart",iq.ADD_TO_WISHLIST="add_to_wishlist",iq.BEGIN_CHECKOUT="begin_checkout",iq.CHECKOUT_PROGRESS="checkout_progress",iq.EXCEPTION="exception",iq.GENERATE_LEAD="generate_lead",iq.LOGIN="login",iq.PAGE_VIEW="page_view",iq.PURCHASE="purchase",iq.REFUND="refund",iq.REMOVE_FROM_CART="remove_from_cart",iq.SCREEN_VIEW="screen_view",iq.SEARCH="search",iq.SELECT_CONTENT="select_content",iq.SELECT_ITEM="select_item",iq.SELECT_PROMOTION="select_promotion",iq.SET_CHECKOUT_OPTION="set_checkout_option",iq.SHARE="share",iq.SIGN_UP="sign_up",iq.TIMING_COMPLETE="timing_complete",iq.VIEW_CART="view_cart",iq.VIEW_ITEM="view_item",iq.VIEW_ITEM_LIST="view_item_list",iq.VIEW_PROMOTION="view_promotion",iq.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var aq,sq=new Vf("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(e,t,n,r,i,o){return Rh(this,void 0,void 0,(function(){var a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),sq.error(c),[3,8];case 8:return e(tq.CONFIG,i,o),[2]}}))}))}function cq(e,t,n,r,i){return Rh(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return Dh(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(tq.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),sq.error(f),[3,5];case 5:return[2]}}))}))}function lq(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return Rh(this,void 0,void 0,(function(){var s;return Dh(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==tq.EVENT?[3,2]:[4,cq(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==tq.CONFIG?[3,4]:[4,uq(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(tq.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),sq.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var hq=((aq={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",aq["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",aq["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",aq["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",aq["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",aq["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",aq["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",aq["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',aq["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',aq),fq=new sf("analytics","Analytics",hq),dq=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function pq(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function vq(e){var t;return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Dh(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:pq(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw fq.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function gq(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=dq),Rh(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return Dh(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,mq(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return sq.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,vq(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof af&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return sq.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?kf(o,r.intervalMillis,30):kf(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),sq.debug("Calling attemptFetch again in "+l+" millis"),[2,gq(e,h,n,r)];case 7:return[2]}}))}))}function mq(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(fq.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var yq=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(e,t,n,r,i,o){return Rh(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return Dh(this,(function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=dq),Rh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return Dh(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw fq.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw fq.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new yq,setTimeout((function(){return Rh(c,void 0,void 0,(function(){return Dh(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,gq({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&sq.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return sq.error(e)})),t.push(a),s=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:return nf()?[3,1]:(sq.warn(fq.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,rf()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),sq.warn(fq.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(oq))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(e,t){var n=document.createElement("script");n.src=oq+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(tq.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wq,_q,Tq={},Eq=[],Iq={},Sq="dataLayer",kq="gtag",Cq=!1;function Nq(e){if(Cq)throw fq.create("already-initialized");e.dataLayerName&&(Sq=e.dataLayerName),e.gtagName&&(kq=e.gtagName)}function Aq(e,t){!function(){var e=[];if(Zh()&&e.push("This is a browser extension environment."),of()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=fq.create("invalid-analytics-context",{errorInfo:t});sq.warn(n.message)}}();var n,r,i=e.options.appId;if(!i)throw fq.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw fq.create("no-api-key");sq.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Tq[i])throw fq.create("already-exists",{id:i});if(!Cq){n=Sq,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=lq(Tq,Eq,Iq,Sq,kq),a=o.wrappedGtag,s=o.gtagCore;_q=a,wq=s,Cq=!0}return Tq[i]=bq(e,Eq,Iq,t,wq,Sq),{app:e,logEvent:function(e,t,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n,r,i){return Rh(this,void 0,void 0,(function(){var o,a;return Dh(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(tq.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=xh(xh({},r),{send_to:o}),e(tq.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(_q,Tq[i],e,t,n).catch((function(e){return sq.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i;return Dh(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(tq.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(tq.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(_q,Tq[i],e,t).catch((function(e){return sq.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i;return Dh(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(tq.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(tq.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(_q,Tq[i],e,t).catch((function(e){return sq.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Rh(this,void 0,void 0,(function(){var i,o,a,s,u;return Dh(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(tq.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(tq.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(_q,Tq[i],e,t).catch((function(e){return sq.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Rh(this,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Tq[i],e).catch((function(e){return sq.error(e)}))},INTERNAL:{delete:function(){return delete Tq[i],Promise.resolve()}}}}function Pq(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:if(Zh())return[2,!1];if(!of())return[2,!1];if(!nf())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,rf()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Nf("analytics",(function(e){return Aq(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Nq,EventName:rq,isSupported:Pq})),e.INTERNAL.registerComponent(new Nf("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(nM){throw fq.create("interop-component-reg-failed",{reason:nM})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(nd);var xq,Rq=((xq={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xq["not-registered"]="Firebase Installation is not registered.",xq["installation-not-found"]="Firebase Installation not found.",xq["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',xq["app-offline"]="Could not process request. Application offline.",xq["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",xq),Dq=new sf("installations","Installations",Rq);function Oq(e){return e instanceof af&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Mq(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Fq(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Dq.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Uq(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jq(e,t){var n=t.refreshToken,r=Uq(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function qq(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Vq(e,t){var n=t.fid;return Rh(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return t=Lq(e),r=Uq(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,qq((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Mq(s.authToken)}];case 3:return[4,Fq("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zq=/^[cdef][\w-]{21}$/;function Kq(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Mh([],Lh(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return zq.test(t)?t:""}catch(n){return""}}function Wq(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hq=new Map;function Gq(e,t){var n=Wq(e);Qq(n,t),function(e,t){var n=Yq();n&&n.postMessage({key:e,fid:t});Xq()}(n,t)}function Qq(e,t){var n,r,i=Hq.get(e);if(i)try{for(var o=Oh(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var $q=null;function Yq(){return!$q&&"BroadcastChannel"in self&&(($q=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Qq(e.data.key,e.data.fid)}),$q}function Xq(){0===Hq.size&&$q&&($q.close(),$q=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jq="firebase-installations-store",Zq=null;function eV(){return Zq||(Zq=md("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Jq)}}))),Zq}function tV(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a;return Dh(this,(function(s){switch(s.label){case 0:return n=Wq(e),[4,eV()];case 1:return r=s.sent(),i=r.transaction(Jq,"readwrite"),[4,(o=i.objectStore(Jq)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Gq(e,t.fid),[2,t]}}))}))}function nV(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return t=Wq(e),[4,eV()];case 1:return n=i.sent(),[4,(r=n.transaction(Jq,"readwrite")).objectStore(Jq).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function rV(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Dh(this,(function(u){switch(u.label){case 0:return n=Wq(e),[4,eV()];case 1:return r=u.sent(),i=r.transaction(Jq,"readwrite"),[4,(o=i.objectStore(Jq)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Gq(e,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,rV(e,(function(n){var r=function(e){return sV(e||{fid:Kq(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Dq.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Vq(e,t)];case 1:return n=i.sent(),[2,tV(e,n)];case 2:return Oq(r=i.sent())&&409===r.customData.serverCode?[4,nV(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,tV(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:oV(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function oV(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,aV(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Bq(100)];case 3:return o.sent(),[4,aV(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,iV(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function aV(e){return rV(e,(function(e){if(!e)throw Dq.create("installation-not-found");return sV(e)}))}function sV(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function uV(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Rh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Dh(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Lq(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),i=jq(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.32"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,qq((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Mq(c)];case 3:return[4,Fq("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function cV(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,rV(e.appConfig,(function(r){if(!hV(r))throw Dq.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,lV(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Bq(100)];case 3:return i.sent(),[4,lV(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,cV(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Dq.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return xh(xh({},e),{authToken:t})}(r);return n=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,uV(e,t)];case 1:return n=o.sent(),i=xh(xh({},t),{authToken:n}),[4,tV(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Oq(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,nV(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=xh(xh({},t),{authToken:{requestStatus:0}}),[4,tV(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function lV(e){return rV(e,(function(e){if(!hV(e))throw Dq.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?xh(xh({},e),{authToken:{requestStatus:0}}):e}))}function hV(e){return void 0!==e&&2===e.registrationStatus}function fV(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,iV(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Lq(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t),r=jq(e,t),i={method:"DELETE",headers:r},[4,qq((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Fq("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pV(e,t){var n=e.appConfig;return function(e,t){Yq();var n=Wq(e),r=Hq.get(n);r||(r=new Set,Hq.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Wq(e),r=Hq.get(n);r&&(r.delete(t),0===r.size&&Hq.delete(n),Xq())}(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(e){return Dq.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.INTERNAL.registerComponent(new Nf("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw vV("App Configuration");if(!e.name)throw vV("App Name");try{for(var r=Oh(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw vV(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e){return Rh(this,void 0,void 0,(function(){var t,n,r;return Dh(this,(function(i){switch(i.label){case 0:return[4,iV(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):cV(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Rh(this,void 0,void 0,(function(){return Dh(this,(function(n){switch(n.label){case 0:return[4,fV(e.appConfig)];case 1:return n.sent(),[4,cV(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,rV(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Dq.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Dq.create("app-offline");case 3:return[4,dV(t,n)];case 4:return r.sent(),[4,nV(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return pV(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.32")}(nd);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gV,mV=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),yV=((gV={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",gV["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",gV["registration-api-key"]="Undefined API key. Check Firebase app initialization.",gV["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",gV["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",gV["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",gV["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",gV["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",gV["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",gV["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',gV["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',gV["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",gV["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",gV),bV=new sf("remoteconfig","Remote Config",yV);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wV=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,g,m,y,b;return Dh(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=w.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),bV.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return y=w.sent(),[3,10];case 9:throw b=w.sent(),bV.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,m=y.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?p=500:"NO_CHANGE"===m?p=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==p&&200!==p)throw bV.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},e}(),_V=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),TV=["1","true","t","yes","y","on"],EV=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&TV.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),IV=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Df.DEBUG;break;case"silent":this._logger.logLevel=Df.SILENT;break;default:this._logger.logLevel=Df.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Rh(this,void 0,void 0,(function(){var e,t,n;return Dh(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Rh(this,void 0,void 0,(function(){var e,t,n,r=this;return Dh(this,(function(i){switch(i.label){case 0:e=new _V,setTimeout((function(){return Rh(r,void 0,void 0,(function(){return Dh(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof af&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return Rh(this,void 0,void 0,(function(){return Dh(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(xh(xh({},e),t))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new EV("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new EV("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new EV("static"))},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(e,t){var n=e.target.error||void 0;return bV.create(t,{originalErrorMessage:n&&n.message})}var kV=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(SV(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Rh(this,void 0,void 0,(function(){var t,n=this;return Dh(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(SV(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(nM){i(bV.create("storage-get",{originalErrorMessage:nM&&nM.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Rh(this,void 0,void 0,(function(){var n,r=this;return Dh(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(SV(e,"storage-set"))},u.onsuccess=function(){i()}}catch(nM){o(bV.create("storage-set",{originalErrorMessage:nM&&nM.message}))}}))]}}))}))},e.prototype.delete=function(e){return Rh(this,void 0,void 0,(function(){var t,n=this;return Dh(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(SV(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(nM){i(bV.create("storage-delete",{originalErrorMessage:nM&&nM.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),CV=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Rh(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function NV(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(bV.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var AV,PV,xV=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Rh(this,void 0,void 0,(function(){var t,i,o;return Dh(this,(function(a){switch(a.label){case 0:return[4,NV(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof af&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+kf(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),RV="@firebase/remote-config";(AV=nd).INTERNAL.registerComponent(new Nf("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw bV.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw bV.create("registration-project-id");if(!s)throw bV.create("registration-api-key");if(!u)throw bV.create("registration-app-id");n=n||"firebase";var c=new kV(u,r.name,n),l=new CV(c),h=new Vf(RV);h.logLevel=Df.ERROR;var f=new wV(i,AV.SDK_VERSION,n,a,s,u),d=new xV(f,c),p=new mV(d,c,l,h),v=new IV(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),AV.registerVersion(RV,"0.1.43");var DV=((PV={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",PV["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",PV["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",PV["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",PV["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",PV["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",PV["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",PV["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",PV["recaptcha-error"]="ReCAPTCHA error.",PV),OV=new sf("appCheck","AppCheck",DV),LV=new Map,MV={activated:!1,tokenObservers:[]},FV={enabled:!1};function UV(e){return LV.get(e)||MV}function jV(e,t){LV.set(e,t)}function qV(){return FV}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VV="https://content-firebaseappcheck.googleapis.com/v1beta",BV=3e4,zV=96e4,KV=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new Qh,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new Qh,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function WV(){return self.grecaptcha}function HV(e){if(!UV(e).activated)throw OV.create("use-before-activation",{appName:e.name})}function GV(e){return Bh.encodeString(JSON.stringify(e),!1)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(e,t){var n=e.url,r=e.body;return Rh(this,void 0,void 0,(function(){var e,i,o,a,s,u,c,l,h,f;return Dh(this,(function(d){switch(d.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),o={method:"POST",body:JSON.stringify(r),headers:e},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,fetch(n,o)];case 2:return a=d.sent(),[3,4];case 3:throw s=d.sent(),OV.create("fetch-network-error",{originalErrorMessage:s.message});case 4:if(200!==a.status)throw OV.create("fetch-status-error",{httpStatus:a.status});d.label=5;case 5:return d.trys.push([5,7,,8]),[4,a.json()];case 6:return u=d.sent(),[3,8];case 7:throw c=d.sent(),OV.create("fetch-parse-error",{originalErrorMessage:c.message});case 8:if(!(l=u.ttl.match(/^([\d.]+)(s)$/))||!l[2]||isNaN(Number(l[1])))throw OV.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return h=1e3*Number(l[1]),f=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:f+h,issuedAtTimeMillis:f}]}}))}))}function $V(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:VV+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function YV(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:VV+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XV="firebase-app-check-store",JV=null;function ZV(){return JV||(JV=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(OV.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(XV,{keyPath:"compositeKey"})}}}catch(nM){t(OV.create("storage-open",{originalErrorMessage:nM.message}))}})))}function eB(e){return nB(rB(e))}function tB(e,t){return Rh(this,void 0,void 0,(function(){var n,r,i,o;return Dh(this,(function(a){switch(a.label){case 0:return[4,ZV()];case 1:return n=a.sent(),r=n.transaction(XV,"readwrite"),i=r.objectStore(XV),o=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){o.onsuccess=function(t){e()},r.onerror=function(e){var n;t(OV.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function nB(e){return Rh(this,void 0,void 0,(function(){var t,n,r,i;return Dh(this,(function(o){switch(o.label){case 0:return[4,ZV()];case 1:return t=o.sent(),n=t.transaction(XV,"readonly"),r=n.objectStore(XV),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(OV.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function rB(e){return e.options.appId+"-"+e.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iB=new Vf("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(e,t){return nf()?function(e,t){return tB(rB(e),t)}(e,t).catch((function(e){iB.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function aB(){return Rh(this,void 0,void 0,(function(){var e,t;return Dh(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,nB("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,tB("debug-token",r)).catch((function(e){return iB.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){if((e=qV()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var uB={error:"UNKNOWN_ERROR"};function cB(e,t,n){return void 0===n&&(n=!1),Rh(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Dh(this,(function(d){switch(d.label){case 0:return HV(e),r=UV(e),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(a=d.sent())&&dB(a)&&(i=a,jV(e,xh(xh({},r),{token:i})),fB(e,{token:i.token})),d.label=2;case 2:return!n&&i&&dB(i)?[2,{token:i.token}]:qV().enabled?(u=QV,c=YV,l=[e],[4,sB()]):[3,6];case 3:return[4,u.apply(void 0,[c.apply(void 0,l.concat([d.sent()])),t])];case 4:return s=d.sent(),[4,oB(e,s)];case 5:return d.sent(),jV(e,xh(xh({},r),{token:s})),[2,{token:s.token}];case 6:return d.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=d.sent(),[3,9];case 8:return h=d.sent(),iB.error(h),o=h,[3,9];case 9:return i?[3,10]:(f=function(e){return{token:GV(uB),error:e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(o),[3,12]);case 10:return f={token:i.token},jV(e,xh(xh({},r),{token:i})),[4,oB(e,i)];case 11:d.sent(),d.label=12;case 12:return fB(e,f),[2,f]}}))}))}function lB(e,t,n,r,i){var o=UV(e),a={next:r,error:i,type:n},s=xh(xh({},o),{tokenObservers:Mh(Mh([],o.tokenObservers),[a])});if(!s.tokenRefresher){var u=function(e,t){var n=this;return new KV((function(){return Rh(n,void 0,void 0,(function(){var n;return Dh(this,(function(r){switch(r.label){case 0:return UV(e).token?[3,2]:[4,cB(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,cB(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=UV(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),BV,zV)}(e,t);s.tokenRefresher=u}if(!s.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&s.tokenRefresher.start(),o.token&&dB(o.token)){var c=o.token;Promise.resolve().then((function(){return r({token:c.token})})).catch((function(){}))}else null==o.token&&o.cachedTokenPromise.then((function(e){e&&dB(e)&&r({token:e.token})})).catch((function(){}));jV(e,s)}function hB(e,t){var n=UV(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),jV(e,xh(xh({},n),{tokenObservers:r}))}function fB(e,t){for(var n=0,r=UV(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function dB(e){return e.expireTimeMillis-Date.now()>0}function pB(e,t){var n=UV(e),r=new Qh;jV(e,xh(xh({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a,s,u=WV();return u?u.ready((function(){gB(e,t,u,i),r.resolve(u)})):(a=function(){var n=WV();if(!n)throw new Error("no recaptcha");n.ready((function(){gB(e,t,n,i),r.resolve(n)}))},(s=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",s.onload=a,document.head.appendChild(s)),r.promise}function vB(e){return Rh(this,void 0,void 0,(function(){var t;return Dh(this,(function(n){switch(n.label){case 0:return HV(e),[4,UV(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=UV(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function gB(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),o=UV(e);jV(e,xh(xh({},o),{reCAPTCHAState:xh(xh({},o.reCAPTCHAState),{widgetId:i})}))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mB=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return Rh(this,void 0,void 0,(function(){var e;return Dh(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw OV.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,vB(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),OV.create("recaptcha-error");case 4:return[2,QV($V(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,pB(e,this._siteKey).catch((function(){}))},e}(),yB=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return Rh(this,void 0,void 0,(function(){var e,t,n;return Dh(this,(function(r){switch(r.label){case 0:if(!this._app)throw OV.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),i=e.token,o=ff(i).claims,t="object"==typeof o&&o.hasOwnProperty("iat")?o.iat:null,n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,xh(xh({},e),{issuedAtTimeMillis:n})]}var i,o}))}))},e.prototype.initialize=function(e){this._app=e},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bB(e,t,n,r){var i=UV(e);if(i.activated)throw OV.create("already-activated",{appName:e.name});var o=xh(xh({},i),{activated:!0});o.cachedTokenPromise=function(e){return Rh(this,void 0,void 0,(function(){var t,n;return Dh(this,(function(r){switch(r.label){case 0:if(!nf())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,eB(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),iB.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&dB(t)&&jV(e,xh(xh({},UV(e)),{token:t})),t})),o.provider="string"==typeof t?new mB(t):t instanceof mB||t instanceof yB?t:new yB({getToken:t.getToken}),o.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,jV(e,o),o.provider.initialize(e,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function wB(e,t){return{app:e,activate:function(n,r){return bB(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=UV(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),jV(e,xh(xh({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return Rh(this,void 0,void 0,(function(){var r;return Dh(this,(function(i){switch(i.label){case 0:return[4,cB(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),lB(e,t,"EXTERNAL",o,a),function(){return hB(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=UV(e).tokenObservers;t<n.length;t++){var r=n[t];hB(e,r.next)}return Promise.resolve()}}}}!function(e){e.INTERNAL.registerComponent(new Nf("appCheck",(function(e){return wB(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:mB,CustomProvider:yB}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("app-check-internal").initialize()}))),e.INTERNAL.registerComponent(new Nf("app-check-internal",(function(e){return function(e,t){return{getToken:function(n){return cB(e,t,n)},addTokenListener:function(n){return lB(e,t,"INTERNAL",n)},removeTokenListener:function(t){return hB(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(nd),function(){var e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=qV();t.enabled=!0;var n=new Qh;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(aB())}}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
nd.registerVersion("firebase","8.10.0","app"),nd.SDK_VERSION="8.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),nd.registerVersion("firebase","8.10.0");export{wh as B,kh as L,F as R,bh as S,ph as a,yh as b,Qc as c,nd as f,e as r};
